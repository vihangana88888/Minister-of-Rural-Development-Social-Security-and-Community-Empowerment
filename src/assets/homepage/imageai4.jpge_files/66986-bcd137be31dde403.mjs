(self.modernJsonp=self.modernJsonp||[]).push([["66986"],{579358:function(e,t,n){n.d(t,{F9:()=>d,LM:()=>l,VZ:()=>o,cQ:()=>u,rZ:()=>r});var i=n(210811),a=n(901360);let o=()=>"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll,r=e=>e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null,s=e=>{if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.attributes.poster.value;let t=((e.style||{}).backgroundImage||"").match(/^url\(["'](.*)["']\)$/);return t&&t[1]||null},l=()=>document.querySelector?document.querySelectorAll(i.wc).length:((0,a.H)("missing_document_query_selector"),0),d=()=>{let e=(()=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),null;let e=document.querySelectorAll(i.wc);return e[e.length-1]||null})();if(!e)return!1;let t=window.innerHeight||0,n=window.pageYOffset||0;return e.getBoundingClientRect().top+n>=t},u=(e,t,n)=>{if(!document.querySelector)return(0,a.H)("missing_document_query_selector"),[];let o={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},l=[i.Wf,...e?[i.fF]:[],...t?[i.$N]:[]].join(","),d=[...document.querySelectorAll(l)];if(n){let e=[...document.querySelectorAll('div[data-test-id="board-section"]')],t=e=>{let n=[...e.children];!n.length&&e.style.backgroundImage?d.push(e):n.length&&n.forEach(e=>{t(e)})};e.forEach(e=>{t(e)})}return d.reduce((e,n)=>{if((n instanceof HTMLImageElement||n instanceof HTMLDivElement||n instanceof HTMLVideoElement&&t)&&((e,t)=>{let n=r(e);if(!n)return(0,a.H)("missing_client_rect"),!1;if(n.width<70&&n.height<70){if(e instanceof HTMLImageElement)return!1;let t=s(e);if(t?.endsWith("svg"))return!1}return(({top:e,height:t},{foldY:n,pageYOffset:i})=>{let a=e+i;if(a>=n)return!1;let o=Math.min(t,n-a);return o>.5*t||o>.2*n})(n,t)})(n,o)){let t=s(n);if(t){let i=(t||"").replace(/.*\//,"");return e.concat([{element:n,fileName:i}])}}return e},[])}},210811:function(e,t,n){n.d(t,{$N:()=>l,Kb:()=>i,Wf:()=>r,fF:()=>s,wc:()=>o});let i="pwt-grid-item",a=['div[data-grid-item="true"]',"div.Grid__Item",`div[data-test-id="${i}"]`],o=a.join(","),r=a.map(e=>`${e} img`).join(","),s=a.map(e=>`${e} div[style*=background-image]`).join(","),l=a.map(e=>`${e} video`).join(",")},336057:function(e,t,n){n.d(t,{Z:()=>g,v:()=>p});var i=n(667294),a=n(592109),o=n(579358),r=n(901360),s=n(392824),l=n(293169),d=n(754545),u=n(956077),m=n(610046),c=n(603316);let _=(0,a.XV)("GridProfiler"),p=()=>!!window.addEventListener&&!!window.removeEventListener&&(0,o.VZ)();function g({isAtEndOfFeed:e,pinData:t,includeBackgroundImages:n,includeVideos:p=!1,includeSections:g,isPlaceholderGrid:f,stopwatchSetVisuallyCompleteResult:v,stopwatchContext:E}){let w=(0,d.P9)(),[N,h]=(0,i.useState)({status:"DISABLED"});(0,i.useEffect)(()=>{h({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[w]),(0,i.useEffect)(()=>{if(_("new status",N),"LAYOUT"===N.status){let e=((e,t)=>{let n=()=>{window.removeEventListener(e,n),t()};return window.addEventListener(e,n),()=>window.removeEventListener(e,n)})("scroll",()=>{(0,s.ZP)("scrollDuringLayout")});return()=>{e()}}return()=>{}},[N.status]),(0,m.Z)(()=>{let i=(0,d.Ly)(),s=()=>{},m=e=>{(0,d.JG)(e),E&&E?.abort()};"unknown"!==i?s=u.rt:(i=`${E?.name}`,E?.addBinaryAnnotation&&(s=E?.addBinaryAnnotation));let w=(0,o.cQ)(n,p,g);if(f)return void _("bypassing PWT run due to skeleton pin grid");switch(N.status){case"LAYOUT":{let t=((e,t)=>{if(!t){let t=(0,o.LM)();if(t===e)return _("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,o.F9)())return _("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}})(N.numOfItemsChecked,e);t.complete?h({status:"TIMING",failedCount:0,pinElements:w}):500*N.failedCount>6e4?((0,r.A9)(`images.${i}.visuallyComplete.maxLayoutAttempt`),m("visuallyComplete_layoutTimeout"),h({status:"DISABLED"})):h({...N,failedCount:N.failedCount+1,numOfItemsChecked:t.numOfItemsChecked});break}case"TIMING":{let e=(0,l.Cg)(),n=N.pinElements.length,o=[],u=0,p=0,g=0,f=1/0,E=0;if(N.pinElements.forEach(({element:t,fileName:n})=>{let r=e.find(e=>e.name.endsWith(n));r?r.responseEnd?(o.push(r),(0,a.v5)(t,"green"),"SEARCH_FEED_RENDER"===i&&(f=Math.min(f,r.requestStart),E=Math.max(E,r.responseEnd))):(g+=1,(0,a.v5)(t,"blue")):t instanceof HTMLImageElement&&t.complete?(p+=1,(0,a.v5)(t,"red")):(u+=1,(0,a.v5)(t,"greenyellow"))}),u||g)100*N.failedCount>6e4?((0,r.A9)(`images.${i}.visuallyComplete.maxAttempt`,{tags:{totalImageCount:n,incompleteCount:u,noTimingCount:p,noTimingResponseEndCount:g}}),m("visuallyComplete_timingTimeout"),h({status:"DISABLED"})):h({...N,failedCount:N.failedCount+1});else{if(_(`All ${o.length} images are fetched`),t&&t.length){var T,L;let e,n,a,o,l,u=(T=t,L=N.pinElements,e=0,n=0,a=0,o=0,l=0,T=T.filter(e=>"pin"===e.type),L.forEach((t,i)=>{let r,s=t.fileName.split(".")[0];r=T[i],s!==r?.image_signature&&(r=T.find(e=>s===e?.image_signature)),void 0===r?l+=1:r.is_promoted||r.recommendation_reason?.reason==="PROMOTED_PIN"||r?.promoter?.length?a+=1:null!==r.story_pin_data_id&&void 0!==r.story_pin_data_id?e+=1:r?.videos?.video_list?n+=1:o+=1}),{storyPinCount:e,videoCount:n,adCount:a,imageCount:o,unknownCount:l});if(Object.entries(u).forEach(([e,t])=>{s(e,t,"I16"),(0,d.XJ)(e,t,"I16")}),(0,r.A9)(`${i}.pinTypes`,{tags:u}),"SEARCH_FEED_RENDER"===i){let e=E-f;t[0].display_options?.num_columns_requested===0?(0,c.LY)("full_width_story_image_fetch_time_true",e,{sampleRate:1}):(0,c.LY)("full_width_story_image_fetch_time_false",e,{sampleRate:.05})}}(({imageTimings:e})=>{v&&v(),(0,d.cB)(e)})({imageTimings:o}),h({status:"DISABLED"}),(0,r.A9)(`images.${i}.visuallyComplete.complete`,{tags:{totalImageCount:n,noTimingCount:p}})}}}},"LAYOUT"===N.status&&500||"TIMING"===N.status&&100||null)}},30880:function(e,t,n){n.d(t,{Z:()=>r});var i=n(32259);let a=null;function o(e){(0,i.El)({eventName:`perf.not_supported.${e}`})}function r(){if(a)return a;try{if(!window.performance||!performance)return o("window_performance"),a=!1,!1;if(!window.PerformanceObserver||!PerformanceObserver)return o("window_PerformanceObserver"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes)return o("window_PerformanceObserver_supportedEntryTypes"),a=!1,!1;if(!PerformanceObserver.supportedEntryTypes.includes("mark"))return o("window_PerformanceObserver_supportedEntryTypes_mark"),a=!1,!1;a=["mark","measure","now","setResourceTimingBufferSize"].reduce((e,t)=>(window.performance[t]&&performance[t]||(o(`window_performance_${t}`),e=!1),e),!0)}catch(e){(0,i.jn)({errorName:e})}return a}},754545:function(e,t,n){let i,a,o;n.d(t,{Eq:()=>D,yh:()=>S,XJ:()=>M,Lg:()=>q,cB:()=>$,Ly:()=>G,JG:()=>H,P9:()=>V,ZP:()=>k,ep:()=>U,$e:()=>W});var r=n(392824),s=n(703393),l=n(735201),d=n(868178),u=n(286036),m=n(573746);let c=!1;function _(){if(c)return;let e=window.innerHeight,t=window.innerWidth,n=()=>{let i=(0,m.bC)(),a=Math.abs(window.innerHeight-e),o=window.innerHeight!==e,r=window.innerWidth!==t;if("phone"===i.deviceType&&(!r&&o&&a<=150||!o&&!r)||"desktop"===i.deviceType&&!o&&!r){window.removeEventListener("resize",n),c=!1;return}H("windowResized"),window.removeEventListener("resize",n),c=!1};window.addEventListener("resize",n),c=!0}var p=n(30880);let g=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],f=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["NavigationCompletev4","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["NavigationCompletev4","PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["NavigationCompletev4","image","resource","button"],segments:{product_detail_page:"PRODUCT_DETAILS_INTERACTIVE",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["NavigationCompletev4","button","video","description","shopButton","thumbnailsLoaded","image","resource"],segments:{story_pin:"STORY_PIN_CLOSEUP",product_detail_page:"PRODUCT_DETAILS_RENDER",product_detail_page_plus:"PRODUCT_DETAILS_PLUS_RENDER"}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["NavigationCompletev4","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["NavigationCompletev4","RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["NavigationCompletev4","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["NavigationCompletev4","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["NavigationCompletev4"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["NavigationCompletev4","VisuallyComplete","visualSearchMainPinImageRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE_PAGE_LOAD",other_profile_no_pins:"OTHER_PROFILE_NO_PINS_PAGE_LOAD",own_profile_no_pins:"OWN_PROFILE_NO_PINS_PAGE_LOAD",own_profile:"OWN_PROFILE_PAGE_LOAD"}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["NavigationCompletev4","VisuallyComplete"],segments:{self_profile:"SELF_PROFILE",own_profile:"OWN_PROFILE",own_profile_no_pins:"OWN_PROFILE_NO_PINS",other_profile_no_pins:"OTHER_PROFILE_NO_PINS"}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["NavigationCompletev4","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["NavigationCompletev4","VisuallyComplete"]}}}}}];var v=n(32259),E=n(112114);let w=[...f,...g];function N({isAuthenticated:e,isInitialPageLoad:t,isMobile:n}){let i=(0,E.H)(),a=w.find(e=>Array.isArray(e.handler)?e.handler.includes(i):i===e.handler),o=a?.config,r=o?.unified;if(r||(r=n?o?.mWeb:o?.dWeb),r){let n=e?r.auth:r.unauth;if(n){if(t&&n.initialPageLoad)return(0,v.qu)("Found isInitialPageLoad config"),(0,v.qu)(n.initialPageLoad),{...n.initialPageLoad};else if(!t&&n.clientNavigation)return(0,v.qu)("Found clientNavigation config"),(0,v.qu)(n.clientNavigation),{...n.clientNavigation}}}return(0,v.qu)(`No config found for ${i} :(`),null}var h=n(956077);let T={},L=[],R=[],I={},A={},C=[],P=0,b=0,y=[],O=["webpack_react_profiler","web_early_hydration","web_ngjs_related_modules_response_remove_nulls","web_ngjs_homefeed_response_remove_nulls","web_ngjs_search_response_remove_nulls","ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint"];function S(e){e&&H(e),(0,v.qu)("Reset PWT configs"),T={},L=[],R=[],I={},A={},C=[],i=null,P=0,b=0,o="",y=[]}function D(){return i?b:0}function G(){return i?i.name:"unknown"}function V(){return i?b:null}function M(e,t,n){let i;if((0,p.Z)()){switch(n){case"BOOL":i={type:"BOOL",value:"boolean"==typeof t?t:null};break;case"STRING":i={type:"STRING",value:"string"==typeof t?t:null};break;case"I16":case"I32":case"I64":i={type:n,value:"number"==typeof t?t:null};break;default:(0,v.qu)("Invalid binary annotation type");return}if(null===i.value)return void(0,v.qu)("Invalid binary annotation value");A={...A,[e]:i},(0,v.qu)(`Add binary annotation: { ${e}: ${i.value} }`)}}function W(e){if((0,p.Z)())if(i){let t=R.indexOf(e);if(t>-1){if(R.splice(t,1),(0,v.qu)(`Remove constraint: ${e}. Remaining constraints: [${R.join(", ")}]`),0===R.length){let e=P-b,t=[...O,...i.annotateExperiments||[]];(0,v.fv)({pwtName:i.name,annotateExperiments:t}),(0,v.$v)({eventName:i.name,value:e}),(0,v.$v)({eventName:"complete",value:e,tags:{handler:(0,E.H)()}});let n=(0,m.bC)(),l={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:n.isAuthenticated};(0,r.L8)(`Report_PWT_Complete_${i.name}`,b,P);let u=(0,s.W)({annotateExperiments:t,annotations:{},binaryAnnotations:A,constraintMap:I,endTime:P,imageTimings:C,isV4Logger:!0,metricId:l,pwtStaticContext:n,startTime:b,traceId:o,spans:[]});(0,v.qu)(`All constraints complete. ${i.name} PWT completed at ${Math.floor(P)}ms. PWT duration: ${Math.floor(e)}ms`),(0,v.qu)("Result:",u),(0,d.Z)({metricId:l,pwtStaticContext:n,result:u,isV4Logger:!0,annotateExperiments:t}),S()}}else(0,v.jn)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:i.name,errorDetailsTag:e})}else(0,v.jn)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),L.push(e)}function j(e,t){if((0,p.Z)())if(i){let n=R.indexOf(e);n>-1&&(P<t&&(P=t),I[e]=t,(0,v.eR)(R[n],i?.name),(0,v.$v)({eventName:`${i?.name}.constraint.${e}`,value:t}),(0,v.$v)({eventName:`constraint.${e}`,value:t,tags:{handler:(0,E.H)()}}),(0,v.qu)(`Complete constraint: ${e} at ${Math.floor(t)}ms`),W(e))}else T[e]||(T[e]=t)}function H(e){if((0,p.Z)()&&i){let t=[...O,...i.annotateExperiments||[]];(0,v.T0)({abortReason:e,pwtName:i.name,annotateExperiments:t}),R.forEach(e=>{(0,v.yi)(e,i?.name)});let n=(0,m.bC)(),r={type:"surface",surface:i.name,id:i.id,navigationType:a,isAuthenticated:n.isAuthenticated},l=(0,s.N)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:A,constraintMap:I,endTime:performance.now(),imageTimings:C,isV4Logger:!0,metricId:r,pwtStaticContext:n,startTime:b,traceId:o,spans:[]});(0,v.qu)(`Abort ${i.name} PWT. Abort reason: ${e}`),(0,v.qu)("Result:",l),(0,d.Z)({metricId:r,pwtStaticContext:n,result:l,isV4Logger:!0,annotateExperiments:t}),S()}}function $(e){if((0,p.Z)()&&i&&R.includes("VisuallyComplete"))if((0,v.qu)("Set visually complete result"),(0,v.qu)("Image resource timings: ",e),0===(C=e).length)H("visuallyComplete_noImages");else{let e=Math.max(...C.map(e=>e.responseEnd||0));(0,h.Nx)("VisuallyComplete",e)}}function q(e){if((0,p.Z)())if(i&&i.name.toLowerCase()!==e.toLowerCase()){let t=[...O,...i.annotateExperiments||[]],{isAuthenticated:n,deviceType:o}=(0,m.bC)(),r=(({isAuthenticated:e,isInitialPageLoad:t,isMobile:n,segment:i})=>{let a=N({isAuthenticated:e,isInitialPageLoad:t,isMobile:n});return a?.segments?.[i]??null})({isAuthenticated:n,isInitialPageLoad:"initial_app_load"===a,isMobile:"phone"===o,segment:e});if(!r)return void(0,v.jn)({errorName:"segment_action_name_not_found",errorDetailsTag:e});(0,v.T0)({abortReason:"segmentChange",pwtName:i.name,annotateExperiments:t}),i.name=r,(0,v.qu)(`Set segment to ${e}. PWT action name: ${r}`),(0,v.sd)({pwtName:i.name,annotateExperiments:[...O,...i.annotateExperiments||[]]})}else(0,v.jn)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}function U(e,t,n){if((0,p.Z)())if(i&&H("routeChange"),"POP"===e&&!1===n);else{_();let{isAuthenticated:r,deviceType:s,serverData:d}=(0,m.bC)();if(i=N({isAuthenticated:r,isInitialPageLoad:n,isMobile:"phone"===s})){if(b=t,n)a="initial_app_load";else switch(e){case"PUSH":a="client_route_push";break;case"REPLACE":a="client_route_replace"}(0,v.sd)({pwtName:i.name,annotateExperiments:[...O,...i.annotateExperiments||[]]}),(0,v.qu)(`Start ${i.name} PWT`),i?.constraints.forEach(e=>{(0,p.Z)()&&(i?((0,v.DM)(e,i.name),R.includes(e)||(R.push(e),(0,v.qu)(`Add constraint: ${e}`))):(0,v.jn)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e}))}),R.forEach(e=>{T[e]?j(e,T[e]):L.includes(e)&&W(e)}),o=(0,l.vc)()||(0,l.ZP)("initial_app_load"===a,d?.trace_id)}}}function k({traceLoggerData:e}){try{if((0,m._A)({serverData:e}),!(0,p.Z)())return void(0,v.El)({eventName:"unsupportedPWTBrowser"});(0,v.El)({eventName:"supportedPWTBrowser"}),_(),u.Z.onSessionPause(H);let t=new PerformanceObserver(e=>{e&&e.getEntries&&e.getEntries().forEach(e=>{e&&e.name&&!e.name.startsWith("--")&&e.name.includes("complete_constraint__")&&j(e.name.split("complete_constraint__")[1]||"",e.startTime)})});t.observe&&t.observe({type:"mark",buffered:!0});let n=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{let{rtt:t}=window.navigator.connection||{};if(t&&"number"==typeof t){let n=e.responseEnd-t/2;n>0&&(0,r.ZP)("client_chunkEndTime",n)}(0,r.L8)("dom_complete",e.startTime,e.domComplete),(0,r.L8)("dom_interactive",e.startTime,e.domInteractive),(0,r.L8)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,r.L8)("load_event_end",e.startTime,e.loadEventEnd),(0,r.L8)("response_start",e.startTime,e.responseStart),(0,r.L8)("response_duration",e.responseStart,e.responseEnd)})});n.observe&&n.observe({type:"navigation",buffered:!0});let i=new PerformanceObserver(e=>{e.getEntries().forEach(e=>{e.identifier.includes("MainPinImage")&&!y.includes(e.identifier)&&y.push(e.identifier)})});i.observe({type:"element",buffered:!0}),window.addEventListener("beforeunload",()=>{t.disconnect(),n.disconnect(),i.disconnect()})}catch(e){(0,v.jn)({errorName:e})}}},956077:function(e,t,n){n.d(t,{Nx:()=>s,Yl:()=>u,l7:()=>d,qS:()=>m,rt:()=>c,sX:()=>l});var i=n(667294),a=n(392824),o=n(30880),r=n(754545);let s=(e,t)=>{(0,o.Z)()&&(t?performance.mark(`complete_constraint__${e}`,{startTime:t}):performance.mark(`complete_constraint__${e}`),(0,a.L8)(`constraint__${e}`,(0,r.Eq)(),t??performance.now()))},l=e=>{(0,r.JG)(e)},d=e=>{(0,r.$e)(e)},u=e=>{(0,r.Lg)(e)},m=e=>{(0,i.useEffect)(()=>{(0,r.Lg)(e)},[e])},c=(e,t,n)=>{(0,r.XJ)(e,t,n)}},610046:function(e,t,n){n.d(t,{Z:()=>a});var i=n(667294);let a=(e,t)=>{let n=(0,i.useRef)(()=>{});(0,i.useEffect)(()=>{n.current=e},[e]),(0,i.useEffect)(()=>{if(null===t)return()=>{};let e=setInterval(()=>n.current(),t);return()=>clearInterval(e)},[t])}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/66986-bcd137be31dde403.mjs.map