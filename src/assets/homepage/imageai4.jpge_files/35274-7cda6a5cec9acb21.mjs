(self.modernJsonp=self.modernJsonp||[]).push([["35274"],{789154:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null};n.hash="c6be2bfa9e282b6036307fb17958ce3d";let r=n},868391:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};n.hash="1820448f293b4452fdd957a1b02dd23b";let r=n},760441:function(e,t,i){var n;i.r(t),i.d(t,{default:()=>l});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:n=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:n,storageKey:'coverImages(spec:"474x")'}],type:"ExploreArticle",abstractKey:null};r.hash="ee837caaba80f67c3ccb2223d20c7649";let l=r},189039:function(e,t,i){i.r(t),i.d(t,{default:()=>r});let n={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDynamicJustify",kind:"LinkedField",name:"dynamicJustifyContent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"narrowView",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wideView",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};n.hash="89000b08539b2d49298d8c3af31ee2f4";let r=n},530848:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),r=i(667294),l=i(20256),a=i(93966),o=i(785893);function s(){return(0,n.Z)("EmptyItemRep","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRep.tsx"),(0,o.jsx)(l.xu,{width:a.yF})}function d(){return(0,n.Z)("EmptyItemRepList","/app/packages/StructuredFeed/ItemReps/utils/EmptyItemRepList.tsx"),(0,o.jsx)(r.Fragment,{children:Array(12).fill(void 0).map((e,t)=>(0,o.jsx)(s,{},t))})}},730378:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(20256),l=i(452918),a=i(785893);let o=new Map([["pin",4],["explorearticle",2]]);function s({children:e,itemType:t,overrideMargin:i}){return(0,n.Z)("StructuredFeedElementWrapper","/app/packages/StructuredFeed/ItemReps/utils/StructuredFeedElementWrapper.tsx"),(0,a.jsx)(r.xu,{marginBottom:i||o.get(t)||l.mT,children:e})}},793760:function(e,t,i){i.r(t),i.d(t,{default:()=>ea});var n,r=i(281098);i(167912);var l=i(20256),a=i(761578),o=i(28427),s=i(351607),d=i(431870),c=i(932088),u=i(93966),p=i(385292),g=i(733029),x=i(774937),m=i(452918),h=i(207729),y=i(785893);let f=()=>(0,y.jsx)(l.xu,{color:"secondary",height:u.yF,width:u.yF}),_={1:{itemRep:g.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:x.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function w({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:a,viewParameter:o}){(0,r.Z)("FreeformModule","/app/packages/StructuredFeed/ModuleReps/FreeformModule/FreeformModule.tsx");let s=(_[(n.display_options?.content_display||{}).model_type]||m.g5).itemRep||f,d=n.display_options?.content_display?.component_type??t;return(0,y.jsx)(l.xu,{marginBottom:2,children:(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[n.title&&(0,y.jsx)(h.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,y.jsx)(l.kC,{gap:2,justifyContent:"center",wrap:!0,children:n.objects?.map(function(t,i){return(0,y.jsx)(s,{auxData:e,component:d,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:i,item:t,story:n,view:a,viewParameter:o},i)})})]})})}var j=i(667294),b=i(467925),v=i(757947),S=i(530848),I=i(730378),k=i(284660),C=i(342978),T=i(88828),F=i(647709);let Z="rgba(0, 0, 0, 0)",z={1:375},L=()=>(0,y.jsx)(l.xu,{color:"secondary",height:u.yF,width:u.yF}),P={1:{itemRep:g.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>e.images?.orig?.url||""},4:{itemRep:p.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.images?.orig?.url||""},2:{itemRep:x.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function E({auxData:e,componentFallback:t,dangerouslySetActionUrl:i,dangerouslySetContentVisibleItemCount:n,disableHeader:r,dynamicItemWidth:a,initialSlotIndex:o=0,showExpanded:s,story:d,surface:c,view:p,viewParameter:g,width:x}){let f=(0,F.HG)(),_=d.display_options?.content_display||{},w=P[_.model_type]||m.g5,E=w.itemRep||L,{action:A}=d,R=i||d.action?.url||"",K=_.component_type??t,D=_.grid_layout?.rows,M="number"==typeof D?D:1,H=_.grid_layout?.cols,G="number"==typeof H?H:-1,U=-1===G,B=_.dynamic_item_width||{},W=B.narrow_view?z[B.narrow_view]:"100%",$=n??_.content_visible_item_count?.web,O=$&&x&&a?(0,u.Wv)({defaultItemWidth:u.yF,contentVisibleItemCount:$,gap:u.oX,moduleWidth:"number"==typeof x?x:parseInt(x,10)}):u.yF,{containerRef:N,itemsToRender:q,actionItem:Y}=(0,T.Z)({items:d.objects||[],itemWidth:(0,k.Z)()?u.tG:O,itemGap:u.oX,actionItemType:A?"one":void 0,numRows:M}),J=Y&&w.deprecatedGetActionImage?w.deprecatedGetActionImage(Y):void 0,X=U?q:d.objects||[],{experimentalGutterBoints:V}=(0,b.Z)(),Q=X.map((t,i)=>(0,y.jsx)(I.Z,{itemType:"string"==typeof t.type?t.type:null,children:(0,y.jsx)(E,{auxData:e,component:K,imagePlaceholderColor:Z,imageWidth:O,index:i,item:t,slotIndex:o+i,story:d,surface:c,view:p,viewParameter:g})},i)),ee=!!R&&!!A?.text&&J&&(0,y.jsx)(v.Z,{auxData:e,buttonText:A.text,component:K,contentIds:d.content_ids,element:179,imageWidth:O,previewImageSrc:J,shape:w.deprecatedActionShape,storyId:d.id,storyType:d.story_type,url:R,view:p,viewParameter:g});return(0,y.jsxs)(l.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",width:W,children:[d.title&&!r&&(0,y.jsx)(h.Z,{showExpanded:s,storyKey:{type:"Legacy",data:d}}),U?(0,y.jsxs)(C.Z,{containerRef:N,itemGap:u.oX,numRows:M,rowAlignment:"center",children:[Q,ee,M>1&&(0,y.jsx)(S.Z,{})]}):(0,y.jsxs)(j.Fragment,{children:[G>1?Array(M).fill(null).map((e,t)=>(0,y.jsx)(l.kC,{alignItems:"stretch",gap:V??(f?u.jC:u.D6),justifyContent:"start",width:"100%",wrap:G<=1,children:G>0&&Array(G).fill(null).map((e,i)=>{let n=Q[t*G+i];return(0,y.jsx)(l.kC.Item,{flex:"grow",children:n},i)})},X[t].id)):(0,y.jsx)(l.kC,{direction:"column",children:Q}),ee]})]})}function A({auxData:e,componentFallback:t,showExpanded:i=!0,story:n,view:r,viewParameter:a}){let o=(P[(n.display_options?.content_display||{}).model_type]||m.g5).itemRep||L,s=n.display_options?.content_display?.component_type??t,d=(0,k.Z)()?u.tG:u.yF;return(0,y.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[n.title&&(0,y.jsx)(h.Z,{showExpanded:i,storyKey:{type:"Legacy",data:n}}),(0,y.jsx)(l.Rk,{columnWidth:d,gutterWidth:u.oX,items:n.objects||[],layout:"flexible",renderItem:({data:t,itemIdx:i})=>(0,y.jsx)(o,{auxData:e,component:s,imagePlaceholderColor:Z,index:i,item:t,story:n,view:r,viewParameter:a},i)})]})}function R(e){switch((0,r.Z)("GridSectionModule","/app/packages/StructuredFeed/ModuleReps/GridSectionModule/GridSectionModule.tsx"),e.story.display_options?.content_display?.pins_display){case 3:case 1:case 2:return(0,y.jsx)(A,{...e});default:return(0,y.jsx)(E,{...e})}}var K=i(956077),D=i(461951);function M({auxData:e,component:t,onImageLoad:i,story:n,view:a,viewParameter:o}){(0,r.Z)("SingleImageHero","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHero.tsx");let{id:d,story_type:c,title:u="",description:p=""}=n,{hero_display_options:g,attribution_display_options:x}=n.display_options?.header_display||{},{image_style:m,dominant_color:h,width_height_ratio:f=1,image_url:_}=g||{},{text:w,subspan_text:b,attribution_action:v,icon:S}=x||{},{subspan_only:I}=v||{},k=(0,s.ZP)({loggingId:d,objectIdStr:d,impressionType:"Story",contextLogData:(0,j.useMemo)(()=>({story_id:d,story_type:c,...e}),[d,c,e]),slotIndex:0,viewParameter:o,viewType:a,componentType:t}),C="string"==typeof u?u:u?.format??"",T="string"==typeof p?p:p?.format??"";return(0,y.jsx)(l.xu,{ref:k,"data-test-id":"sf-single-image-hero",children:(0,y.jsxs)(l.kC,{direction:"column",children:[(0,y.jsxs)(l.xu,{overflow:"hidden",position:"relative",children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:1===m?{__style:{filter:"blur(4px)",transform:"scale(1.05)"}}:void 0,children:(0,y.jsx)(l.xu,{width:"100%",children:(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:`${f} / 1`}},children:(0,y.jsx)(l.Ee,{alt:"",color:h||"#fff",fit:"cover",naturalHeight:1,naturalWidth:f||1,onLoad:i,role:"presentation",src:_||void 0,children:3===m?(0,y.jsxs)(j.Fragment,{children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:D.OHS}},"data-test-id":"single-image-hero-gradient-overlay-top",height:"50%",left:!0,position:"absolute",right:!0,top:!0}),(0,y.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:D.AEu}},"data-test-id":"single-image-hero-gradient-overlay-bottom",height:"50%",left:!0,position:"absolute",right:!0})]}):null})})})}),(0,y.jsx)(l.xu,{bottom:!0,"data-test-id":"bottom-title",padding:4,position:"absolute",children:(0,y.jsx)(l.X6,{accessibilityLevel:1,color:"light",size:"600",children:C})})]}),(0,y.jsx)(l.xu,{marginTop:4,paddingX:4,children:(0,y.jsxs)(l.kC,{direction:"column",children:[(0,y.jsx)(l.xu,{children:(0,y.jsx)(l.xv,{size:"300",children:T})}),x&&(0,y.jsx)(l.xu,{"data-test-id":"single-image-hero-attribution-container",marginTop:3,children:(0,y.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[1===S&&(0,y.jsx)(l.JO,{accessibilityLabel:"",color:"brandPrimary",dataTestId:"single-image-hero-pinterest-icon",icon:"pinterest",size:24}),2===S&&(0,y.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-info-circle-icon",icon:"info-circle",size:24}),3===S&&(0,y.jsx)(l.JO,{accessibilityLabel:"",dataTestId:"single-image-hero-arrow-up-right-icon",icon:"arrow-up-right",size:24}),(0,y.jsx)(l.xu,{marginStart:2*(0!==S),children:(()=>{if(!x||!w)return null;if(!v?.url)return(0,y.jsx)(l.xv,{size:"100",children:w});switch(I){case 1:{if(!b)return(0,y.jsx)(l.xv,{size:"100",children:w});let e=w.indexOf(b);if(-1===e)return(0,y.jsx)(l.xv,{size:"100",children:w});let t=w.substring(0,e),i=w.substring(e+b.length);return(0,y.jsxs)(l.xv,{size:"100",children:[t,(0,y.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:(0,y.jsx)(l.rU,{display:"inline",href:v.url,underline:"none",children:b})}),i]})}case 2:return(0,y.jsx)(l.xv,{size:"100",children:(0,y.jsx)(l.rU,{href:v.url,children:w})});default:return(0,y.jsx)(l.xv,{size:"100",children:w})}})()})]})})]})})]})})}var H=i(825332),G=i(980787),U=i(744862),B=i(821342),W=i(19585),$=i(361055);let O=({actionText:e,actionUrl:t,articleId:i,author:n,authorAvatar:a,auxData:o,component:d,contentIds:c,coverImage:u,debug:p,index:g,isFullWidth:x=!1,onImageLoad:m,storyId:h,storyType:f,subtitle:_,title:w,view:b,viewParameter:v,width:S,windowWidth:I})=>{(0,r.Z)("Hero","/app/packages/StructuredFeed/ModuleReps/HeroModule/Hero.tsx");let k=(0,W.Z)(),C=(0,H.s0)(),{logContextEvent:T}=(0,G.u)(),[F,Z]=(0,j.useState)(!1),z=(0,B.Z)(),L=z.isAuth?z?.avatar_color_index:void 0,P=(0,s.ZP)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:c,story_id:h,story_type:f,article_id:i,...o},slotIndex:g,viewParameter:v,viewType:b,componentType:d});return(0,y.jsx)(l.xu,{"data-test-id":"sf-hero",children:(0,y.jsxs)(l.xu,{ref:P,height:"auto",onMouseEnter:()=>Z(!0),onMouseLeave:()=>Z(!1),width:S,children:[(0,y.jsx)(l.iP,{onTap:()=>{T({event_type:101,view_type:b,view_parameter:v,component:d,aux_data:{article_id:i,content_ids:c,story_id:h,story_type:f,...o}}),C(t)},children:(0,y.jsxs)(l.xu,{height:x?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:F?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,y.jsx)(l.Ee,{alt:k._('Cover image of this shopping spotlight', 'hero.heroCoverImage', 'alt text for an image previewing the contents of a spotlight article'),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:m,src:u,children:(0,y.jsx)(l.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,y.jsx)(l.xu,{bottom:!0,marginBottom:12*!!x,padding:6,position:"absolute",width:"100%",children:(0,y.jsxs)(l.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:F?"translateY(-20px)":"translateY(20px)"}},children:(0,y.jsx)(l.X6,{color:"light",size:I<=822?"700":I<1e3?"400":I<1100?"600":"700",children:w})}),(0,y.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:+!!F,transition:F?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:F?"auto":20,overflow:"hidden",children:[(0,y.jsx)(l.xv,{color:"inverse",children:_}),n&&(0,y.jsx)(l.xu,{marginTop:4,children:(0,y.jsxs)(l.kC,{alignItems:"center",direction:"row",children:[(0,y.jsx)(U.qE,{color:L,name:n,size:"md",src:a})," ",(0,y.jsx)(l.xv,{color:"inverse",children:n})]})})]}),(0,y.jsx)(l.xu,{marginTop:4,width:"74px",children:(0,y.jsx)(l.zx,{color:"white",onClick:()=>{C(t)},size:"lg",text:e})})]})})]})}),void 0!==p&&(0,y.jsx)($.Z,{data:p})]})})};var N=i(300685),q=i(458684),Y=i(828942);function J({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:a,component:o,width:s}){(0,r.Z)("SingleImageHeroCarousel","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroCarousel.tsx");let[d,c]=(0,j.useState)(0),u=(0,j.useRef)(null),p=i.objects?.slice(0,3)||[];return(0,y.jsxs)(l.xu,{ref:u,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:s,children:[(0,y.jsx)(N.Z,{containerRef:u.current,id:i.id,index:d,slideWidth:s,children:p.map((r,l)=>(0,y.jsx)(O,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:o,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:l,isFullWidth:!0,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:n,viewParameter:a,width:s,windowWidth:s},r.id))}),(0,y.jsx)(l.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,y.jsx)(q.default,{addEllipsis:!0,backNode:(0,y.jsx)(Y.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:d,entityId:"",carouselSlots:p.map(e=>({id:e.id,title:null}))},carouselIndex:d,forwardNode:(0,y.jsx)(Y.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{c(e)},pinKey:null})})]})}function X({auxData:e,onImageLoad:t,story:i,view:n,viewParameter:l,component:a,width:o}){(0,r.Z)("SingleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/SingleImageHeroDisplay.tsx");let s=i.objects&&i.objects.length>0,d=i.display_options?.header_display?.hero_display_options?.image_url;return!s&&d?(0,y.jsx)(M,{auxData:e,component:a,onImageLoad:t,story:i,view:n,viewParameter:l}):(0,y.jsx)(J,{auxData:e,component:a,onImageLoad:t,story:i,view:n,viewParameter:l,width:o})}function V({auxData:e,component:t,onImageLoad:i,story:n,view:a,viewParameter:o,windowWidth:s}){(0,r.Z)("TripleImageHeroDisplay","/app/packages/StructuredFeed/ModuleReps/HeroModule/TripleImageHeroDisplay.tsx");let d=n.objects?.slice(0,3)||[];return d.length<3?null:(0,y.jsxs)(j.Fragment,{children:[(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[0].dominant_colors[0]}},flex:"grow"}),d.map((r,l)=>(0,y.jsx)(O,{actionText:r.action?.text||"",actionUrl:r.action?.url||"",articleId:r.id,auxData:e,component:t,coverImage:r.cover_images&&r.cover_images[0].originals?.url||"",debug:r.debug,index:l,onImageLoad:i,storyId:n.id,storyType:n.story_type,subtitle:r.subtitle?.format||"",title:r.title?.format||"",view:a,viewParameter:o,width:500,windowWidth:s},r.id)),(0,y.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:d[2].dominant_colors[0]}},flex:"grow"})]})}function Q({auxData:e,component:t,pwtSurfaceContext:i,story:n,view:o,viewParameter:s}){(0,r.Z)("HeroModule","/app/packages/StructuredFeed/ModuleReps/HeroModule/HeroModule.tsx");let{width:d=0}=(0,a.Z)()||{},c=()=>{(0,K.Nx)("RenderHeroImages"),i&&i.markConstraintComplete("RenderHeroImages")},u=d>822&&(n.objects?.length??0)>=3?3:1;return(0,y.jsx)(j.Fragment,{children:(0,y.jsx)(l.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:3===u?(0,y.jsx)(V,{auxData:e,component:t,onImageLoad:c,story:n,view:o,viewParameter:s,windowWidth:d}):(0,y.jsx)(X,{auxData:e,component:t,onImageLoad:c,story:n,view:o,viewParameter:s,width:d})})})}function ee({story:e}){(0,r.Z)("SingleImageUpsellModule","/app/packages/StructuredFeed/ModuleReps/SingleImageUpsellModule/SingleImageUpsellModule.tsx");let t=(0,H.s0)(),{user:i,custom_properties:n,action:a}=e||{},{full_name:o,username:s,image_medium_url:d,avatar_color_index:c}=i||{},p=o||e.title?.format||"",{url:g,text:x}=a||{},{image:m}=n||{};if(!g||!x)return null;let h=(0,y.jsxs)(l.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[s&&d&&(0,y.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,y.jsx)(U.qE,{color:c||void 0,name:s,size:"sm",src:d})}),p&&(0,y.jsx)(l.xv,{color:"inverse",weight:"bold",children:p})]});return(0,y.jsxs)(l.xu,{marginBottom:4,width:u.yF,children:[(0,y.jsx)(l.iP,{onTap:()=>t(g),children:(0,y.jsx)(l.zd,{height:u.yF,rounding:2,wash:!0,children:"string"==typeof m&&m?(0,y.jsx)(l.Ee,{alt:p,fit:"contain",naturalHeight:u.yF,naturalWidth:u.yF,src:m,children:h}):(0,y.jsx)(l.xu,{height:u.yF,width:u.yF,children:h})})}),(0,y.jsx)(l.xu,{marginTop:3,children:(0,y.jsx)(l.ZP,{fullWidth:!0,href:g,text:x})})]})}let et=new Set([101]);var ei=i(598579);let en="UNKNOWN_CONTAINER_TYPE",er={2:"center",3:"end",1:"start"},el=(void 0!==n||(n=i(189039)).hash&&"89000b08539b2d49298d8c3af31ee2f4"!==n.hash&&console.error("The definition of 'StructuredFeedStoryModule_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function ea(e){var t;(0,r.Z)("StructuredFeedStoryModule","/app/packages/StructuredFeed/ModuleReps/utils/StructuredFeedStoryModule.tsx");let{auxData:i,componentFallback:n,initialSlotIndex:u,view:p,viewParameter:g,width:x}=e,{story:m,storyKey:f,..._}=e,{width:j=0}=(0,a.Z)()||{},b=(0,o.Z)(el,f),v=b?.displayOptions?.contentDisplay?.componentType??n,S={..._,component:v},I=(0,s.ZP)({clientTrackingParams:b?.trackingParams,componentType:v,contextLogData:{story_id:b?.storyId,story_type:b?.storyType,content_ids:b?.contentIds,...i},impressionType:"Story",loggingId:b?.storyId,slotIndex:u||0,viewParameter:g,viewType:p}),k=j<=ei.$R?b?.displayOptions?.contentDisplay?.dynamicJustifyContent?.narrowView?er[b.displayOptions.contentDisplay.dynamicJustifyContent.narrowView]:"start":b?.displayOptions?.contentDisplay?.dynamicJustifyContent?.wideView?er[b.displayOptions.contentDisplay.dynamicJustifyContent.wideView]:"start",C=(()=>{switch(b?.containerType){case 90:case 139:return(0,y.jsx)(d.default,{...S,story:m,storyKey:b,width:x});case 88:return(0,y.jsx)(h.Z,{...S,storyKey:b});case 89:let{location:e,text:t,url:i}=b?.action||{};return(0,y.jsx)(c.Z,{location:e,text:t,url:i});case 91:return!!m&&(0,y.jsx)(R,{...S,story:m});case 101:return!!m&&(0,y.jsx)(Q,{...S,story:m});case 92:return!!m&&(0,y.jsx)(ee,{...S,story:m});case 131:return!!m&&(0,y.jsx)(w,{...S,story:m});default:return en}})();return C===en?null:(0,y.jsxs)(l.xu,{ref:I,"data-test-id":b?.storyType??"structured-feed-story-module",display:"flex",justifyContent:k,width:(t=b?.containerType,et.has(t))?void 0:x,children:[C,(0,y.jsx)(l.xu,{})]})}},512712:function(e,t,i){function n(e){return[0,24,21,26].includes(e)}function r({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>r,y:()=>n})},364188:function(e,t,i){i.d(t,{HI:()=>o,f8:()=>d,hm:()=>s,sH:()=>a});var n=i(281098),r=i(20256),l=i(785893);let a=({children:e})=>((0,n.Z)("components","/app/packages/experiences/feed-card/components.tsx"),(0,l.jsx)(r.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e})),o=({children:e})=>((0,n.Z)("components","/app/packages/experiences/feed-card/components.tsx"),(0,l.jsx)(r.xu,{padding:2,children:e})),s=({children:e})=>((0,n.Z)("components","/app/packages/experiences/feed-card/components.tsx"),(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e})),d=({children:e})=>((0,n.Z)("components","/app/packages/experiences/feed-card/components.tsx"),(0,l.jsx)(r.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e}))},56785:function(e,t,i){i.d(t,{Ec:()=>d,IA:()=>h,LX:()=>c,Mf:()=>m,SF:()=>o,_e:()=>s,h_:()=>b,l0:()=>a,ml:()=>l,pQ:()=>j,q4:()=>r,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),r=2/3,l=2/3,a=1/3,o="36px",s="28px",d=.4,c=.65,u={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24",3:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},g={1:"italics",0:"normal"},x={1:"bold",0:"normal"},m=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:r},l)=>({color:e,fontStyle:g[t??0],fontWeight:x[i??1],horizontalAlignment:u[n??0],fontSize:p[l][r??0]+"px"}),h=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?c:d,y={1:"default",2:"subtle",3:"success",4:"error",5:"warning",6:"inverse",7:"dark",8:"light",9:"shopping"},f=y[8],_={1:"red",2:"gray",3:"transparent",4:"blue",5:"light",6:"dark"},w=_[2],j=e=>{if(e){if(e.button_style&&e.button_style in _)return _[e.button_style]||w;if(e.button_background_color){if("#e60023"===e.button_background_color.toLowerCase())return _[1]||w;else if("#0074e8"===e.button_background_color.toLowerCase())return _[4]||w}}return w},b=(e,t)=>{if(e){if(e.title_text_customization?.color&&(e.title_text_customization.color=e.title_text_customization.color.toLowerCase()),e.title_text_customization?.text_color&&e.title_text_customization?.text_color in y)return y[e.title_text_customization?.text_color]||f;if(e.title_text_customization?.color){if("#111111"===e.title_text_customization.color||"#000000"===e.title_text_customization.color)return y[7]||f;else if("#ffffff"===e.title_text_customization.color)return y[8]||f}}if(t)if("white"===t)return y[8]||f;else return y[7]||f;return f}},62937:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)("undefined"!=typeof window?window:null)},902293:function(e,t,i){i.d(t,{J:()=>n,Z:()=>r});let n=-1;function r(e){switch(e){case n:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"history";default:return"search"}}},342978:function(e,t,i){i.d(t,{Z:()=>o});var n=i(281098),r=i(20256),l=i(785893);let a={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function o({children:e,itemGap:t,containerRef:i,numRows:o=1,rowAlignment:s="center"}){(0,n.Z)("StoryRow","/app/packages/ui/StoryRow.tsx");let d=a[s];return(0,l.jsx)(r.xu,{ref:i,width:"100%",children:(0,l.jsx)(r.kC,{alignItems:"center",justifyContent:d.outer,children:(0,l.jsx)(r.kC,{dataTestId:"story-row-items-container",gap:{row:Math.floor(t/4),column:0},justifyContent:d.inner,wrap:o>1,children:e})})})}},88828:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294);function r({items:e,itemWidth:t,itemGap:i,numRows:r=1,actionItemType:l}){let a,[o,s]=function(){let[e,t]=(0,n.useState)(0),i=(0,n.useRef)(null),r=(0,n.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,n.useEffect)(()=>(window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}),[r]),(0,n.useEffect)(r),[e,i]}(),d=Math.floor((o+i)/(t+i))*r||r,c=e.slice(0,d),u=[];switch(l){case"nextFour":if(d>=e.length){let e=c.pop();u=e?[e]:[]}else c.pop(),u=e.slice(d-1,d+3);break;case"one":a=d>e.length?e[Math.floor(e.length/2)]:c.pop()}return{containerRef:s,itemsToRender:c,actionItem:a,nextFourItems:u}}},331854:function(e,t,i){i.d(t,{Z:()=>o});var n=i(667294);let r=new Map,l=null,a=e=>{e.forEach(e=>{let t=r.get(e.target);t&&t(e)})};function o({onVisibilityChanged:e,trackFullVisible:t,rootMargin:i}){let o=(0,n.useRef)(null),s=!1,d=()=>{let t;o.current instanceof HTMLElement&&(t=o.current,r.has(t))&&s&&(e(!1),s=!1)},c=(0,n.useCallback)(i=>{o.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(a,n),r.set(e,i),l.observe(e)})(o.current,i,i=>{if(!r.has(o.current))return;let n=t?i.intersectionRatio>=1:i.intersectionRatio>=.5,l=t?0===i.intersectionRatio:!n;!s&&n?(s=i.intersectionRatio>0||i.isIntersecting)&&e(!0):s&&l&&d()})},[o.current]);return(0,n.useEffect)(()=>(c(i),()=>{if(o.current instanceof HTMLElement){var e;d(),e=o.current,l.unobserve(e),r.delete(e)}}),[c]),o}},93779:function(e,t,i){i.d(t,{Z:()=>x});var n=i(281098),r=i(581722),l=i(20256),a=i(761578),o=i(980787),s=i(877956),d=i(56785),c=i(744862),u=i(821342),p=i(331854),g=i(785893);function x({isFullWidth:e,actionType:t,buttonAction:i,buttonText:x,experience:m,hideCompleteButton:h,imageAlt:y,imageUrl:f,openNewTab:_,avatarImageDetails:w,examplePinImage:j,titleText:b,titleTextColor:v,titleTextCustomization:S,descriptionText:I,descriptionTextCustomization:k}){(0,n.Z)("AuthInFeedChecklistEdu","/app/www/AuthInFeedChecklistEdu.tsx");let{logContextEvent:C}=(0,o.u)(),T=(0,s.be)(),F=(0,s.Ig)(),Z=(0,u.Z)(),z=Z.isAuth?Z?.avatar_color_index:void 0,L=0===t?3833:1===t?3834:2===t?3835:null,P=(0,r.I0)(),{experience_id:E,placement_id:A}=m||{},R=(0,p.Z)({onVisibilityChanged:e=>{e&&m&&void 0!==A&&void 0!==E&&(m.status="viewed",C({event_type:13,view_type:612,view_parameter:L}),P(F(A,E,!1,!0)))}}),{width:K}=(0,a.Z)()||{width:8},D=K-8,M=(0,d.IA)(K),H=D*M,G=M===d.LX||M===d.Ec,{url:U,full_name:B}=w||{},W=H*d.l0,{url:$}=j||{},O=$?H*d.l0:0,N=$?d.ml*O:0,{color:q,fontStyle:Y,fontWeight:J,horizontalAlignment:X,fontSize:V}=(0,d.Mf)(S||{},"mweb"),{color:Q,fontStyle:ee,fontWeight:et,horizontalAlignment:ei,fontSize:en}=(0,d.Mf)(k||{},"mweb");return(0,g.jsx)(l.xu,{ref:R,marginBottom:2,padding:1,position:"relative",children:(0,g.jsxs)(l.xu,{color:e?"default":"education",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&f&&U&&(0,g.jsx)(l.xu,{height:H,width:D,children:(0,g.jsx)(l.Ee,{alt:y||b||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:H,naturalWidth:D,src:f,children:(0,g.jsx)(l.xu,{paddingY:U?12:3,children:(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",width:"100%",children:[B&&U&&(0,g.jsx)(l.xu,{height:W,width:W,children:(0,g.jsx)(c.qE,{color:z,name:B,size:"fit",src:U})}),(0,g.jsx)(l.xv,{align:X,color:v,italic:"italics"===Y,weight:J,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(q||v)??void 0,fontSize:G?d.SF:V}},children:b})}),(0,g.jsx)(l.xv,{align:ei,italic:"italics"===ee,weight:et,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:Q??void 0,fontSize:G?d._e:en}},paddingX:12,children:I})})]})})})}),(!e||e&&$)&&(0,g.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",children:[j&&$&&(0,g.jsx)(l.xu,{paddingY:4,children:(0,g.jsx)(l.zd,{height:O,rounding:4,width:N,children:(0,g.jsx)(l.Ee,{alt:"Your first saved Pin",fit:"cover",naturalHeight:O,naturalWidth:N,src:$})})}),(0,g.jsx)(l.xv,{align:X,color:v,italic:"italics"===Y,weight:J,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(q||v)??void 0,fontSize:G&&e?d._e:V}},children:b})}),I&&k&&(0,g.jsx)(l.xu,{paddingX:2*!!e,paddingY:0,children:(0,g.jsx)(l.xv,{align:ei,italic:"italics"===ee,weight:et,children:(0,g.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:Q??void 0,fontSize:G&&e?d._e:en}},children:I})})}),!h&&(0,g.jsx)(l.kC.Item,{alignSelf:"center",children:(0,g.jsx)(l.xu,{marginBottom:4*!!e,marginTop:2,children:(0,g.jsx)(l.ZP,{accessibilityLabel:x,color:"white",href:i,onClick:()=>{m&&(C({event_type:102,view_type:612,view_parameter:L}),P(T(A,E,!1,!0)))},size:"md",target:_?"blank":null,text:x})})})]})]})})}},357823:function(e,t,i){i.d(t,{Z:()=>d});var n=i(281098),r=i(20256),l=i(980787),a=i(19585),o=i(667294),s=i(785893);function d({auxData:e,enabled:t,onPull:i,refreshing:d,viewParameter:c}){(0,n.Z)("PullToRefresh","/app/www/Homefeed/PullMenu/PullToRefresh.tsx");let u=(0,a.Z)(),{logContextEvent:p}=(0,l.u)(),g=4079===c,{position:x,startYRefCurrent:m,pullDistance:h}=function({enabled:e,onSelect:t,refreshing:i}){let n=(0,o.useRef)(null),[r,l]=(0,o.useState)(0),[a,s]=(0,o.useState)(!1),d=i?0:r/250,c=d>0,u=()=>{s(!1),l(0)};return(0,o.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!i&&(n.current=e.touches[0].clientY)},a=e=>{if(n.current){let t=(e.touches[0].clientY-n.current)*.5;t>0&&(l(t),e.preventDefault())}},o=()=>{n.current&&(s(!0),t({pullDistance:r,position:d,resetState:u}),n.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",a,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",a),window.removeEventListener("touchend",o)}}},[e,t,r,i,d]),{pullDistance:r,hasStartPulling:c,position:d,startYRefCurrent:n.current,PULL_MENU_DISTANCE:250,isExecuted:a}}({enabled:t,onSelect:t=>{let{pullDistance:n,resetState:r}=t;n>=120&&(p({view_type:1,event_type:158,view_parameter:g?4079:92,aux_data:g?e:{}}),i()),r()},refreshing:d}),y=Math.min(x,1),f=u._('Pull to refresh', 'Pull down on grid to refresh items', 'Pull down on grid to refresh items');return(0,s.jsx)(r.xu,{children:t&&(0,s.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:y,transition:null===m?"all .3s ease-out":void 0}},display:"flex",height:120*x,justifyContent:"center",children:(0,s.jsx)(r.JO,{accessibilityLabel:f,icon:m&&h<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,i){i.d(t,{Z:()=>o});var n=i(281098),r=i(20256),l=i(647709),a=i(785893);let o=()=>{(0,n.Z)("InitialFeedFetch","/app/www/InitialFeedFetch.tsx");let e=(0,l.HG)();return(0,a.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},648200:function(e,t,i){i.d(t,{Z:()=>s});var n=i(281098),r=i(821342),l=i(647709),a=i(642859),o=i(785893);let s=({children:e})=>{(0,n.Z)("UnauthContextMenuControllerWrapper","/app/www/UnauthContextMenuControllerWrapper.tsx");let t=(0,l.HG)();return!(0,r.Z)().isAuth&&t?(0,o.jsx)(a.x,{children:e}):e}},348268:function(e,t,i){i.d(t,{G9:()=>o,SY:()=>d,kk:()=>a,mb:()=>c,s:()=>s});var n=i(281098),r=i(93966),l=i(625453);let a=({isDesktop:e})=>{(0,n.Z)("feedUtils","/app/www/feedUtils.tsx");let t=(0,l.Z)({isDesktop:e});return t?-t:0},o=-2,s=({trafficSource:e,deviceType:t,experimentalGutter:i})=>{(0,n.Z)("feedUtils","/app/www/feedUtils.tsx");let l=i??4*r.jC;return"desktop"===t?l:"board"===e?4:void 0},d=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:i})=>{(0,n.Z)("feedUtils","/app/www/feedUtils.tsx");let l=i??r.yF;return"desktop"===e?l:t||200},c=({gutterWidth:e,itemWidth:t,className:i,minColumns:l=r.yc,maxColumns:a=r.g5})=>{(0,n.Z)("feedUtils","/app/www/feedUtils.tsx");let o=t+e;return Array.from({length:a+1-l},(e,t)=>t+l).map(t=>({minWidth:t===l?0:t*o,maxWidth:t===a?null:(t+1)*o-1,styles:`
      .${i} {
        max-width: ${t*o-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:i})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${i}
    }
  `).join("")}},79293:function(e,t,i){i.d(t,{Z:()=>m});var n=i(281098),r=i(667294),l=i(20256),a=i(93966),o=i(369416),s=i(647709),d=i(640168),c=i(785893);let u="PinGridSkeletonLoader__tall",p="PinGridSkeletonLoader__short",g=({size:e})=>(0,c.jsx)(l.xu,{padding:1,children:(0,c.jsx)("div",{className:"tall"===e?u:p})}),x=({children:e})=>(0,c.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),m=({partialViewportWidth:e})=>{(0,n.Z)("PinGridSkeletonLoader","/app/www/loader/PinGridSkeletonLoader.tsx");let t="desktop"===(0,s.ZP)(),i=t?a.yF:a.tG;return(0,c.jsxs)(r.Fragment,{children:[(0,c.jsx)(o.Z,{unsafeCSS:[{name:u,height:250},{name:p,height:150}].map(({name:e,height:t})=>(0,d.Z)({name:e,width:i,height:t})).join("")}),(0,c.jsx)(l.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:a.qG,marginStart:a.qG,children:t?(0,c.jsxs)(l.kC,{direction:"row",gap:{row:a.jC,column:0},children:[(0,c.jsx)(x,{children:(0,c.jsx)(g,{size:"tall"})}),(0,c.jsx)(x,{children:(0,c.jsx)(g,{size:"short"})}),(0,c.jsx)(x,{children:(0,c.jsx)(g,{size:"tall"})}),!e&&(0,c.jsx)(x,{children:(0,c.jsx)(g,{size:"short"})})]}):(0,c.jsxs)(l.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,c.jsxs)(x,{children:[(0,c.jsx)(g,{size:"tall"}),(0,c.jsx)(g,{size:"short"}),(0,c.jsx)(g,{size:"tall"})]}),(0,c.jsxs)(x,{children:[(0,c.jsx)(g,{size:"short"}),(0,c.jsx)(g,{size:"tall"}),(0,c.jsx)(g,{size:"short"}),(0,c.jsx)(g,{size:"tall"})]})]})})]})}},640168:function(e,t,i){i.d(t,{Z:()=>n});let n=({name:e,width:t,height:i})=>{let n=`${t}${"number"==typeof t?"px":""}`,r=`${i}${"number"==typeof i?"px":""}`,l="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${l} ${r};
  width: ${n};
  height: ${r};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${l}px 0;
  }
  100% {
      background-position: ${l}px 0;
  }
}
`}},790199:function(e,t,i){i.d(t,{Z:()=>h,e:()=>g});var n=i(281098),r=i(581722),l=i(20256),a=i(877956),o=i(364188),s=i(56785),d=i(331854),c=i(78762),u=i(785893);let p=(0,c.Z)(()=>Promise.all([i.e("22244"),i.e("23593")]).then(i.bind(i,433485)),void 0,e=>433485,"app-www-storyPins-duplo-HlsVideoContainer",e=>["22244","23593"]),g=Object.freeze({white:"inverse",black:"default"}),x={backgroundColor:"rgba(0, 0, 0, 0.4)"};function m({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,u.jsx)(p,{aspectRatio:s.q4,controls:!1,fallback:(0,u.jsx)(l.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),poster:i||t.metadata.thumbnail,src:t.url})}function h({buttonAction:e,buttonCustomization:t,buttonText:i,experience:c,hideCompleteButton:p,imageAlt:g,imageUrl:h,openNewTab:y,storyType:f,titleText:_,titleTextColor:w,titleTextCustomization:j,videoPin:b,videoPlaceholderImage:v}){(0,n.Z)("FeedCard","/app/www/stories/FeedCard.tsx");let S=(0,r.I0)(),I=(0,a.be)(),k=(0,a.Ig)(),{experience_id:C,placement_id:T}=c||{},F=(0,d.Z)({onVisibilityChanged:e=>{e&&c&&"viewed"!==c.status&&void 0!==T&&void 0!==C&&(c.status="viewed",S(k(T,C,!1,!0)))}}),Z=(0,s.zn)(f),z=Z?o.f8:o.hm,L=Z?o.sH:o.HI,{color:P,fontStyle:E,fontWeight:A,horizontalAlignment:R,fontSize:K}=(0,s.Mf)(j||{},"mweb");return(0,u.jsx)(l.xu,{ref:F,marginBottom:2,padding:1,position:"relative",children:(0,u.jsxs)(l.rU,{accessibilityLabel:_,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),c&&S(I(T,C,!1,!0))},target:y?"blank":null,children:[(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,u.jsxs)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:[(0,u.jsx)(l.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:"feed_card_video"===f&&b?(0,u.jsx)(m,{titleText:_,videoPin:b,videoPlaceholderImage:v}):h&&(0,u.jsx)(l.Ee,{alt:g||_||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:4,naturalWidth:3,src:h})}),!Z&&(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:x},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,u.jsx)(z,{children:(0,u.jsx)(l.xv,{align:R,color:w,italic:"italics"===E,weight:A,children:(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:(P||w)??void 0,fontSize:K}},children:_})})})]})}),!p&&(0,u.jsx)(L,{children:(0,u.jsx)(l.zx,{color:(0,s.pQ)(t),text:i})})]})})}},92529:function(e,t,i){i.d(t,{Z:()=>T});var n=i(281098),r=i(581722),l=i(20256),a=i(56785),o=i(93779),s=i(719685),d=i(94207),c=i(790199),u=i(667294),p=i(825332),g=i(521009),x=i(547585),m=i(169053),h=i(785893);function y({pin:e,width:t,height:i,showDivider:n}){let r=e.images?.["236x"];return(0,h.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,h.jsx)(l.GH,{contentAspectRatio:(r?.width??1)/(r?.height??1),height:i,width:t,children:r?.url&&(0,h.jsx)(l.Ee,{alt:e.description??"",naturalHeight:r?.height??1,naturalWidth:r?.width??1,src:r.url})})})}function f({storyId:e,slotIndex:t}){(0,n.Z)("FlashlightProductStory","/app/www/stories/FlashlightProductStory.tsx");let i=(0,p.s0)(),a=(0,p.TH)(),[o,s]=(0,u.useState)(0),d=(0,u.useRef)(null),c=(0,g.Z)(),f=(0,m.S6)();(0,u.useLayoutEffect)(()=>{let e=d.current;e&&s(e.offsetWidth)},[]);let _=(0,r.v9)(({stories:t})=>t[e]),w=_?.objects?.map(e=>f(e?.id)).filter(Boolean).slice(0,2),{story_type:j,action:b}=_,v=`${a.pathname}products/${a.search}`,S=()=>{c({component:200,event_type:102,view_parameter:3050,view_type:72}),i(v)};return(0,h.jsx)(x.qS,{auxData:{story_type:j,content_ids:w?.map(e=>e?.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>o?(0,h.jsx)(l.xu,{ref:e,padding:2,children:(0,h.jsx)(l.zd,{rounding:2,children:(0,h.jsxs)(l.iP,{onTap:S,children:[(0,h.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",children:w?.map((e,t)=>(0,h.jsx)(y,{height:o-16,pin:e,showDivider:!t,width:(o-16)/2-1},e?.id))}),(0,h.jsx)(l.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,h.jsx)(l.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(l.xu,{alignItems:"center",color:"secondary","data-test-id":"flashlight-story-action-pill",display:"flex",justifyContent:"center",paddingX:4,paddingY:2,rounding:"pill",children:(0,h.jsx)(l.xv,{weight:"bold",children:b?.text})})})})]})})}):(0,h.jsx)(l.xu,{ref:d,dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})})}var _=i(436171),w=i(793760);function j({storyId:e,viewType:t,viewParameter:i}){(0,n.Z)("SearchBubbleStructuredFeedWrapper","/app/www/stories/SearchBubbleStructuredFeedWrapper.tsx");let a=(0,r.v9)(({stories:t})=>t[e]),o=(0,r.v9)(({articles:e})=>a.objects?.map(t=>{let i=e[t.id||""];return{action:{url:i.action?.url},cover_images:[{"236x":{url:i.cover_images?.[0]["236x"]?.url??""}}],title:{format:i.title.format},type:"explorearticle"}})),s=a.display_options,d=s?.content_display,c=s?.header_display,u={container_type:a.container_type,display_options:{num_columns_requested:s?.num_columns_requested,content_display:{grid_layout:d?.grid_layout,model_type:d?.model_type},header_display:{text_alignment:c?.text_alignment,header_size:c?.header_size},item_view_rep_style:s?.item_view_rep_style},id:e,objects:o,story_type:a.story_type,title:{format:a.title?.format}};return(0,h.jsx)(l.xu,{padding:1,children:(0,h.jsx)(w.default,{story:u,storyKey:{type:"Legacy",data:u},view:t,viewParameter:i,width:"100%"})})}var b=i(378888),v=i(940280);function S({guides:e,query:t}){return(0,n.Z)("SearchGuides","/app/www/search/SearchGuides.tsx"),(0,h.jsx)(l.xu,{padding:2,children:(0,h.jsx)(l.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},width:"100%",children:e.map(({display:e,position:i,term:n,color:r})=>{let a;return(0,h.jsx)(l.mB,{color:r,href:(a=-1===i?n:0===i?`${n} ${t}`:`${t} ${n}`,`/search/pins/?rs=${v.i.VANILLA_GUIDE}&q=${encodeURIComponent(a)}`),text:e},e)})})})}let I=["02","01","10","06","09","08","07"];function k({guides:e,storyId:t,slotIndex:i,titleFormat:r}){(0,n.Z)("SearchGuidesStory","/app/www/stories/SearchGuidesStory.tsx");let a=(0,b.mB)((0,p.TH)().search).q??"";return(0,h.jsx)(x.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,h.jsxs)(l.xu,{ref:t,children:[r&&(0,h.jsx)(l.xu,{marginTop:2,paddingY:1,children:(0,h.jsx)(l.xv,{align:"center",children:r})}),(0,h.jsx)(S,{guides:e.map(({display:e,term:t})=>({display:e,color:I[e.charCodeAt(0)%I.length],position:-1,term:t})),query:a})]})})}var C=i(69558);let T=function({slotIndex:e,storyId:t,viewParameter:i,viewType:n}){let u=(0,r.v9)(({stories:e})=>e[t]);if(!u||!u.story_type)return null;let p=(0,C.Z)({containerTypeIsItemGrid:u?.container_type===56,storyType:u?.story_type??""})?"BUBBLE_ONE_COL":u?.story_type,g=u.objects,x=g?.filter(e=>"contextual_search"===e.schema||"contextual_search"===e.type).map(e=>({schema:"contextual_search",display:e.display??"",term:e.term??""})),m=u.action?.text,y=u.action?.url,w=u.display_options?{numColumnsRequested:u.display_options.num_columns_requested||1,titleTextColor:u.display_options.title_text_color||""}:null,b=u.experience,v=u.title&&u.title.format,S=u.description?.format,I=u.custom_properties;switch(p){case d.q:{if(!I||!w)return null;let{numColumnsRequested:e,titleTextColor:t}=w;if(2===e)return null;return(0,h.jsx)(o.Z,{actionType:I.actionType,avatarImageDetails:I.avatar_image_details??{},buttonAction:y??"",buttonText:m??"",descriptionText:S??"",descriptionTextCustomization:I.description_text_customization,examplePinImage:I.example_pin_image_details?.originals??{},experience:b??void 0,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,isFullWidth:!1,openNewTab:I.open_new_tab,titleText:v??"",titleTextColor:TITLE_COLORS[t],titleTextCustomization:I.title_text_customization})}case"feed_card_default":case"feed_card_video":return(0,h.jsx)(c.Z,{buttonAction:y??"",buttonCustomization:I.button_customization,buttonText:m??"",experience:b??void 0,hideCompleteButton:I.hide_complete_button,imageAlt:I.image_alt,imageUrl:I.image,openNewTab:I.open_new_tab,storyType:p,titleText:v??"",titleTextColor:(0,a.h_)(I,w?.titleTextColor),titleTextCustomization:I.title_text_customization,videoPin:I.video_pin,videoPlaceholderImage:I.video_placeholder_image});case"general_shopping_upsell":return(0,h.jsx)(c.Z,{buttonAction:y??"",buttonText:m??"",imageAlt:I?.image_alt,imageUrl:I?.image,storyType:p,titleText:v??"",titleTextColor:w?.titleTextColor?(0,a.h_)(void 0,w.titleTextColor):"black"});case"BUBBLE_ONE_COL":return(0,h.jsx)(l.xu,{padding:2,children:(0,h.jsx)(s.Z,{slotIndex:e,storyKey:{type:"Legacy",data:u},viewParameter:i,viewType:n})});case"pinner_authority":case"pinner_authority_unified":return(0,h.jsx)(_.Z,{slotIndex:e,storyId:t});case"stela_in_flashlight_onecol":return(0,h.jsx)(f,{slotIndex:e,storyId:t});case"search_guides":return(0,h.jsx)(k,{guides:x??[],slotIndex:e,storyId:t,titleFormat:v??""});case"related_searches_organic":case"related_searches":return(0,h.jsx)(j,{storyId:t,viewParameter:i,viewType:n});default:return null}}},436171:function(e,t,i){i.d(t,{Z:()=>c});var n=i(281098),r=i(581722),l=i(20256),a=i(547585),o=i(169053),s=i(238389),d=i(785893);function c({slotIndex:e,storyId:t,exactMatch:i=!1}){(0,n.Z)("PinnerAuthority","/app/www/stories/PinnerAuthority.tsx");let c=(0,o.S6)(),{action:u,aux_fields:p,objects:g,story_type:x,title:m}=(0,r.v9)(({stories:e})=>e[t]),h=(g?.[0]).id,y=g?.slice(1,3).map(({id:e})=>c(e||""))||[];return!i&&y.length<2?null:(0,d.jsx)(a.qS,{auxData:{content_ids:y.map(e=>e?.id),story_id:t,story_type:x,...p},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,d.jsxs)(l.xu,{ref:e,children:[m&&(0,d.jsx)(l.xu,{marginTop:2,paddingY:1,children:(0,d.jsx)(l.xv,{align:"center",children:m.format})}),(0,d.jsx)(s.Z,{action:u,auxData:p,isPinnerAuthorityHero:i,userId:h||"",userPinsImages236x:i?void 0:y.map(e=>e?.images?.["236x"]),userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}},500959:function(e,t,i){i.d(t,{UG:()=>m,ZP:()=>y,aG:()=>h});var n=i(281098),r=i(667294),l=i(20256),a=i(744862),o=i(821342),s=i(19585),d=i(956077),c=i(902293),u=i(572227),p=i(647709),g=i(102267),x=i(785893);let m={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest",responsive:"responsive"},h={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}},bubbleOverlayHovered:{__style:{backgroundColor:"rgba(0, 0, 0, 0.6)"}}};function y({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:y,curator:f,font:_,format:w,height:j,identifierIconType:b,onTap:v,pwtSurfaceContext:S,referringSource:I,subtitle:k,title:C,buttonFormat:T,contentAlign:F="center",textAlign:Z="center",width:z="100%"}){(0,n.Z)("Bubble","/app/www/stories/bubbles/Bubble.tsx");let L=(0,s.Z)(),P=(0,u.Z)(),E=(0,p.HG)(),[A,R]=(0,r.useState)(!1),K=(0,o.Z)(),D=K.isAuth?K?.avatar_color_index:void 0,[M,H]=(0,r.useState)("string"==typeof j?void 0:j);if(!M)return(0,x.jsx)(l.xu,{ref:e=>{e&&H(e.offsetWidth*("string"==typeof j?Number.parseFloat(j):100)/100)},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof j?Number.parseFloat(j)+"%":"100%",width:z}}});let G=w===m.article,U=w===m.interest,B=_||M>250&&"lg"||M>140&&w&&[m.medium,m.small,m.article].includes(w)&&"md"||M<120&&w&&w===m.small&&"xs"||"sm",W=!!b&&(0,c.Z)(b);return(0,x.jsx)(l.xu,{"data-test-id":"search-suggestion","data-test-type":I,onMouseEnter:()=>E?R(!0):void 0,onMouseLeave:()=>E?R(!1):void 0,position:"relative",children:(0,x.jsx)(g.M,{isAppUpsellDisabled:!0,onTouch:()=>{v&&(P({action:"click",item:"search-suggestion"}),v(t))},rounding:4,to:i,children:(0,x.jsxs)(l.zd,{rounding:4,children:[(0,x.jsx)(l.xu,{height:M,width:z,children:y&&(0,x.jsx)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{(0,d.Nx)("RenderSearchLandingPageBubbles"),S&&S.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:y})}),(0,x.jsx)(l.xu,{dangerouslySetInlineStyle:A?h.bubbleOverlayHovered:h.bubbleOverlay,height:M,left:!0,position:"absolute",top:!0,width:z}),f&&!G&&(0,x.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,x.jsx)(a.qE,{color:D,name:f.full_name,outline:!0,size:"xs",src:f.image_small_url})}),W&&(0,x.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,x.jsx)(l.JO,{accessibilityLabel:L._('Shopping icon', 'bubble.shoppingIcon.label', 'Accessibility label for bubble shopping Icon'),color:"default",icon:W,size:12})}),(0,x.jsx)(l.xu,{alignItems:G||U?"end":"center",display:"flex",height:M,justifyContent:F,padding:G||U?6:M>100?3:1,position:"absolute",top:!0,width:z,children:(0,x.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[k&&(0,x.jsx)(l.xv,{align:Z,color:"light",overflow:"normal",size:"lg"===B?"300":"100",children:k}),["lg","md"].includes(B)?(0,x.jsx)(l.X6,{align:Z,color:"light",overflow:"normal",size:"md"===B&&U?"600":"lg"===B?"700":"400",children:C}):(0,x.jsx)(l.xv,{align:Z,color:"light",overflow:"normal",size:"sm"===B?"300":"100",weight:"bold",children:C}),f&&G&&(0,x.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,x.jsx)(l.xu,{marginEnd:2,children:(0,x.jsx)(a.qE,{name:f.full_name,outline:!0,size:"xs",src:f.image_small_url})}),(0,x.jsx)(l.xv,{color:"light",size:"100",weight:"bold",children:f.full_name})]}),T&&(0,x.jsx)(l.xu,{marginTop:4,children:(0,x.jsx)(l.ZP,{accessibilityLabel:T.accessibilityLabel,href:T.href,size:T.size,text:T.text})})]})})]})})})}},719685:function(e,t,i){i.d(t,{Z:()=>x});var n,r=i(281098);i(167912);var l=i(20256),a=i(521009),o=i(28427),s=i(902293),d=i(47426),c=i(547585),u=i(934357),p=i(785893);let g=(void 0!==n||(n=i(789154)).hash&&"c6be2bfa9e282b6036307fb17958ce3d"!==n.hash&&console.error("The definition of 'BubbleStory_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function x({auxData:e,pattern:t,slotIndex:i,viewType:n,viewParameter:x,storyKey:m,titleAlignment:h="center",omitTitle:y=!1,titleMarginBottom:f=2,titleMarginStart:_=0,titleSize:w="300"}){(0,r.Z)("BubbleStory","/app/www/stories/bubbles/BubbleStory.tsx");let j=(0,o.Z)(g,m),b=(0,a.Z)();if(null==j)return null;let v=!!j.storyTitle,S=j.storyTitle?.format,I=j.displayOptions?.identifierIconName,k=j.action?.url,C=j.action?.text||void 0,T=(j.objects?.filter(e=>"ExploreArticle"===e.__typename)??[]).map(({type:e,entityId:t})=>e+":"+t).join("|"),F={story_type:j.storyType,story_id:j.storyId,content_ids:T,...e},Z=!!I&&"number"==typeof I&&(0,s.Z)(I);return(0,p.jsx)(c.qS,{auxData:F,component:200,loggingId:j.storyId??"",objectIdStr:j.storyId??"",slotIndex:i,viewParameter:x,viewType:n,children:({impressionTrackerRef:e})=>(0,p.jsxs)(l.xu,{ref:e,children:[v&&!y&&(0,p.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:h,marginBottom:f,marginStart:_,children:[Z&&I!==s.J&&(0,p.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,p.jsx)(l.JO,{accessibilityLabel:"",color:"default",icon:Z,size:14})}),(0,p.jsx)(l.xv,{size:w,weight:"bold",children:S})]}),(0,p.jsx)(u.Z,{pattern:t,referringSource:j.referringSource,storyKey:j,viewParameter:x,viewType:n}),k&&C&&(0,p.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,p.jsx)(l.ZP,{accessibilityLabel:C,color:"gray",href:k,onClick:()=>{b({view_type:n,view_parameter:x,aux_data:F,event_type:102})},rel:(0,d.Z)({url:k})?"nofollow":void 0,size:"md",target:(0,d.Z)({url:k})?"blank":void 0,text:C})})]})})}},934357:function(e,t,i){i.d(t,{Z:()=>x});var n,r=i(281098);i(167912);var l=i(20256),a=i(469167),o=i(28427),s=i(500959),d=i(793548),c=i(785893);let u=(void 0!==n||(n=i(868391)).hash&&"1820448f293b4452fdd957a1b02dd23b"!==n.hash&&console.error("The definition of 'BubblesGridRep_story' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function p({storyData:e,onTouch:t,pattern:i=[s.UG.medium],pwtSurfaceContext:n,referringSource:r,viewParameter:a,viewType:o}){let u=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],p=u.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,c.jsx)(l.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:u.map((u,g)=>{let x=i[g%i.length];return(0,c.jsx)(l.xu,{"data-test-id":`bubble-${g}`,paddingY:1,width:[s.UG.small,s.UG.extra_small].includes(x)?"calc(50% - 4px)":"100%",children:(0,c.jsx)(d.Z,{auxData:{content_ids:p,story_type:e.storyType,grid_index:g},bubbleKey:u,format:x,height:[s.UG.medium,s.UG.extra_small].includes(x)&&"50%"||x===s.UG.article&&"73%"||"100%",onTouch:t,pwtSurfaceContext:n,referringSource:r,slotIndex:g,storyId:e.storyId??"",viewParameter:a,viewType:o})},`bubble-${g}`)})})}function g({storyData:e,onTouch:t,pwtSurfaceContext:i,referringSource:n,viewParameter:r,viewType:o}){let s=e.objects?.filter(e=>"ExploreArticle"===e.__typename)??[],u=s.map(({type:e,entityId:t})=>e+":"+t).join("|");return(0,c.jsx)(l.xu,{"data-test-id":"masonry-bubbles-grid-rep-responsive-wrapper",margin:"auto",width:"100%",children:(0,c.jsx)(a.default,{columnWidth:236,gutterWidth:16,items:s,minCols:1,renderItem:({data:a,itemIdx:s})=>(0,c.jsx)(l.xu,{"data-test-id":`bubble-${a.entityId}`,children:(0,c.jsx)(d.Z,{auxData:{content_ids:u,story_type:e.storyType,grid_index:s},bubbleKey:a,height:118,onTouch:t,pwtSurfaceContext:i,referringSource:n,slotIndex:s,storyId:e.storyId??"",viewParameter:r,viewType:o,width:236})})})})}function x({storyKey:e,...t}){(0,r.Z)("BubblesGridRep","/app/www/stories/bubbles/BubblesGridRep.tsx");let i=(0,o.Z)(u,e);return i&&(t.pattern?.includes(s.UG.responsive)?(0,c.jsx)(g,{...t,storyData:i}):(0,c.jsx)(p,{...t,storyData:i}))}},793548:function(e,t,i){i.d(t,{Z:()=>x});var n,r=i(281098);i(167912);var l=i(20256),a=i(512712),o=i(521009),s=i(28427),d=i(378888),c=i(547585),u=i(500959),p=i(785893);let g=(void 0!==n||(n=i(760441)).hash&&"ee837caaba80f67c3ccb2223d20c7649"!==n.hash&&console.error("The definition of 'ExploreBubble_exploreArticle' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function x({auxData:e,bubbleKey:t,font:i,format:n,height:x,onTouch:m,pwtSurfaceContext:h,referringSource:y,slotIndex:f,storyId:_,viewParameter:w,viewType:j,width:b="100%"}){(0,r.Z)("ExploreBubble","/app/www/stories/bubbles/ExploreBubble.tsx");let v=(0,s.Z)(g,t),S=(0,o.Z)();if(null==v||!v.coverImage236x?.[0]?.url&&!v.coverImage474x?.[0]?.url||!v.articleTitle?.format)return null;let I=v.curator?.fullName&&v.curator.imageSmallUrl?{full_name:v.curator.fullName,image_small_url:v.curator.imageSmallUrl}:void 0,k=v.coverImage474x?.[0]?.url||v.coverImage236x?.[0]?.url,C=v.action?.url||(({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:r,title:l})=>{let o=null!=e&&(0,a.y)(e),s=(0,d.XP)({q:t,rs:i||void 0,b_id:n,source_id:r}),c=o&&l?(0,a.x)({title:l,id:n,articleType:"discover"}):`/discover/article/${n}/`;return o?c:`/search/pins/${s?"?"+s:""}`})({storyCategory:v.storyCategory,query:v.articleTitle?.format,referringSource:y,bubbleId:v.entityId,storyId:_,title:v.articleTitle?.format}),T=n===u.UG.article?13865:200,F=n===u.UG.article?102:6940,Z=t=>{S({component:T,event_type:F,object_id_str:t,view_parameter:w,view_type:j,aux_data:{article_id:t,grid_index:f,...e}}),m&&m({query:v.articleTitle?.format??""})},z=v.dominantColors&&v.dominantColors.length?v.dominantColors[0]:void 0;return(0,p.jsx)(c.fv,{auxData:{story_id:_,...e},impressionData:{storyCategory:v.storyCategory,storyIdStr:_},loggingId:_,slotIndex:f,viewParameter:w,viewType:j,children:({impressionTrackerRef:e})=>(0,p.jsx)(l.xu,{ref:e,children:(0,p.jsx)(u.ZP,{backgroundColor:z,bubbleId:v.entityId,bubbleUrl:C,coverImageUrl:k,curator:I,font:i,format:n,height:x,identifierIconType:v.identifierIconType,onTap:Z,pwtSurfaceContext:h,referringSource:y,title:v.articleTitle?.format??"",width:b})})})}},94207:function(e,t,i){i.d(t,{Nu:()=>l,q:()=>r,r:()=>a,z5:()=>n});let n=["board_shop_tool_module","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],r="checklist_education_feed_card",l=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"],a={"#d7edff":"01","#002966":"01","#cfffca":"02","#ffe0e0":"04","#800000":"04","#dafff6":"06","#fffd92":"07","#c3f9c2":"07","#005f3e":"07","#ffe4c1":"08","#842000":"08","#ffe2eb":"09","#e9e4ff":"10","#400387":"10","#dad4ff":"10","#efefef":"11"}},69558:function(e,t,i){i.d(t,{Z:()=>r});var n=i(963999);let r=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,n.Z)({storyType:t})},963999:function(e,t,i){i.d(t,{Z:()=>r});var n=i(94207);let r=({storyType:e})=>n.z5.includes(e)},238389:function(e,t,i){i.d(t,{Z:()=>v});var n=i(281098),r=i(667294),l=i(581722),a=i(20256),o=i(521009),s=i(744862),d=i(19585),c=i(906553),u=i(302148),p=i(15667),g=i(47426),x=i(102267),m=i(38817),h=i(547585),y=i(676244),f=i(793698),_=i(785893);let w={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},j=({height:e,image:t,width:i})=>{(0,n.Z)("FeedUserRepContextualPinImage","/app/www/user/duplo/FeedUserRepContextualPinImage.tsx");let r=(0,d.Z)();return(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,_.jsxs)(a.xu,{position:"relative",children:[(0,_.jsx)(a.GH,{contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,height:e,width:i,children:t.url&&(0,_.jsx)(a.Ee,{alt:r._('pin image', 'alt text for pin image', 'alt text for pin image'),color:t.dominant_color||void 0,naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url})}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:w,height:e,left:!0,position:"absolute",top:!0,width:i})]}):(0,_.jsx)(a.xu,{color:"secondary",height:e,width:i})})};var b=i(988537);function v({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:w=!1,onFollowUser:v,onUnfollowUser:S,userId:I,userPinsImages236x:k,viewParameter:C,viewType:T,truncateName:F=!1}){(0,n.Z)("FeedUserRep","/app/www/user/duplo/FeedUserRep.tsx");let Z=(0,d.Z)(),z=(0,c.Z)(),L=(0,l.I0)(),{locale:P}=(0,p.B)(),E=(0,o.Z)(),[A,R]=(0,r.useState)(w?window.innerWidth-16:null),K=(0,f.mN)()(I);if(!K)return null;let{contextual_pin_image_urls:D,explicitly_followed_by_me:M,follower_count:H=0,full_name:G,image_medium_url:U,is_verified_merchant:B,recent_pin_images:W,username:$,verified_identity:O}=K,N=e=>A?(A-(e-1))/e:0,q=w?1.6*N(4):117,Y=W?.["222x"]||W?.["192x"]||[],J=D?.["222x"]||D?.["192x"]||[];i&&0===J.length&&(J=Y);let X=w&&J.length<=0,V=w?J.concat(Y).slice(0,4):(k||[]).concat(Y).slice(0,2);0===V.length&&(V=[void 0,void 0]);let Q=!X&&(A?(0,_.jsx)(a.zd,{rounding:4,children:(0,_.jsx)(a.kC,{children:V.map((e,t)=>(0,_.jsx)(j,{height:q,image:e,width:N(V.length)},`pinImage-${t}`))})}):(0,_.jsx)(a.xu,{ref:e=>{e&&R(e.offsetWidth)},height:q,width:"100%"})),ee=e=>(0,_.jsx)(a.kC,{justifyContent:"center",children:(0,_.jsx)(a.xu,{height:60,marginTop:e,width:60,children:(0,_.jsx)(s.qE,{color:K.avatar_color_index,name:G??"",outline:!0,src:U??""})})}),et=e=>(0,_.jsxs)(a.kC,{alignItems:e,direction:"column",gap:{row:0,column:1},children:[(0,_.jsx)(a.kC,{alignItems:"stretch",maxWidth:(w?(A||0)/2:A)||void 0,children:(0,_.jsx)(a.xv,{align:e,lineClamp:F?1:void 0,weight:"bold",children:B||O?.verified?(0,_.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:G??"",truncate:F,verifiedType:B?"verifiedMerchant":"verifiedIdentity"}):G})}),(0,_.jsx)(a.xv,{align:e,inline:!0,size:"100",children:(0,u.nk)(Z.ngettext('{{followers}} follower', '{{followers}} followers', H, 'PinnerAuthority.followersCount', 'Count of a user\'s followers'),{followers:z(P,H,{shortform:!0})})})]}),ei=(0,_.jsx)(a.kC,{justifyContent:"center",children:e&&e.url?(0,_.jsx)(a.ZP,{accessibilityLabel:e.text,color:"gray",href:e.url,onClick:()=>{E({event_type:9029,object_id_str:I,view_type:T,view_parameter:C,aux_data:t})},rel:(0,g.Z)({url:e.url})?"nofollow":void 0,size:"lg",target:(0,g.Z)({url:e.url})?"blank":void 0,text:e.text||""}):(0,_.jsx)(m.Z,{followEventType:45,id:I,isFollowed:M,isSecondaryButton:!0,onFollow:e=>{v&&v(),L((0,y.ZN)(e))},onUnfollow:e=>{S&&S(),L((0,y.fv)(e))},pinKey:null,size:"lg",unfollowEventType:46,viewParameter:C,viewType:T})});return(0,_.jsx)(h.Cy,{loggingId:I,objectIdStr:I,slotIndex:0,viewParameter:C,viewType:T,children:({impressionTrackerRef:e})=>(0,_.jsx)(a.xu,{ref:e,"data-test-id":"user-rep",marginBottom:6,padding:1,children:(0,_.jsx)(x.M,{onTouch:()=>{E({event_type:43,object_id_str:I,view_parameter:C,view_type:T})},to:`/${$}/`,children:(0,_.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[Q,w?(0,_.jsx)(a.xu,{width:"100%",children:(0,_.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),et("start")]}),ei]})}):(0,_.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),et("center"),ei]})]})})})})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/35274-7cda6a5cec9acb21.mjs.map