(self.modernJsonp=self.modernJsonp||[]).push([["73234"],{355940:function(e,t,n){n.d(t,{Z:()=>a});let a=n(722194).Z},854237:function(e,t,n){n.d(t,{$S:()=>a,V$:()=>i,_4:()=>r,iY:()=>o,mR:()=>s});let a="REFRESH_ALL_EXPERIENCES_MULTI",i="UPDATE_EXPERIENCE_MULTI",s="FETCH_EXPERIENCES",r="REFRESH_ALL_EXPERIENCES",o="UPDATE_EXPERIENCE"},686319:function(e,t,n){n.d(t,{Z:()=>i});var a=n(575108);function i({url:e,method:t,data:n,ignoreBookmark:i,callOptions:s,headers:r}){let o={url:e,data:n,...null!=i?{ignore_bookmark:i}:{},..."PATCH"===t?{patchInsteadOfPut:!0}:{}},l=a.Z.create("ApiResource",o);switch(t){case"POST":return l.callCreate(s,r);case"PUT":case"PATCH":return l.callUpdate(s,r);case"DELETE":return l.callDelete(s,r);default:return l.callGet(s,r)}}},709311:function(e,t,n){n.d(t,{Z:()=>r});var a=n(281098),i=n(906553),s=n(15667);let r=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:r,shortformMaximumFractionDigits:o,formatStyle:l,uplimit:d,value:c})=>((0,a.Z)("PrettyNumber","/app/packages/i18n/PrettyNumber.tsx"),(0,i.Z)()((0,s.B)().locale||"en-US",c,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:r,shortform_maximum_fraction_digits:o,style:l,uplimit:d}))},19585:function(e,t,n){n.d(t,{Z:()=>a}),n(82583),n(15667);let a=n(525839).nI},82583:function(e,t,n){let a;n.d(t,{Z:()=>y});var i=n(341877),s=n(603316);let r="string_usage_logger.exceptions",o=[];function l(){if(!o.length)return;let e=[...o];o=[],clearTimeout(a),a=void 0;try{let{default:t}=n(966872);t.logToServer(t.SERVER_LOG_TYPE.STRING_USAGE,t.HTTP_METHOD.POST,e,3,1e3)}catch(e){(0,s.nP)(r)}}function d(e,t,n,c,u,p,h,_=1e-4){Math.random()<_&&(()=>{try{let s=i.Z.getTextUnitName(e,n,h,t),r={repository:"webapp",sample_rate:_,content:e,text_unit_name:s,asset_path:"messages.pot",comment:c.trim(),app_locale:t,mojito_locale:t,target:u,translation_status:p,version:"1.0"};!function(e){o.push(e),a||(a=setTimeout(l.bind(this),1e4))}(r)}catch(e){(0,s.nP)(r)}})()}let c="TRANSLATED",u="UNTRANSLATED",p="DELTA",h="i18n.ota_deltas.prod.lookup.hit";function _(e){return window.location.hostname.includes("pinterdev.com")?{locale:e,repository:"webapp",hostname:window.location.hostname}:{locale:e,repository:"webapp"}}let m="NATIVE",f="MT_REQUIRED";function b(e,t,n,a,r,o){let{localeCode:l,inContextTranslation:b,getDeltaTranslation:g}=e,y=t,v=o||void 0===l||"en-US"===l?c:u;if(n=n.replace(/\s+/g," "),"en-US"!==l&&g){let e=g(i.Z.getTextUnitName(n,a,r,l));if(e)return(0,s.nP)(h,{sampleRate:.001,tags:_(l)}),d(n,l,a,"",e,p,r),e}return b&&(y=v===c?b.getIctTranslationOrDefault(n,a,r,l,t,m):b.getIctTranslationOrDefault(n,a,r,l,t,f)),d(n,l,a,"",y,v,r),y}function g(e,t,n="",a="",r){let{localeCode:o,i18nStrings:l,inContextTranslation:b,getDeltaTranslation:y}=e;if(t=t.replace(/\s+/g," "),"en-US"!==o&&y){let e=y(i.Z.getTextUnitName(t,n,r,o));if(e)return(0,s.nP)(h,{sampleRate:.001,tags:_(o)}),d(t,o,n,a,e,p,r),e}let v=t,x=void 0===o||"en-US"===o?c:u;return void 0!==o&&"en-US"!==o&&void 0!==l&&void 0!==l[n]&&void 0!==l[n][t]&&(x=c,Array.isArray(l[n][t])?void 0!==r&&(v=l[n][t][r]):v=l[n][t]),b&&(v=x===c?b.getIctTranslationOrDefault(t,n,r,o,v,m):b.getIctTranslationOrDefault(t,n,r,o,v,f)),d(t,o,n,a,v,x,r),v}function y(e,t){let{otaData:n}=t,a={...t,[e]:{...t[e]||{},i18nStrings:t[e]?.i18nStrings||t.i18nStrings,plural:t[e]?.plural||t.plural}},i={localeCode:e,i18nStrings:a.i18nStrings,pluralFunction:a.locale===e&&a.plural||null,inContextTranslation:a.inContextTranslationWebapp,getDeltaTranslation:n?e=>n.deltas?n.deltas[e]:null:null},s={_:(e,t="",n="",a)=>g(i,e,t,n,a),bt:(e,t,n,a,s)=>b(i,e,t,n,a,s),nbt:(e,t,n,a)=>(function(e,t,n,a,i){let{localeCode:s,pluralFunction:r}=e,o=+(r||(e=>1!==e))(n),l="en-US"===s&&1===o?t[1]:t[0];return b(e,t[o]??t[0],l,a,o,i)})(i,e,t,n,a),ngettext:(e,t,n,a,s)=>(function(e,t,n,a,i,s){let{localeCode:r,pluralFunction:o}=e,l=+(o||(e=>1!==e))(a);return g(e,"en-US"===r&&1===l?n:t,i,s,l)})(i,e,t,n,a,s),getLocaleData:()=>a,getPluralFunction:(t=e)=>a[t]&&a[t].plural?a[t].plural:e=>1!==e},r={defaultErrorMessage:s._('Sorry! Something went wrong on our end!', ' - ', ' -- '),asciiPasswordError:s._('Oops! Your password can only have letters, numbers and basic symbols.', ' - ', ' -- ')};return{...s,commonStrings:r}}},670622:function(e,t,n){n.d(t,{Z:()=>r});var a=n(410156),i=n(19585),s=n(302148);function r(){let e=(0,i.Z)();return function(t,n){let i=new Date(t).getTime(),r=Date.now()-i,o=Math.floor(r/a.FS),l=Math.floor(r/a.UK),d=Math.floor(r/a.F4),c=Math.floor(r/a.VL),u=Math.floor(r/a.N9),p=Math.floor(r/a.N1),h=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', o, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),m=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),f=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),b=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),g=e.ngettext('{{ years }} year ago', '{{ years }} years ago', p, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', o, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),P=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),S=e.ngettext('{{ years }}y', '{{ years }}y', p, 'years ago abbreviated', 'years ago abbreviated');return p>0?(0,s.nk)(n?S:g,{years:p}).join(""):u>0?(0,s.nk)(n?P:b,{months:u}).join(""):c>0?(0,s.nk)(n?w:f,{weeks:c}).join(""):d>0?(0,s.nk)(n?x:m,{days:d}).join(""):l>0?(0,s.nk)(n?v:_,{hours:l}).join(""):o>0?(0,s.nk)(n?y:h,{minutes:o}).join(""):e._('Just now', ' - ', ' -- ')}}},525839:function(e,t,n){n.d(t,{ZP:()=>o,nI:()=>r,oz:()=>i,q6:()=>a});let{Provider:a,Consumer:i,useHook:s,get:r}=(0,n(729434).Z)("i18n"),o=s},906553:function(e,t,n){n.d(t,{Z:()=>r});var a=n(19585),i=n(473728);let s=(e,t)=>{let n=t||0,a=10**n,i=+(n?e*a:e).toFixed(8),s=Math.floor(i),r=i-s,o=r>.49999999&&r<.50000001?s%2==0?s:s+1:Math.round(i);return n?o/a:o};function r(){let e=(0,a.Z)();return(t,n,a)=>{let r=0,o=0,l=a&&a.style||void 0,d=a&&a.shortform||!1,c=a&&a.uplimit||void 0,u=a&&a.currency||void 0,p=!!c&&n>=c,h=c&&p?c:n;if("currency"===l){let{minimumFractionDigits:e,maximumFractionDigits:n}=((e,t)=>{if(t){let{minimumFractionDigits:n,maximumFractionDigits:a}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==n&&void 0!==a)return{minimumFractionDigits:n,maximumFractionDigits:a}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,u);r=void 0===a||void 0===a.maximum_fraction_digits?n:a.maximum_fraction_digits,o=void 0===a||void 0===a.minimum_fraction_digits?e:a.minimum_fraction_digits}else r=void 0===a||void 0===a.maximum_fraction_digits?0:a.maximum_fraction_digits,o=void 0===a||void 0===a.minimum_fraction_digits?0:a.minimum_fraction_digits;if(d&&h>999&&(r=void 0===a||void 0===a.shortform_maximum_fraction_digits?2:a.shortform_maximum_fraction_digits,o=0),r<o)return String(h);let _=h,m="",f=[{"100m":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],b=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],g=/^zh|ja|ko/.test(t);if(d&&h>999){let e=g?f:b;for(let t=0;t<e.length;t+=1){let n=Object.keys(e[t])[0],a=e[t][n].value;if(h>=a){_=s(h/a*Math.pow(10,r))/Math.pow(10,r),m=e[t][n].localeKey;break}}}if(null==_)return"";let y=_.toLocaleString([(e=>{try{0..toLocaleString([e])}catch(e){return!1}return!0})(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:a})=>{let i={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...i,style:n,..."currency"===n?{currency:a,currencyDisplay:"symbol"}:{}}:i})({maximumFractionDigits:r,minimumFractionDigits:o,currency:u,style:l}));return m&&m.length>0?(0,i.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:y,numberSuffix:m})+(p?"+":""):y+(p?"+":"")}}},612647:function(e,t,n){n.d(t,{Z:()=>a});function a(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}},473304:function(e,t,n){n.d(t,{Z:()=>h});var a=n(281098),i=n(667294),s=n(20256),r=n(937805),o=n(667835),l=n(461951),d=n(816358),c=n(516114),u=n(883379),p=n(785893);function h({children:e,footerConfig:t,headerConfig:n,height:h,hideOnScroll:_,hideOnScrollState:{isHidden:m,updateHiddenState:f},isFooterHidden:b,noPadding:g,paddingX:y,paddingY:v=c.og,type:x,zIndex:w,isStoryPin:P}){let S,E;(0,a.Z)("FixedContent","/app/packages/layout/FixedContent.tsx");let{headerLimitedOverflow:A,ignoreObstructions:I,zIndexForGestaltBug:j}=n||{},{appUpsellFooterConfig:C,footerInLego:T,navFooterConfig:k}=t||{},L=!!C,Z="header"===x?"top":"bottom",z=(0,o.vs)(),{mWebCloseupRedesignEnabled:D}=(0,r.Z)(),O=(0,i.useRef)(null),R=(0,i.useRef)(null);(0,i.useEffect)(()=>{try{if(!I){let e=O.current;R.current=A&&e&&Array.isArray(e.children)?e.children[0]:e,R.current instanceof HTMLElement&&d.Z.addObstruction(Z,R.current)}}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}return()=>{!I&&R.current instanceof HTMLElement&&d.Z.removeObstruction(Z,R.current)}},[I,A,Z,z]);let U="top"===Z?"relative":"fixed",H=g?0:v,B=(h??c.R$)+(n?.overrideTop||0),F=_||k?{transition:T||D?"transform 300ms ease-in-out, opacity 300ms ease-in-out":"transform 200ms linear",...m||b?{transform:`translateY(${"top"===Z?-B:B}px)`,opacity:T||D?0:1}:Object.freeze({})}:{},W=2*!("relative"!==U||n?.noGutter),N=W?-W:0,M=z?o.k7:"rgba(255,255,255,.95)";z&&("header"===x?S=-1:E=-1);let X=T?L?void 0:h??c.R$:"100%",V=T?c.KJ:void 0,Y=n?.isTranslucent&&M||z?M:l.Wmm,K=n?.isTransparentBackground&&l.Wyp?l.Wyp:Y,$=(0,i.useMemo)(()=>({height:"footer"===x&&D?`calc(${X} + env(safe-area-inset-bottom))`:X,...D&&"footer"===x?{paddingBottom:`calc(env(safe-area-inset-bottom) + ${4*(H||0)}px)`}:Object.freeze({})}),[D,X,x,H]),J=(0,u.Z)({skipExpActivation:!0});return(0,p.jsx)(s.xu,{ref:O,bottom:"footer"===x,dangerouslySetInlineStyle:{__style:{top:S,bottomStyle:E,...!w||j?{zIndex:j||1}:Object.freeze({}),...A?{background:"transparent",overflow:"hidden",paddingBottom:c.UB,marginBottom:-c.UB,pointerEvents:"none"}:Object.freeze({}),...n?.hasBorder?{borderBottom:c.dS}:Object.freeze({}),...t?.hasTopShadow?{boxShadow:"0 -2px 4px 1px rgba(0, 0, 0, 0.08)"}:Object.freeze({}),...F}},"data-test-id":x,display:L?"flex":void 0,height:h&&!T?h:void 0,left:!0,marginEnd:T?"auto":N,marginStart:T?"auto":N,onTransitionEnd:()=>{(_||k)&&R.current&&(m||b?d.Z.removeObstruction(Z,R.current):d.Z.addObstruction(Z,R.current))},position:U,right:!0,top:"header"===x,width:T||"fixed"!==U?void 0:"100%",zIndex:j?void 0:w,children:(0,p.jsx)(s.xu,{alignItems:t?.alignCenter?"center":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:K,paddingLeft:J&&!P?"8px":void 0,...$,boxShadow:D&&"footer"===x?`0 10px 0 0 ${K}, ${c.KJ}`:V,marginBottom:T&&!k?.docked?16:void 0,...A?{pointerEvents:"auto"}:Object.freeze({}),...n?.useRoundedCorners?{zIndex:5,borderTopRightRadius:17,borderTopLeftRadius:17,borderBottomRightRadius:0,borderBottomLeftRadius:0}:Object.freeze({})}},display:T||t?.alignCenter?"flex":void 0,marginEnd:T?"auto":void 0,marginStart:T?"auto":void 0,paddingX:y||4*("footer"===x&&!g)+W,paddingY:H,position:"relative",rounding:T&&!k?.docked?"pill":void 0,width:k?k.footerWidth:L?void 0:"100%",children:"function"==typeof e?e({updateHiddenState:f}):e})})}},588367:function(e,t,n){n.r(t),n.d(t,{default:()=>d});var a=n(281098),i=n(20256),s=n(516114),r=n(473304),o=n(211887),l=n(785893);function d({hasBorder:e,headerLimitedOverflow:t,ignoreObstructions:n,isTranslucent:d,isTransparentBackground:c,noGutter:u,overrideTop:p,useRoundedCorners:h,zIndexForGestaltBug:_,isStoryPin:m,...f}){(0,a.Z)("FixedHeader","/app/packages/layout/FixedHeader.tsx");let{noPadding:b,paddingY:g=s.og,zIndex:y}=f;return(0,l.jsx)(i.Le,{height:t?s.LV+2*(b?0:g)*4:void 0,top:p||0,zIndex:y||void 0,children:(0,l.jsx)(o.Z,{hideOnScroll:f.hideOnScroll,children:a=>(0,l.jsx)(r.Z,{...f,headerConfig:{isTranslucent:d,isTransparentBackground:c,headerLimitedOverflow:t,hasBorder:e,ignoreObstructions:n,noGutter:u,overrideTop:p,zIndexForGestaltBug:_,useRoundedCorners:h},hideOnScrollState:a,isStoryPin:m,type:"header"})})})}},211887:function(e,t,n){n.d(t,{Z:()=>r});var a=n(667294),i=n(159527);function s(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends a.Component{constructor(...e){super(...e),s(this,"state",{isHidden:!!this.props.appUpsellFooterConfig||!!this.props.navFooterConfig?.isDockedNavOnPlp}),s(this,"lastScrollPos",0),s(this,"updateHiddenState",e=>{this.reqAnimationId=window.requestAnimationFrame(()=>{this.setState({isHidden:e})})}),s(this,"handleScroll",(0,i.Z)(()=>{let{appUpsellFooterConfig:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state,a=window.scrollY,i=a-this.lastScrollPos,s="none",{scrollHeight:r,clientHeight:o}=document.documentElement||{};Number.isNaN(r)||Number.isNaN(o)||(s=i<0?a<=Math.abs((window.scrollMinY||0)+Math.max(i,20))?"start":"none":a>=(window.scrollMaxY||r-o)-Math.max(i,20)?"end":"none");let l=55*!t?.isModal;e?i>20&&n&&a>=500?e.shouldShowAfterScroll()&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20&&!n||a<=l)&&(this.updateHiddenState(!0),t?.onScroll(!0)):this.props.navFooterConfig?.isDockedNavOnPlp?"start"===s&&!n||a<=l?(this.updateHiddenState(!0),t?.onScroll(!0)):(a>l||"end"===s)&&n&&(this.updateHiddenState(!1),t?.onScroll(!1)):(i<-20||"start"===s)&&n||a<=l?(this.updateHiddenState(!1),t?.onScroll(!1)):(i>20||"end"===s)&&!n&&(this.updateHiddenState(!0),t?.onScroll(!0)),this.lastScrollPos=a},30))}componentDidMount(){try{(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.addEventListener("scroll",this.handleScroll)}catch(e){window.console.error(e),window.console.error('Can only register impression obstructions for type "HTMLElement"')}}componentWillUnmount(){(this.props.hideOnScroll||this.props.navFooterConfig?.isDockedNavOnPlp)&&window.removeEventListener("scroll",this.handleScroll),this.reqAnimationId&&(window.cancelAnimationFrame(this.reqAnimationId),this.reqAnimationId=null)}componentDidUpdate(e){!e.hideOnScroll&&this.props.hideOnScroll||!e.navFooterConfig?.isDockedNavOnPlp&&this.props.navFooterConfig?.isDockedNavOnPlp?(this.updateHiddenState(!0),window.addEventListener("scroll",this.handleScroll)):(e.hideOnScroll&&!this.props.hideOnScroll||e.navFooterConfig?.isDockedNavOnPlp&&!this.props.navFooterConfig?.isDockedNavOnPlp)&&(this.updateHiddenState(!1),window.removeEventListener("scroll",this.handleScroll))}render(){let{children:e,navFooterConfig:t}=this.props,{isHidden:n}=this.state;return e({isHidden:!t?.forceShow&&n,updateHiddenState:this.updateHiddenState})}}},506662:function(e,t,n){n.d(t,{Ui:()=>m,R$:()=>el,dZ:()=>c,bW:()=>g,Ur:()=>S,Bg:()=>I,pV:()=>Q,Ep:()=>J,RU:()=>eI,QD:()=>Z,Q0:()=>ei,tZ:()=>es,lY:()=>w,rk:()=>eL,OJ:()=>d,XQ:()=>N,En:()=>ee,Xn:()=>W,PY:()=>R,L6:()=>q,fY:()=>ey,f1:()=>er,Y8:()=>E,C$:()=>B,cY:()=>ew,$Y:()=>ec,z_:()=>ea,ey:()=>eg,dK:()=>P,Ig:()=>eF,gT:()=>et,or:()=>O,HV:()=>F,Fr:()=>eb,E0:()=>eu,Zz:()=>M,H_:()=>D,gf:()=>Y,jG:()=>eR,mP:()=>U,q_:()=>$,Fy:()=>p,e:()=>eO,re:()=>X,LO:()=>ek,OX:()=>eo,mY:()=>eC,l4:()=>G,b0:()=>b,mk:()=>ej,oF:()=>eS,mW:()=>A,LM:()=>eh,FO:()=>V,dm:()=>k,ej:()=>eT,Lj:()=>z,jC:()=>e_,OK:()=>K,m8:()=>eU,am:()=>o,uj:()=>eH,O7:()=>eA,b_:()=>eP,KY:()=>f,uM:()=>ef,ll:()=>eW,x7:()=>ev,j8:()=>em,Q8:()=>j,dt:()=>v,Mc:()=>eB,XE:()=>u,Y_:()=>C,h3:()=>ez,Ni:()=>x,hd:()=>H,dr:()=>en,bo:()=>ep,J:()=>l,N6:()=>T,z6:()=>L,$V:()=>ed,Gl:()=>eE,wg:()=>y,pD:()=>_,XU:()=>ex,nU:()=>eD,bb:()=>eZ,AX:()=>h});var a=n(512599),i=n(414471);let s=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today|tv|shopping|videos|age-apeal|oauth)\/)[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF\-]+(?=\/|$)/);var r=n(215295);let o=e=>s.test(e.pathname),l=(e,t)=>{let{pathname:n}=e;return o(e)&&n.match(t||"?")},d=e=>{let{pathname:t}=e;return!!(0,a.LX)({path:"/:username/:boardId/:boardSectionId",end:!0},t)&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{let{pathname:n}=e;return d(e)&&n.match(t||"?")},u=e=>!!(0,a.LX)({path:"/board/:id/edit",end:!0},e.pathname),p=e=>!!(0,a.LX)({path:"/board/:id/edit/collaborators",end:!0},e.pathname),h=e=>!!(0,a.LX)({path:"/board/:id/edit/add_collaborators",end:!0},e.pathname),_=e=>!!(0,a.LX)({path:"/boardsection/:id/edit",end:!0},e.pathname),m=e=>!!(0,a.LX)({path:"/pin/:id/comments",end:!0},e.pathname),f=e=>!!(0,a.LX)({path:"/pin/:id/edit",end:!0},e.pathname),b=e=>!!(0,a.LX)({path:"/conversation/:id",end:!0},e.pathname),g=e=>!!(0,a.LX)({path:"/appealed-pin/",end:!0},e.pathname),y=e=>!!(0,a.LX)({path:"/reports-and-violations/",end:!0},e.pathname),v=e=>e.pathname.startsWith("/age-appeal"),x=e=>e.pathname.startsWith("/business/"),w=e=>!!(0,a.LX)({path:"/business/business-access/:userBizId/dashboard",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:userBizId/dashboard",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/dashboard",end:!0},e.pathname),P=e=>!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/hierarchy",end:!0},e.pathname),S=e=>!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/dashboard",end:!0},e.pathname),E=e=>!!(0,a.LX)({path:"/business/business-access/:userBizId/asset-groups",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:userBizId/asset-groups",end:!0},e.pathname),A=e=>!!(0,a.LX)({path:"/business/business-manager/:userBizId/catalogs",end:!0},e.pathname),I=e=>!!(0,a.LX)({path:"/business/catalogs/:userBizId/",end:!1},e.pathname),j=e=>!!(0,a.LX)({path:"/business/business-access/:userBizId/shared-tags",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:userBizId/shared-tags",end:!0},e.pathname),C=e=>!!(0,a.LX)({path:"/business/business-access/:userBizId/brand-safety",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:userBizId/brand-safety",end:!0},e.pathname),T=e=>!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/business_security",end:!0},e.pathname),k=e=>!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/managers",end:!0},e.pathname),L=e=>!!(0,a.LX)({path:"/business/business-hierarchy/:businessHierarchyId/",end:!1},e.pathname)||!!(0,a.LX)({path:"/business/business-access/:businessId/",end:!1},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/",end:!1},e.pathname)||!!(0,a.LX)(e.pathname,"/business/business-manager"),Z=e=>!!(0,a.LX)({path:"/business/business-access/:businessId/invoice-management",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/invoice-management",end:!0},e.pathname),z=e=>!!(0,a.LX)({path:"/business/business-access/:businessId/audiences",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/audiences",end:!0},e.pathname),D=e=>!!(0,a.LX)({path:"/business/business-access/:businessId/security",end:!0},e.pathname)||!!(0,a.LX)({path:"/business/business-manager/:businessId/security",end:!0},e.pathname),O=e=>!!(0,a.LX)({path:"/business/business-manager/:businessId/ad-accounts/cee-migration",end:!0},e.pathname),R=e=>e.pathname.startsWith("/business/invite/"),U=e=>!!(0,a.LX)({path:"/pin/:id/visual-search/",end:!0},e.pathname),H=e=>!!(0,a.LX)({path:"/pin/:id/visual-search/products/",end:!0},e.pathname),B=e=>"/"===e.pathname,F=e=>"/"===e.pathname||"/homefeed/"===e.pathname,W=e=>e.pathname.startsWith("/login"),N=e=>e.pathname.startsWith("/invited"),M=e=>!!(0,a.LX)({path:"/today",end:!0},e.pathname),X=e=>e.pathname.startsWith("/password/reset")||!!(0,a.LX)({path:"/pw/:username",end:!0},e.pathname),V=e=>e.pathname.startsWith("/secure/panic"),Y=e=>e.pathname.startsWith("/signup"),K=e=>e.pathname.startsWith("/email/subscription"),$=e=>e.pathname.startsWith("/email/user_survey"),J=e=>e.pathname.startsWith("/email_verification_error"),G=e=>e.pathname.startsWith("/notifications/"),q=e=>!!(0,a.LX)({path:"/pin/:id",end:!0},e.pathname),Q=e=>e.pathname.startsWith("/pin_redirect"),ee=e=>e.pathname.startsWith("/search"),et=e=>!!(0,a.LX)({path:"/ideas",end:!0},e.pathname),en=e=>!!(0,a.LX)({path:"/ideas/:interest/:id",end:!0},e.pathname),ea=e=>et(e)||en(e),ei=e=>!!(0,a.LX)({path:"/videos/:category/:id",end:!0},e.pathname),es=e=>!!(0,a.LX)({path:"/videos/",end:!0},e.pathname),er=e=>!!(0,a.LX)({path:"/shopping/",end:!0},e.pathname),eo=e=>!!(0,a.LX)({path:"/shopping/:category/:id",end:!0},e.pathname),el=e=>er(e)||eo(e),ed=e=>e.pathname.startsWith("/topics"),ec=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),eu=e=>e.pathname.startsWith("/today/shop/"),ep=e=>M(e)||ec(e)||e.pathname.startsWith("/today/popular/"),eh=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),e_=e=>e.pathname.startsWith("/pin/create/"),em=e=>e.pathname.startsWith("/unauth-profile"),ef=e=>e.pathname.startsWith("/pin/"),eb=e=>"#imgViewer"===e.hash,eg=e=>/invite_code/.test(e.search),ey=e=>!!(0,a.LX)({path:"/pin/:id",end:!1},e.pathname)&&(e.pathname.includes("/sent/")||e.pathname.includes("/feedback/")),ev=e=>e.pathname.includes("/repin/x"),ex=e=>!!(0,a.LX)({path:"/pin/:id/repin"},e.pathname)&&!ev(e),ew=e=>e.pathname.startsWith("/_/storyboard"),eP=e=>e.pathname.startsWith("/oauth"),eS=e=>e.pathname.startsWith("/app-factory-oauth"),eE=e=>e.pathname.startsWith("/business/convert"),eA=e=>e.pathname.startsWith("/pin-editor"),eI=e=>e.pathname.startsWith("/pin-builder"),ej=e=>e.pathname.startsWith("/idea-ads-tool"),eC=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder")||e.pathname.startsWith("/pin-creation-tool")||ej(e),eT=e=>e.pathname.startsWith("/settings"),ek=e=>void 0!==e.pathname&&(e.pathname.startsWith("/business/business-access/")||e.pathname.startsWith("/business/business-manager/"))&&e.pathname.includes("/dashboard/"),eL=e=>void 0!==e.pathname&&e.pathname.startsWith("/tv/studio"),eZ=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/commerce-integrations/"),ez=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/hub"),eD=e=>void 0!==e.pathname&&e.pathname.startsWith("/signup/sso-business-account/"),eO=(e,t)=>i.Wr(t,"2025-02-08","mweb_notif_settings_redesign")?e.pathname.startsWith("/settings"):e.pathname.startsWith("/settings")&&!e.pathname.startsWith("/settings/notifications"),eR=e=>void 0!==e.pathname&&!!(0,a.LX)({path:"/advertiser/:id/ads/edit/",end:!0},e.pathname),eU=e=>void 0!==e.pathname&&!!(0,a.LX)({path:"/advertiser/:id/ads/edit_draft/",end:!0},e.pathname),eH=e=>void 0!==e.pathname&&!!(0,a.LX)({path:"/advertiser/:id/ads/duplicate/",end:!0},e.pathname),eB=e=>void 0!==e.pathname&&!!(0,a.LX)({path:"/advertiser/:id/ads/bulk_edit/",end:!0},e.pathname),eF=e=>!!(0,a.LX)({path:"/collage-creation-tool/",end:!0},e.pathname),eW=({url:e="",state:t=null}={})=>{let n=(0,r.Z)(e);return{pathname:n.path,search:n.query,hash:n.anchor,state:t}}},414471:function(e,t,n){n.d(t,{Wr:()=>s});var a=n(603316);let i=(e,t)=>{switch(t){case 2025:return e.checkExperiment("notifications_holdout_2025").group;case 2026:return e.checkExperiment("notifications_holdout_2026").group;case 2027:return e.checkExperiment("notifications_holdout_2027").group;case 2028:return e.checkExperiment("notifications_holdout_2028").group;default:return""}},s=(e,t,n)=>{let s=new Date(Date.parse(t)),r=s.getFullYear(),o=s.getMonth()+1,l=o<7?"h1":"h2",d=new Date(Date.now()),c=d.getMonth()+1,u=d.getFullYear(),p=u-1,h=`notifications_holdout_${p}`,_=`notifications_holdout_${u}`;if(r<p||r===p&&c>=2||r===p&&o<=6)return(0,a.nP)("in_notifications_older_holdout_group",{sampleRate:1,tags:{source:n}}),!1;let m=i(e,u)||"",f=i(e,p)||"";if(""!==m&&(0,a.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:_,exp_group:m,source:n}}),""!==f&&(0,a.nP)("in_notifications_holdout_group.info",{sampleRate:1,tags:{exp_name:h,exp_group:f,source:n}}),1===c||7===c){if(1===c){if(r===p&&"h2"===l)return f.startsWith(`holdout_${l}`);if(r===u&&1===o&&(f.startsWith("holdout_h2")||f.startsWith("production_h2")))return!0}if(7===c){if(r===u&&"h1"===l)return m.startsWith(`holdout_${l}`);if(r===u&&7===o&&(m.startsWith("holdout_h1")||m.startsWith("production_h1")))return!0}}return!!(c>=1&&c<=6&&m.includes("h1")||c>=7&&c<=12&&m.includes("h2"))&&m.startsWith(`holdout_${l}`)}},451208:function(e,t,n){n.d(t,{FK:()=>s,Mp:()=>o,dO:()=>r,e$:()=>l,hy:()=>d,z5:()=>c});var a=n(952949),i=n(941404);let s=({subscriptionId:e,endpoint:t})=>{let n;return e||(n=t.split("/"))[n.length-1]},r=(e,t)=>(0,i.tj)(e,{...t});function o(e){let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),a=window.atob(n),i=new Uint8Array(a.length);for(let e=0;e<a.length;e+=1)i[e]=a.charCodeAt(e);return i}let l=e=>e._('Sorry! Something went wrong on our end.', 'RequestDataUI.Toast.unknownFailure', 'Toast message for unsuccessfully requesting data'),d=e=>e._('Chrome users can activate browser notifications when push is turned on', 'notification_settings.permissions.chrome_browser_enabling.description', 'Notify users they can enable chrome browser notifications if push notifications are on'),c=(e,t)=>{switch(t){case a.b.PUSH:return e._('You won\'t get any more push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all push notifications except important updates, account settings and privacy');case a.b.EMAIL:return e._('You won\'t get any more email notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all email notifications except important updates, account settings and privacy');case a.b.NEWS:return e._('You won\'t get any more in-app notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all in-app notifications except important updates, account settings and privacy');case a.b.WEB_PUSH:return e._('You won\'t get any more web push notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all web push notifications except important updates, account settings and privacy');default:return e._('You won\'t get any more notifications from Pinterest for your personal account (except important updates, account settings and privacy)', 'profile.settings.notifications.settingsConfirmation.description', 'Confirm with user that continuing this action disables all notifications except important updates, account settings and privacy')}}},952949:function(e,t,n){n.d(t,{b:()=>a});let a={PUSH:"push",EMAIL:"email",NEWS:"news",WEB_PUSH:"web_push"}},81497:function(e,t,n){n.d(t,{Z:()=>p});var a=n(281098),i=n(825332),s=n(686319),r=n(475498),o=n(451208),l=n(341742),d=n(785893);let c=async(e,t,n)=>{try{await (0,s.Z)({url:`/v3/email/fatigue/${e}/`,method:"DELETE"})}catch(a){let e=(0,o.e$)(n);t(({hideToast:t})=>(0,d.jsx)(r.Z,{onHide:t,text:e}))}},u=async(e,t,n)=>{try{await (0,s.Z)({url:`/v3/email/journey/fatigue/${e}/`,method:"DELETE"})}catch(a){let e=(0,o.e$)(n);t(({hideToast:t})=>(0,d.jsx)(r.Z,{onHide:t,text:e}))}},p=(e,t,n)=>{(0,a.Z)("useEmailFeedbackToastExperience","/app/packages/notifications/useEmailFeedbackToastExperience.tsx");let s=new URLSearchParams(e?.search),o="31"===s.get("utm_source"),p=s.get("utm_content")||"",[h,_]=((e,t,n,a)=>{let i,s="",r=a._('Got it! You\'ll continue to see notifications about this interest', 'email.Feedback.Experience.Interest.Positive', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that a user will continue to see that email interest after responding positively to the survey.'),o=a._('Got it! You\'ll see less notifications about this interest', 'email.Feedback.Experience.Interest.Negative', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that a user will see less of that email interest after responding negatively to the survey.');return"interest_positive"===e?(s=r,i=()=>{}):"interest_negative"===e?(s=o,i=()=>{c(t,n,a)}):"journey_positive"===e?(s=r,i=()=>{}):"journey_negative"===e?(s=o,i=()=>{u(t,n,a)}):e.startsWith("survey_")&&(s=a._('Got it! This will help improve the quality of your emails in the future', 'email.Feedback.Experience.Recommendation.Response', 'Toast feedback experience after a user responds to one of our email surveys. This confirms that we have taken note of their response.')),[s,i]})(s.get("e_t_s")||"",p,t,n),m=(0,i.s0)();(0,l.Z)(()=>{if(e?.pathname==="/"&&h&&o){s.delete("e_t_s"),m({pathname:e.pathname,search:s.toString()});let a=n._('Undo', 'email.Feedback.Experience.undoButton.label', 'Label for the toast undo button');t(({hideToast:e})=>(0,d.jsx)(r.Z,{duration:6e3,onHide:e,primaryAction:_?{accessibilityLabel:a,label:a,role:"button",onClick:()=>{e(),_()}}:void 0,text:h}))}})}},991384:function(e,t,n){n.d(t,{Z:()=>function e(t,n,a=()=>void 0){let i=a(t,n);return void 0!==i?i:void 0===n?t:Array.isArray(t)&&Array.isArray(n)?n.reduce((t,i,s)=>(t[s]=e(t[s],n[s],a),t),[...t]):t&&"object"==typeof t&&n&&"object"==typeof n?Object.keys(n).reduce((t,i)=>(t[i]=e(t[i],n[i],a),t),{...t}):n}})},341877:function(e,t,n){n.d(t,{Z:()=>a});let a=new class{getTextUnitName(e,t,n,a){let i=e;return t&&(i=`${i} --- ${t}`),i=i.replace(/"/g,'\\"'),null!==n&&n>=0&&(i=i+" _"+this.poPluralFormToCLDRForm(n,a)),i}poPluralFormToCLDRForm(e,t){return(({"cs-CZ":{0:"one",1:"few",2:"other"},"ja-JP":{0:"other"},"ko-KR":{0:"other"},"pl-PL":{0:"one",1:"few",2:"many"},"ro-RO":{0:"one",1:"few",2:"other"},"ru-RU":{0:"one",1:"few",2:"many"},"sk-SK":{0:"one",1:"few",2:"other"},"uk-UA":{0:"one",1:"few",2:"many"},"vi-VN":{0:"other"},"id-ID":{0:"other"},"th-TH":{0:"other"},"ms-MY":{0:"other"},"zh-CN":{0:"other"},"zh-TW":{0:"other"},"he-IL":{0:"one",1:"two",2:"many",3:"other"},"ar-SA":{0:"zero",1:"one",2:"two",3:"few",4:"many",5:"other"},"hr-HR":{0:"one",1:"few",2:"other"}})[t]||{0:"one",1:"other"})[e]||"other"}}},942230:function(e,t,n){n.d(t,{Z:()=>a});let a=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},900675:function(e,t,n){n.d(t,{Z:()=>o});var a=n(667294),i=n(581722),s=n(849233),r=n(707079);function o(e){let{name:t,optionsKey:n}=e,o=t===s.fY,l=(0,r.MA)(),d=l?.get(t,n);if(d)throw d;let c=e=>e[t]?.[n],u=(0,i.v9)(({resources:e})=>c(e)?.nextBookmark),p=(0,i.v9)(({resources:e})=>c(e)?.data),h=(0,i.v9)(({resources:e})=>c(e)?.auxData),_=(0,i.v9)(({resources:e})=>c(e)?.error),m=(0,a.useRef)({auxData:void 0,data:void 0,error:void 0,isAtEnd:!1,nextBookmark:void 0});if(o)return m.current;let f={auxData:h,data:p,error:_,isAtEnd:u===s.qx,nextBookmark:u};return(f.auxData!==m.current.auxData||f.data!==m.current.data||f.error!==m.current.error||f.isAtEnd!==m.current.isAtEnd||f.nextBookmark!==m.current.nextBookmark)&&(m.current=f),m.current}},782259:function(e,t,n){n.d(t,{Z:()=>l});var a=n(281098),i=n(667294),s=n(64834);function r({children:e}){if((0,a.Z)("HiddenOnServer","/pws/react/HiddenOnServer.tsx"),"undefined"==typeof window)throw Error(s.u);return e}var o=n(785893);function l({children:e,fallback:t}){return(0,a.Z)("SafeSuspense","/app/packages/safe-suspense/SafeSuspense.tsx"),(0,o.jsx)(i.Suspense,{fallback:t,children:(0,o.jsx)(r,{children:e})})}},647709:function(e,t,n){n.d(t,{HG:()=>u,Kf:()=>r,Wb:()=>c,ZP:()=>p,dA:()=>o,ds:()=>l,ml:()=>d});var a=n(746287),i=n(15667);let s=()=>{let e=(0,i.B)();return(0,a.Z)(e)},r=e=>"phone"===e,o=e=>"tablet"===e,l=e=>"desktop"===e,d=()=>r(s()),c=()=>o(s()),u=()=>l(s()),p=s},309314:function(e,t,n){n.d(t,{Z:()=>a});function a({top:e,right:t,bottom:n,left:a,windowHeight:i,windowWidth:s,threshold:r=0}){return e>=0+r&&a>=0+r&&n<=i-r&&t<=s-r}},45059:function(e,t,n){n.d(t,{C:()=>i,e:()=>a});let a=0,i=new Set(["/","/today"])},280670:function(e,t,n){n.d(t,{O:()=>u,Z:()=>p});var a=n(281098),i=n(667294),s=n(20256),r=n(19585),o=n(694955),l=n(785893);let d=(0,i.lazy)(()=>n.e("28168").then(n.bind(n,494818))),c={xs:12,sm:16,md:20,lg:24};function u({children:e}){(0,a.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx");let t=(0,r.Z)();return(0,l.jsx)(s.u,{dataTestId:"verified-badge-tooltip",link:(0,l.jsx)(s.rU,{href:o.vBy,target:"blank",children:(0,l.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function p({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:n,showText:o,size:p,inspirationalBadges:h,inspirationalBadgesColor:_}){(0,a.Z)("VerifiedBadge","/app/www/common/VerifiedBadge/VerifiedBadge.tsx");let m=(0,r.Z)(),[f,b]=(0,i.useState)(!1),g=(0,l.jsxs)(s.xu,{alignItems:"center","data-test-id":"verified-badge-icon",display:"flex",justifyContent:"start",children:[(0,l.jsx)(s.iP,{onTap:()=>b(!0),children:(0,l.jsx)(s.JO,{accessibilityLabel:m._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"info",icon:"check-circle-fill",inline:!0,size:c[p]})}),o&&(0,l.jsx)(s.xu,{marginStart:2,children:(0,l.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:m._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,l.jsxs)(i.Fragment,{children:[n&&!e&&(0,l.jsx)(u,{children:g}),n&&e&&g,t&&!n&&(0,l.jsx)(s.JO,{accessibilityLabel:m._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle-fill",size:c[p]}),!t&&!e&&n&&f&&(0,l.jsx)(i.Suspense,{children:(0,l.jsx)(d,{inspirationalBadges:h,inspirationalBadgesColor:_,setShowModal:b,showModal:f})})]})}},979922:function(e,t,n){n.d(t,{BT:()=>O,Du:()=>U,Fh:()=>T,HY:()=>R,HZ:()=>L,IY:()=>D,Jw:()=>g,Kp:()=>N,L7:()=>a,LT:()=>u,Lj:()=>F,Nw:()=>E,Q_:()=>S,Qc:()=>i,R5:()=>I,RA:()=>A,Tt:()=>C,UF:()=>d,UV:()=>r,VB:()=>v,W1:()=>s,Ws:()=>p,X5:()=>j,Yt:()=>z,ZW:()=>l,cK:()=>x,cy:()=>b,fA:()=>B,fn:()=>Z,gm:()=>y,h7:()=>P,k:()=>m,mE:()=>W,o4:()=>_,oL:()=>H,qf:()=>h,tr:()=>c,uD:()=>w,uO:()=>f,vF:()=>o,wJ:()=>k});let a=1,i=2,s="female",r="male",o="unspecified",l="en-US",d="US",c=3,u="Welcome",p="Gender",h="CountryLocale",_="InterestPicker",m="UseCase",f="PinPicker",b="LoadingStep",g="AppInstall",y="NUX_PIN_PICKER_STEP_STATUS",v="NUX_USE_CASE_STEP_STATUS",x={NUX_GENDER_STEP_NAME:p,NUX_COUNTRY_LOCALE_STEP_NAME:h,NUX_INTEREST_PICKER_STEP_NAME:_,NUX_USE_CASE_STEP_NAME:m,NUX_PIN_PICKER_STEP_NAME:f,NUX_LOADING_STEP_NAME:b,NUX_APP_INSTALL_STEP_NAME:g},w=2,P=3,S=6,E=112,A=160,I=60,j=1e3,C=2500,T=1900,k=2e3,L=3,Z=5,z=1,D=2,O=3,R=3,U=5e3,H=250,B=1e10,F=507641,W=300,N=200},76086:function(e,t,n){n.d(t,{W:()=>c,u:()=>d}),n(281098);var a=n(667294),i=n(729434),s=n(979922);let r=(e,t)=>{let n=((e,t)=>{switch(t.type){case"SELECT_PIN":{let{pinData:n,pinId:a,useCaseId:i}=t.payload;return function({pinData:e,pinId:t,state:n,useCaseId:a}){let i=new Map(n.selectedUseCases),s=i.get(a)||{selectedPins:[],heroPin:null,backfillPins:[]},r={...e,pinId:t,selectedAt:Date.now()};return i.set(a,{...s,selectedPins:[...s.selectedPins,r]}),{...n,selectedUseCases:i}}({pinData:n,pinId:a,state:e,useCaseId:i})}case"DESELECT_PIN":{let{pinId:n,useCaseId:a}=t.payload;return function({pinId:e,state:t,useCaseId:n}){let a=new Map(t.selectedUseCases),i=a.get(n);return i&&a.set(n,{...i,selectedPins:i.selectedPins.filter(t=>t.pinId!==e)}),{...t,selectedUseCases:a}}({pinId:n,state:e,useCaseId:a})}case"SELECT_USE_CASE":{let{heroPin:n,useCaseId:a}=t.payload;return function({heroPin:e,state:t,useCaseId:n}){let a=new Map(t.selectedUseCases);return a.set(n,{selectedPins:[],heroPin:e,backfillPins:[]}),{...t,selectedUseCases:a}}({heroPin:n,state:e,useCaseId:a})}case"DESELECT_USE_CASE":{let{useCaseId:n}=t.payload;return function({state:e,useCaseId:t}){let n=new Map(e.selectedUseCases);return n.delete(t),{...e,selectedUseCases:n}}({state:e,useCaseId:n})}case"ADD_BACKFILL_PINS":{let{backfillPins:n,useCaseId:a}=t.payload;return function({backfillPins:e,state:t,useCaseId:n}){let a=new Map(t.selectedUseCases),i=a.get(n);return i&&a.set(n,{...i,backfillPins:[...e]}),{...t,selectedUseCases:a}}({backfillPins:n,state:e,useCaseId:a})}default:return e}})(e,t);return{...n,history:[...n.history||[],t]}};var o=n(785893);let{Provider:l,get:d}=(0,i.Z)("Nux");function c({children:e}){let[t,n]=(0,a.useState)([]),[i,d]=(0,a.useState)({}),[c,u]=(0,a.useState)(!1),p={selectedUseCases:new Map,history:[]},[h,_]=(0,a.useReducer)(r,p),m=(0,a.useCallback)(()=>Array.from(h.selectedUseCases.values()).reduce((e,t)=>e+t.selectedPins.length,0),[h.selectedUseCases]),f=(0,a.useCallback)(()=>Array.from(h.selectedUseCases.values()).reduce((e,t)=>e.concat(t.selectedPins),[]),[h.selectedUseCases]),b=(0,a.useCallback)(()=>f().map(e=>({url:e.imageMediumUrl,height:e.height,width:e.width})),[f]),g=(0,a.useCallback)(()=>{let e=[];for(let[t,n]of h.selectedUseCases){let a=n.selectedPins.map(e=>({1:e.pinId,2:"pin"}));e.push({1:t,2:a})}return e},[h.selectedUseCases]),y=(0,a.useCallback)(()=>h.selectedUseCases&&m()>=s.HZ,[m,h.selectedUseCases]),v=(0,a.useCallback)(()=>h.selectedUseCases.size>=s.Yt,[h.selectedUseCases]),x=(0,a.useMemo)(()=>({checkHasMetMinimumPinSelectionRequirement:y,checkHasMetMinimumUseCaseSelectionRequirement:v,getNuxSignals:g,getNumSelectedPins:m,getSelectedPinImageData:b,nuxSelectionsDispatch:_,nuxSelectionsState:h,selectedPins:i,selectedUseCases:t,setSelectedPins:d,setSelectedUseCases:n,setShouldUseNewReducerState:u,shouldUseNewReducerState:c}),[y,v,g,m,b,_,h,i,t,d,n,u,c]);return(0,o.jsx)(l,{value:x,children:e})}},737427:function(e,t,n){n.d(t,{Z:()=>eA});var a=n(281098),i=n(667294),s=n(581722),r=n(616550),o=n(825332),l=n(20256),d=n(111330),c=n(296086),u=n(355940),p=n(364843),h=n(879592),_=n(475498),m=n(821342),f=n(19585),b=n(588367),g=n(914061),y=n(81497),v=n(675973),x=n(255957),w=n(594885),P=n(15667),S=n(886981),E=n(821806),A=n(268557),I=n(753143),j=n(123998),C=n(87853),T=n(378888),k=n(647709),L=n(551651),Z=n(370347),z=n(522678),D=n(762525),O=n(45059),R=n(761578),U=n(521009),H=n(289032),B=n(159527),F=n(309314),W=n(807264),N=n(785893);let M={__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}};function X({currentTabIndex:e,tabBoards:t,useCaseTabs:n}){(0,a.Z)("MoreIdeasTabs","/app/www/Homefeed/MoreIdeasTabs.tsx");let r=(0,i.useRef)(null),d=(0,i.useRef)(!1),{width:c,height:u}=(0,R.Z)()||{width:0,height:0},p=(0,i.useRef)([]),h=(0,o.s0)(),_=(0,f.Z)(),m=(0,U.Z)(),b=(0,s.I0)(),g=t.length+n.length;p.current.length!==g&&(p.current=Array(g).fill(null).map((e,t)=>p.current[t]||(0,i.createRef)()));let y=t.length||n.length?[...t.filter(e=>e).map(({id:e,name:t},a)=>({href:`/?boardId=${String(e)}`,text:n.length?(0,N.jsx)(l.xu,{overflow:"hidden",children:t}):(0,N.jsx)(l.xu,{dangerouslySetInlineStyle:M,maxWidth:100,overflow:"hidden",children:t}),boardId:e,tabType:2,ref:p.current[a]})),...n.filter(e=>e).map(({id:e,display_name:n},a)=>({href:`/?useCaseId=${String(e)}`,text:(0,N.jsx)(l.xu,{overflow:"hidden",children:n}),boardId:e,tabType:3,ref:p.current[t.length+a]}))]:null,v=t.length||n.length?[{href:"/",text:(0,N.jsx)(l.xu,{children:_._('All', 'homefeed.moreIdeasTab.homefeedTab', 'Homefeed tab')}),tabType:1},...y||[]]:null,x=e=>1===e?11081:11082,w=(0,i.useRef)([]),P=(0,i.useCallback)(()=>{p&&p.current&&p.current.length&&p.current.forEach((e,a)=>{if(!e?.current)return;let i=!!t[a],{id:s}=i?t[a]||{}:n[a-t.length]||{},r=i?t[a]?.name||{}:n[a-t.length]?.display_name||{},o=e.current.getBoundingClientRect();(0,F.Z)({left:o.left,right:o.right,top:o.top,bottom:o.bottom,windowHeight:u,windowWidth:c})&&s&&!w.current.includes(s)&&(m({event_type:13,view_type:1,view_parameter:92,component:13184,element:i?x(2):15945,object_id_str:s,aux_data:i?{board_id:s,tab_title:r,referrer:19}:{use_case_id:s,tab_title:r,index:a}}),w.current.push(s))})},[p,m,t,n,u,c]),S=(0,H.Z)(()=>{m({event_type:110,view_type:1,view_parameter:92,component:13184,element:15945})},1e3),E=(0,B.Z)(()=>{P(),n.length&&S()},50);if((0,i.useEffect)(()=>{P();let e=r.current;return e&&e.addEventListener("scroll",E),()=>{e?.removeEventListener("scroll",E)}},[P,E]),(0,i.useEffect)(()=>()=>{d.current&&(window.cancelAnimationFrame(d.current),d.current=null)}),!v)return null;let A=v.map(e=>({href:e.href,text:e.text,ref:e.ref}));return(0,N.jsx)(l.xu,{ref:r,"data-test-id":"more-ideas-tabs",fit:!0,marginBottom:1,marginTop:1,overflow:"scrollX",children:(0,N.jsx)(l.mQ,{activeTabIndex:e,onChange:({activeTabIndex:e})=>{var t=e;let n=v?.[t];if(n){let e,a=3===n.tabType,s=a&&(0,i.isValidElement)(n.text)?n.text.props.children:null;e=n.boardId,b((0,W.r)(e,t)),m({event_type:101,view_type:1,view_parameter:92,component:13184,element:a?15945:x(n.tabType),aux_data:a?{use_case_id:n.boardId,tab_title:s,index:t}:{index:t.toString(),board_id:n.boardId,referrer:19},object_id_str:n.boardId})}let{pathname:a,state:s}=v?{pathname:(v[e]||v[0]).href,state:(v[e]||v[0]).locationState||void 0}:{};h(a,{state:s})},tabs:A})})}var V=n(469817),Y=n(902391),K=n(76086),$=n(683913),J=n(169053),G=n(152145),q=n(603316),Q=n(78762);function ee(e,t,n){var a;return(t="symbol"==typeof(a=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?a:a+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let et=(0,Q.Z)(()=>n.e("41881").then(n.bind(n,594276)),void 0,e=>594276,"app-www-pages-duplo-CoreActionsHeader",e=>["41881"]),en=(0,Q.Z)(()=>n.e("82408").then(n.bind(n,775036)),void 0,e=>775036,"app-www-stories-FullWidthPinStory",e=>["82408"]),ea=(0,Q.Z)(()=>n.e("93065").then(n.bind(n,503106)),void 0,e=>503106,"app-www-Homefeed-HomefeedMoreIdeasTabContent",e=>["93065"]),ei=(0,Q.Z)(()=>n.e("75630").then(n.bind(n,751214)),void 0,e=>751214,"app-www-Homefeed-HomefeedUseCaseTabContent",e=>["75630"]),es=(0,Q.Z)(()=>n.e("61436").then(n.bind(n,518921)),void 0,e=>518921,"app-www-stories-LandingPageStory-LandingPageStory",e=>["61436"]),er=(0,Q.Z)(()=>Promise.all([n.e("91062"),n.e("6889"),n.e("94279"),n.e("45478")]).then(n.bind(n,946501)),{ssr:!1},e=>946501,void 0,void 0),eo=(0,Q.Z)(()=>Promise.all([n.e("44581"),n.e("36602"),n.e("18615")]).then(n.bind(n,807724)),{ssr:!1},e=>807724,void 0,void 0),el=(0,Q.Z)(()=>n.e("91764").then(n.bind(n,332532)),{ssr:!1},e=>332532,void 0,void 0),ed=(0,i.lazy)(()=>n.e("29554").then(n.bind(n,308197))),ec=(0,i.lazy)(()=>n.e("19208").then(n.bind(n,970505))),eu=(0,i.lazy)(()=>n.e("87088").then(n.bind(n,336245))),ep=(0,i.lazy)(()=>n.e("10206").then(n.bind(n,947214))),eh=(0,i.lazy)(()=>n.e("84065").then(n.bind(n,830718))),e_=(0,i.lazy)(()=>n.e("56102").then(n.bind(n,557786))),em={feedKey:$.xJ,trafficSource:$.WV,resourceName:$.om,feedItemProps:e=>({viewParameter:92,viewType:1,onFeedItemClick:()=>{e.onFeedItemClick&&e.onFeedItemClick()}}),pullToRefresh:!0},ef={first_page_size:"25",page_size:"10"},eb=({webMobileHomeFeedTakoverExperience:e})=>{let{feedKey:t,feedItemProps:n,pullToRefresh:a}=em,i=(0,o.TH)(),c=(0,r.k6)(),u=(0,r.$B)(),p=(0,s.v9)(({session:e})=>e.firstHomeFeedRequestAfterNux),h={webMobileHomeFeedTakoverExperience:e,location:i,history:c,match:u},_=(0,s.v9)(({feeds:e})=>e[t]??[]),{selectedUseCases:m,selectedPins:f}=(0,K.u)(),b=(0,V.rQ)(m,f),g=!p,y=b.length>0?{in_nux:p,nux_signals_map:b}:{in_nux:p},v={...$.HH,...g?{...ef}:{...y},in_local_navigation:!0,static_feed:!!(i&&(i.pathname.includes("pwt_performance_testing")||void 0!==(0,T.mB)(i.search).pwt_performance_testing))},x=(0,S.Z)({name:$.om,options:v}),{isAtEnd:w,isFetching:E,fetchMore:A,data:j,refresh:C}=x,k={includeBackgroundImages:!0,includeVideos:!0,pins:Object.values((0,J.JC)())};p&&(0,q.nP)("home_product.homefeed.has_in_nux_flag",{sampleRate:.1,tags:{appType:"mweb"}});let L=(()=>{let{isGraphQLEnabledInGeneral:e}=(0,Z.nF)(),{locale:t}=(0,P.B)(),n=(0,J.JC)();return({feedItems:a,prevFeedItems:i,finishedRefresh:s,unauthLandingPinStateForAuthHomefeed:{pinId:r,feedItem:o}})=>{if(!a.length)return null;if(s&&i.length>0){let e=(e,t)=>e.slice(0,t).map(e=>e.id),n=e(i,5),s=e(a,5),r={appType:"mweb",language:t&&t.slice(0,2)||"unknown",locale:t||"unknown"};(0,q.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:r}),JSON.stringify(n)===JSON.stringify(s)&&(0,q.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:r})}if(r&&!e){if(i.length>0&&i[0]!==a[0])return(0,I.M0)().removeItem(d.uc),{feedItem:null,pinId:null};else if((0===i.length||i[0]===a[0]&&i.length!==a.length||!o)&&n[r]&&!a.slice(0,5).some(({id:e})=>e===r))return{feedItem:{id:r,type:"pin",trackingParams:a[0].trackingParams},pinId:r}}return null}})(),D=j?.length?j[0]:null;if(e&&e.display_data?.in_checklist_education&&e.display_data?.num_columns_requested===2){let e={type:"fullWidthBreakIn",value:{index:0,content:D?.id&&(0,N.jsx)(G.Z,{storyId:D.id,children:e=>(0,N.jsx)(en,{slotIndex:0,story:e,viewParameter:3833,viewType:604})})}},i=_.slice(1);return(0,N.jsx)(l.xu,{"data-test-id":"homefeed",children:(0,N.jsx)(z.Zt,{authHomefeedComponentDidUpdate:L,feedItemProps:n&&n(h),feedItems:i,feedItemsAdjustment:e,feedKey:t,pagination:{hasNext:!w,isLoadingNext:E,loadNext:()=>A(),refetch:()=>C()},pullToRefresh:a,trafficSource:$.WV,visuallyCompleteProfilerOptions:k})})}return g&&!e?.display_data?(0,N.jsx)(l.xu,{"data-test-id":"homefeed-ssr",children:(0,N.jsx)(z.iK,{authHomefeedComponentDidUpdate:L,feedItemProps:n&&n(h),feedKey:$.xJ,pullToRefresh:a,resource:x,serverRender:!0,trafficSource:$.WV,visuallyCompleteProfilerOptions:k})}):(0,N.jsx)(l.xu,{"data-test-id":"homefeed",children:(0,N.jsx)(z.iK,{authHomefeedComponentDidUpdate:L,feedItemProps:n&&n(h),feedKey:t,pullToRefresh:a,resource:x,trafficSource:$.WV,visuallyCompleteProfilerOptions:k})})},eg=(0,Q.Z)(()=>n.e("6234").then(n.bind(n,94834)),{ssr:!1},e=>94834,void 0,void 0),ey=(0,Q.Z)(()=>n.e("31987").then(n.bind(n,452279)),{ssr:!1},e=>452279,void 0,void 0),ev=(0,Q.Z)(()=>n.e("23820").then(n.bind(n,260268)),{ssr:!1},e=>260268,void 0,void 0),ex=(0,Q.Z)(()=>n.e("78152").then(n.bind(n,714718)),{ssr:!1},e=>714718,void 0,void 0),ew=(0,Q.Z)(()=>n.e("36163").then(n.bind(n,164842)),{ssr:!1},e=>164842,void 0,void 0),eP=(0,Q.Z)(()=>n.e("56509").then(n.bind(n,382145)),{ssr:!1},e=>382145,void 0,void 0);class eS extends i.PureComponent{constructor(...e){super(...e),ee(this,"state",{...(0,V.HW)(),currentTabIndex:"number"==typeof this.props.selectedTabIndex?this.props.selectedTabIndex:O.e,showUnlinkTokenExpiredModal:!1,showDeleteAccountSurveyModal:!1,showYipModal:!1,shouldDismissCoreActionsHeader:!1,showQRAppErrorBanner:!1}),ee(this,"renderOptInInterestPicker",()=>{let{everythingFeedExperience:e,isLimitedLogin:t}=this.props,{extraPlpImages:n,extraBlpImages:a}=this.state,i=!t&&e&&504192===e.experience_id,s=i&&e&&e.display_data&&e.display_data.full_screen_modal;return e&&i?(0,N.jsx)(u.Z,{name:"SafeSuspense_HomePage_OptInInterestPicker",children:s?(0,N.jsx)(eP,{experience:e,extraImageInfo:n.length>0?n:a,viewParameter:92,viewType:1}):(0,N.jsx)(ex,{experience:e,viewParameter:92,viewType:1})}):null})}static getDerivedStateFromProps(e){let{selectedTabIndex:t,navigate:n,location:a}=e;return(0,T.mB)(a.search).show_qr_app_error?(n("/",{replace:!0}),{showQRAppErrorBanner:!0}):"number"==typeof t?{currentTabIndex:t}:null}componentDidMount(){let{dispatchViewedSharedPins:e,location:t,i18n:n,showToast:a,navigate:i}=this.props,{sharedPinData:s}=this.state;(0,Y.E)(!1),(0,c.Z)(),s&&Object.keys(s).length>0&&e(s),t.state?.unlinkTokenInvalid&&this.setState({showUnlinkTokenExpiredModal:!0}),t.state?.isCloseAccountReasonOpen&&this.setState({showDeleteAccountSurveyModal:!0}),t.state?.showError&&a(({hideToast:e})=>(0,N.jsx)(_.Z,{duration:5e3,onHide:e,text:n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- '),type:"error"})),(0,T.mB)(t.search).show_yip_modal&&(i("/",{replace:!0}),this.setState({showYipModal:!0}))}render(){let{checkExperiment:e,currentUserId:t,currentUsername:n,everythingFeedExperience:a,navigate:s,i18n:r,isAuthenticated:o,isEligibleForCoreActionsHeader:d,isPartner:c,location:_,moreIdeasStory:m,newUserWelcomeStoryExperience:f,webMobileHomeFeedTakoverExperience:y,selectedTabBoardId:v,useCaseTabs:x,tabBoards:w}=this.props,{currentTabIndex:P,showUnlinkTokenExpiredModal:S,showDeleteAccountSurveyModal:I,showYipModal:C,shouldDismissCoreActionsHeader:k,showQRAppErrorBanner:Z}=this.state,z=(0,T.mB)(_.search),R=z&&z.boardId||v;if(a&&!Z)switch(a.experience_id){case 40002:case 10105:return(0,N.jsx)(u.Z,{name:"SafeSuspense_HomePage_Nux",children:(0,N.jsx)(E.Z,{fallback:(0,N.jsx)(A.Z,{accessibilityLabel:this.props.i18n._('Loading new user education', 'Loading spinner', 'Loading spinner')}),children:c?(0,N.jsx)(ev,{experience:a}):(0,N.jsx)(ey,{experience:a})})});case 500681:return(0,N.jsx)(u.Z,{name:"SafeSuspense_HomePage_ContactUpdate",children:(0,N.jsx)(eg,{fallback:(0,N.jsx)(A.Z,{accessibilityLabel:this.props.i18n._('Loading experience', 'loading experience spinner', 'loading experience spinner')})})})}let U=o&&e("mweb_hf_core_actions_header").anyEnabled&&d,H=()=>{this.setState({shouldDismissCoreActionsHeader:!0})};return(0,N.jsx)(L.Z,{viewParameter:92,viewType:1,children:(0,N.jsx)(j.Z,{view:1,viewParameter:92,children:(0,N.jsxs)(g.default,{dataLayoutShiftBoundaryId:"AuthHomePageContainer",hasFixedHeader:!0,children:[Z&&(0,N.jsx)(l.xu,{marginTop:4,children:(0,N.jsx)(e_,{})}),(0,N.jsx)(D.Z,{text:r._('Home', 'HomePage.HiddenAccessibilityHeader', 'Accessibility h1 at home page')}),(!!w?.length||!!x?.length)&&(0,N.jsx)(b.default,{hideOnScroll:o,noPadding:!0,overrideTop:0,children:(0,N.jsx)(l.xu,{paddingY:1,children:(0,N.jsx)(X,{currentTabIndex:P,tabBoards:w||[],useCaseTabs:x||[]})})}),m&&(0,N.jsx)(l.xu,{marginEnd:-4,marginStart:-4,paddingY:2,children:(0,N.jsx)(G.Z,{storyId:m.id||"",children:e=>(0,N.jsx)(en,{slotIndex:0,story:e,viewParameter:92,viewType:1},m.id)})}),P!==O.e&&R&&(P<=(w?.length??0)?(0,N.jsx)(ea,{boardId:R}):(0,N.jsx)(ei,{index:P,useCaseId:R}))||(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(p._f,{experience:a,placementId:40001}),(0,N.jsx)(p.b9,{placementId:40001}),(0,N.jsx)(p.nj,{experience:a,placementId:40001}),(0,N.jsx)(h.Z,{placementId:a?.placement_id}),(0,N.jsx)(p.H6,{placementId:1000544}),(0,N.jsx)(p.k6,{placementId:1000558}),(0,N.jsx)(p.a3,{eligibleIds:[500726,500866,500735,500833,501182,501275,501385,501358,501908,501909,503291],experience:a,children:(0,N.jsx)(E.Z,{children:(0,N.jsx)(ec,{experience:a})})}),a&&(0,N.jsx)(p.a3,{eligibleIds:[507483],experience:a,children:({dismiss:e,experience:{display_data:t}})=>{let n=!("is_blocking"in t)||t.is_blocking;return(0,N.jsx)(er,{dismiss:e,isBlockingModal:n})}}),a&&(0,N.jsx)(p.a3,{eligibleIds:[507661],experience:a,children:({dismiss:e})=>(0,N.jsx)(eo,{onDismiss:e})}),a&&(0,N.jsx)(p.a3,{eligibleIds:[507924],experience:a,children:({complete:e,dismiss:t})=>(0,N.jsx)(el,{onComplete:e,onDismiss:t})}),a&&(0,N.jsx)(p.a3,{eligibleIds:[505326],experience:a,children:({complete:e,dismiss:t})=>(0,N.jsx)(i.Suspense,{children:(0,N.jsx)(eh,{complete:e,dismiss:t})})}),a&&(0,N.jsx)(p.a3,{eligibleIds:[505801],experience:a,children:({complete:e})=>(0,N.jsx)(i.Suspense,{children:(0,N.jsx)(ep,{complete:e})})}),f?.display_data?.story&&f.display_data.showUpdatedLandingPageStory&&(0,N.jsx)(es,{isMoreIdeasTabsVisible:!!w?.length,newUserWelcomeStoryExperience:f}),(0,N.jsxs)(l.xu,{marginTop:2*(!w?.length&&!m),children:[!k&&U&&(0,N.jsx)(et,{onDismiss:H,username:n||""}),(0,N.jsx)(eb,{webMobileHomeFeedTakoverExperience:y})]})]}),S&&(0,N.jsx)(E.Z,{children:(0,N.jsx)(l.xu,{"data-test-id":"unlink-expired-token",children:(0,N.jsx)(eu,{onDismiss:()=>{s("/",{replace:!0}),this.setState({showUnlinkTokenExpiredModal:!1})}})})}),I&&(0,N.jsx)(E.Z,{children:(0,N.jsx)(ed,{isPartner:c,onDismiss:()=>{s("/",{replace:!0}),this.setState({showDeleteAccountSurveyModal:!1})},userId:t,username:n})}),C&&(0,N.jsx)(u.Z,{name:"YearInPreviewConfirmPublishModal",children:(0,N.jsx)(ew,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),this.renderOptInInterestPicker()]})})})}}let eE=[];function eA(){(0,a.Z)("HomePage","/app/www/pages/duplo/HomePage.tsx");let e=(0,f.Z)(),t=(0,s.I0)(),n=(0,m.Z)(),{showToast:i}=(0,C.dI)(),r=(0,w.Z)(),l=(0,o.s0)(),d=(0,o.TH)(),{checkExperiment:c}=(0,v.Z)(),u=(0,p._P)({id:40001,shouldUsePlacedExperience:!1}),h=(0,p._P)({id:1000115}),_=(0,p._P)({id:1000411}),b=(0,s.v9)(({feeds:e})=>e.homefeed),g=(0,s.v9)(({homefeedTabUI:e})=>e.activeTabBoardId),P=(0,s.v9)(({homefeedTabUI:e})=>e.activeTabIndex),{isAuth:E,isLimitedLogin:A}=n,I=n.isAuth?n.id:void 0,j=n.isAuth?n.username:void 0,T=!!n.isAuth&&n.isPartner,L=(0,k.HG)(),Z=Array.isArray(b)?b:[],z=!L&&Z[0]&&"story"===Z[0].type?Z[0]:null,D=(0,s.v9)(({stories:e})=>z?e[z.id]:null),O=D&&D.story_type&&D.story_type.startsWith("boards_more_ideas_feed_upsell")?D:null,R=Z.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{data:U}=(0,S.Z)(null),{data:H}=(0,S.Z)(E&&c("mweb_hf_core_actions_header",{dangerouslySkipActivation:!0}).anyEnabled?{name:"UserResource",options:{user_id:n.id,field_set_key:"core_actions_header"}}:null),B=(0,k.ml)();(0,y.Z)(d,i,e);let F={checkExperiment:c,currentUserId:I,currentUsername:j,dispatchViewedSharedPins:e=>t({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),everythingFeedExperience:u,navigate:l,i18n:e,isAuthenticated:E,isEligibleForCoreActionsHeader:H?.is_eligible_for_core_actions_header,isLimitedLogin:A,isMobile:B,isPartner:T,location:d,moreIdeasStory:O,newUserWelcomeStoryExperience:_,pwtStaticContext:r,selectedTabBoardId:g,selectedTabIndex:P,showToast:i,tabBoards:R??eE,useCaseTabs:U??[],webMobileHomeFeedTakoverExperience:h};return(0,N.jsx)(x.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,N.jsx)(eS,{...F})})}},683913:function(e,t,n){n.d(t,{EP:()=>l,HH:()=>o,WV:()=>s,om:()=>r,xJ:()=>i});var a=n(440568);let i="homefeed",s="feed_home",r="UserHomefeedResource",o={field_set_key:"mobile_grid_item",prepend:!1},l=(0,a.Z)(o)},33618:function(e,t,n){n.d(t,{Z:()=>a});function a(e,t,n,i=!1,s){return{privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e,isRetrievalHub:i,filter_types:s}}},356299:function(e,t,n){n.d(t,{Z:()=>a});let a=(e,t,n)=>`${e}:${t||""}:${n||""}`},214239:function(e,t,n){n.d(t,{O:()=>o,Q:()=>l});var a=n(72918),i=n(356299),s=n(189976);let r=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],o={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:a,privacyFilter:i="all",filterAllPins:s=!1,includeArchived:r=!0},o)=>({privacy_filter:i,sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:a,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:r,redux_normalize_feed:!0,filter_all_pins:s,...o?{orbac_subject_id:o}:Object.freeze({})})},l=e=>r.reduce((t,n)=>{let r=[(0,s.N8)("profileBoards",(0,i.Z)(e,n))];return[!0,!1].forEach(t=>{[!0,!1].forEach(i=>{r.push((0,a.jB)(o.name,o.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))})}),t.concat(r)},[])},548286:function(e,t,n){n.d(t,{Br:()=>c,Cr:()=>b,K8:()=>_,L1:()=>P,YQ:()=>w,ZP:()=>g,aX:()=>y,eo:()=>p,md:()=>u,oG:()=>h,oL:()=>v,of:()=>m,xQ:()=>f,xR:()=>x,yT:()=>d});var a=n(575108),i=n(918920),s=n(536652),r=n(72918),o=n(33618),l=n(214239);function d(e){return{type:"BOARD_UPDATE_COMPLETE",payload:{board:e}}}function c(e){return{type:"BOARD_PIN_COUNT_CHANGED",payload:e}}function u(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function p({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:a}){return{type:"BOARD_DELETE",payload:{viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:a}}}let h=(e,t)=>n=>n((0,s.U)("BoardResource",{options:{board_id:e,field_set_key:t}}));function _(e){return t=>{e&&(0,l.Q)(e).forEach(e=>{t(e)})}}let m=e=>({type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}),f=e=>h(e,"pin_count"),b=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),g=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}});function y(e,t,n){let s={name:e,privacy:i.ZP.BoardPrivacy.PUBLIC,username:t,...n?{orbac_subject_id:n}:Object.freeze({})};return e=>a.Z.create("BoardResource",s).callCreate().then(n=>{let a=n.resource_response.data;return e(t&&(0,r.jB)("BoardsResource",(0,o.Z)(t,!1))),a})}function v(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}let x=(e,t,n)=>async i=>{i({type:"BOARD_INVITE_DENIED_BY_VIEWER",payload:{boardId:e,userId:t}});let s=await a.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callDelete();return s.resource_response.error||n({event_type:29,object_id_str:e}),s},w=(e,t,n,i,s,r)=>async o=>{o({type:"BOARD_COLLABORATOR_DELETE",payload:{boardId:e,userId:i?.id??"",viewingUser:n}});try{(await a.Z.create("accepted"===t?"BoardCollaboratorResource":"BoardInviteResource",{board_id:e,field_set_key:"boardEdit",invited_user_id:i?.id??"",...r?{orbac_subject_id:r}:{}}).callDelete()).resource_response.error||s({event_type:"accepted"===t?25:29,object_id_str:e})}catch(a){o({type:"BOARD_COLLABORATOR_ADD",payload:{boardId:e,viewingUser:n,status:t,collaboratingUsers:[i]}})}},P=(e,t,n,i)=>s=>{let r=a.Z.create("BoardResource",{board_id:n}).callDelete();return s(p({viewingUserId:e,viewingUsername:t,boardId:n,boardPinCount:i})),r}},189976:function(e,t,n){function a(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{EX:()=>r,N8:()=>i,Qv:()=>s,_f:()=>a,vX:()=>o});let s=(e,t,n=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:n,items:t}});function r(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function o(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},807264:function(e,t,n){n.d(t,{r:()=>a});let a=(e,t)=>({type:"SET_ACTIVE_HOMEFEED_TAB",payload:{boardId:e,index:t}})},676244:function(e,t,n){n.d(t,{KF:()=>c,ZN:()=>o,fv:()=>d,kE:()=>p,yA:()=>l});var a=n(575108),i=n(686319),s=n(401450);function r(e,t,n,i){return a.Z.create("UserFollowResource",{user_id:e,invite_code:i||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:n})}function o(e,t=null,n,a){return i=>{r(e,t,n,a).callCreate().catch(()=>i((0,s.P_)(e,!1))),i((0,s.P_)(e,!0))}}function l(e,t=null,n,a){return async i=>{i((0,s.P_)(e,!0)),await r(e,t,n,a).callCreate().catch(t=>{throw i((0,s.P_)(e,!1)),t})}}function d(e,t=null,n){return a=>{r(e,t,n).callDelete().catch(()=>a((0,s.P_)(e,!0))),a((0,s.P_)(e,!1))}}function c(e,t=null,n){return async a=>{a((0,s.P_)(e,!1)),await r(e,t,n).callDelete().catch(t=>{throw a((0,s.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,i.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},401450:function(e,t,n){n.d(t,{Ge:()=>c,JS:()=>r,OF:()=>m,P_:()=>o,Q_:()=>h,b8:()=>_,cg:()=>l,h2:()=>u,h6:()=>p});var a=n(575108),i=n(686319),s=n(843466);function r(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}let o=(e,t)=>({type:"USER_FOLLOW",payload:{id:e,value:t}}),l=(e,t)=>({type:"USER_FOLLOWING_COUNT",payload:{id:e,following:t}}),d=(e,t)=>({type:"USER_BLOCK",payload:{id:e,value:t}}),c=({id:e,orbacSubjectId:t,blockSource:n,blockContext:i,logContextEvent:s})=>async r=>{r(d(e,!0));let o=await a.Z.create("UserBlockResource",{blocked_user_id:e,orbac_subject_id:t,block_source:n,block_context:i}).callCreate().catch(()=>r(d(e,!1)));return s({event_type:54,object_id_str:e}),o},u=(e,t)=>async n=>{n(d(e,!1));let i=await a.Z.create("UserBlockResource",{blocked_user_id:e}).callDelete().catch(()=>n(d(e,!0)));return t({event_type:55,object_id_str:e}),i};function p(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}let h=(e,t)=>()=>a.Z.create("UserStateResource",{state:e,value:t}).callCreate(),_=(e,t,n)=>(a,r)=>{(0,i.Z)({url:"/v3/users/me/",method:"POST"}).then(()=>{n({event_type:48,object_id_str:r().session.userId}),e(),(0,s.Z)()},t)},m=e=>(0,i.Z)({url:"/v3/register/exists/",data:{email:e}})},152145:function(e,t,n){n.d(t,{Z:()=>i});var a=n(581722);function i({children:e,storyId:t}){let n=(0,a.v9)(({stories:e})=>e[t]);return n&&e(n)}},650422:function(e,t,n){function a(e){let[t,n]=e.split(/\/(.*)+/);return{filepath:n||"",site:t||""}}function i(e,t){return t?`${e||""}/${t}`:`/${e||""}`}n.d(t,{ac:()=>a,ke:()=>i})},183152:function(e,t,n){n.d(t,{Zv:()=>r,uo:()=>o,wH:()=>s});var a=n(729434),i=n(650422);let{Provider:s,get:r}=(0,a.Z)("HandlerId");function o(){let e=r();return(0,i.ac)(e).site}},666767:function(e,t,n){function a(){let e=void 0;return e?t=>e.addToBeLoaded(t):()=>{}}n.d(t,{N:()=>a}),(0,n(512395).kr)()},78762:function(e,t,n){n.d(t,{Z:()=>p});var a=n(281098),i=n(667294),s=n(15667),r=n(782259),o=n(603316),l=n(160374),d=n(183152);function c(e){if(e&&n.m[e])return n(e).default}n(666767);var u=n(785893);function p(e,t,n,p,h){(0,a.Z)("lazyComponent","/pws/react/LazyComponent/lazyComponent.tsx");let _=t?.ssr??!0?i.Suspense:r.Z,m=new Map,f=new Map;function b(e){return p&&t?.dynamicRequestKey&&e?p.replace("[request]",e[t.dynamicRequestKey]):p}function g(e){return n?n(e):b(e)??"static"}function y({children:e,chunkName:t,earlyHydrationConfig:n}){let a=(0,d.Zv)(),r=(0,s.Ts)();return(0,i.useEffect)(()=>{(0,o.nP)("earlyHydrationDebug.lazyComponent.suspend",{tags:{...(0,l.M3)({earlyHydrationConfig:n,handlerId:a,requestContext:r}),chunkName:t}})},[]),e}function v(a){t?.dynamicRequestKey;let s=g(a),r=(0,l.DB)(),d=b(a);if(!f.has(s)){let t=n?.(a);f.set(s,function({chunkName:e,dynamicImport:t,earlyHydrationEnabled:n,getDependentChunkNames:a,moduleId:s,props:r}){let l,d=(0,i.lazy)(()=>t(r));if(n){var u;l=(u=function(e,t){if(e)return Array.isArray(e)?e:t&&e[t]||void 0}(a?.(),e))&&u.every(e=>(function(e){let t=void 0!==window.legacyJsonp?window.legacyJsonp:window.modernJsonp;return t?.some(t=>t[0].includes(e))??!1})(e))?c(s):void 0}else l=c(s);let p=!!l;return(0,o.nP)("webapp.lazyComponent.initComponentToRender",{tags:{chunkName:e??"unknown",hasModuleInCache:p,moduleId:s??"unknown"}}),l||d}({chunkName:d,dynamicImport:e,earlyHydrationEnabled:r.anyEnabled,getDependentChunkNames:h,moduleId:t,props:a}))}let p=f.get(s);return(0,u.jsx)(_,{fallback:(0,u.jsx)(y,{chunkName:d??"unknown",earlyHydrationConfig:r,children:a.fallback||t?.fallback}),children:(0,u.jsx)(p,{...a,ref:a.ref})})}return v.preload=t=>{let n=g(t),a=f.get(n);m.get(n)||a||m.set(n,(async()=>{if(!a){let a=await e(t);f.set(n,a.default),m.delete(n)}})())},v}},854737:function(e,t,n){n.d(t,{Z:()=>a});let a=(0,n(667294).createContext)(null)},84336:function(e,t,n){n.d(t,{Z:()=>r});var a=n(667294),i=n(160374),s=n(854737);function r(){return(0,a.use)(s.Z)??i.g5}},160374:function(e,t,n){n.d(t,{DB:()=>o,M3:()=>l,SS:()=>r,g5:()=>i});var a=n(650422);let i={anyEnabled:!1,group:"",scriptPlacement:"head",optimizedClient:!1,moduleScripts:!1,isServiceWorkerExperiment:!1};function s(e,t=!1){let n=e.includes("optimized_client");switch(e){case"enabled":case"enabled_optimized_client":return{anyEnabled:!0,group:e,scriptPlacement:"head",optimizedClient:n,moduleScripts:!1,isServiceWorkerExperiment:t};case"employees":case"enabled_preload_and_body_scripts":case"enabled_preload_and_body_scripts_optimized_client":return{anyEnabled:!0,group:e,scriptPlacement:"body",preloadScripts:"low",optimizedClient:n,moduleScripts:!1,isServiceWorkerExperiment:t};case"enabled_preload_high_and_body_scripts":case"enabled_preload_high_and_body_scripts_optimized_client":return{anyEnabled:!0,group:e,scriptPlacement:"body",preloadScripts:"high",optimizedClient:n,moduleScripts:!1,isServiceWorkerExperiment:t};case"enabled_preload_and_body_module_scripts":case"enabled_preload_and_body_module_scripts_optimized_client":return{anyEnabled:!0,group:e,scriptPlacement:"body",preloadScripts:"low",optimizedClient:n,moduleScripts:!0,isServiceWorkerExperiment:t};case"enabled_preload_high_and_body_module_scripts":case"enabled_preload_high_and_body_module_scripts_optimized_client":return{anyEnabled:!0,group:e,scriptPlacement:"body",preloadScripts:"high",optimizedClient:n,moduleScripts:!0,isServiceWorkerExperiment:t};case"control":case"control_no_app_shell":return{...i,group:e};default:return i}}function r({experimentsClient:e,handlerId:t,skipActivation:n=!1}){let{site:r}=(0,a.ac)(t??"");if("www"!==r)return i;if(function({experimentsClient:e,skipActivation:t}){let{group:n,anyEnabled:a}=e?.checkExperiment("web_sw_with_early_hydration",{dangerouslySkipActivation:t})??{group:"",anyEnabled:!1};return"control_early_hydration_specify_hostname"===n||"control_early_hydration_reduce_precache"===n||"control_early_hydration_extend_precache"===n||"control_early_hydration"===n||a}({experimentsClient:e,skipActivation:n}))return s("enabled_preload_and_body_scripts",!0);let{group:o}=e?.checkExperiment("web_early_hydration",{dangerouslySkipActivation:n})??{group:""};return s(o,!1)}let o=n(84336).Z;function l({earlyHydrationConfig:e,handlerId:t,requestContext:n}){let{group:a,isServiceWorkerExperiment:i}=e,{isAuthenticated:s,isBot:r,userAgent:o}=n;return{earlyHydrationGroup:a||"unknown",environment:"client",handlerId:t,isAuthenticated:s,isBot:r,isDesktop:!o.isMobile&&!o.isTablet,isServiceWorkerExperiment:i,isFromInstantLoadingIndicatorAppShell:window.isFromInstantLoadingIndicatorAppShell||!1}}},64834:function(e,t,n){n.d(t,{Z:()=>i,u:()=>a});let a="HIDDEN_ON_SERVER_ERROR",i=e=>e instanceof Object&&"message"in e&&"string"==typeof e.message&&e.message.includes(a)},917508:function(e,t,n){n.d(t,{Z:()=>i});var a=n(2217);function i(e,t,n){return(t=(0,a.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},750324:function(e,t,n){n.d(t,{Z:()=>s});var a=n(917508);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}},2217:function(e,t,n){n.d(t,{Z:()=>i});var a=n(658133);function i(e){var t=function(e,t){if("object"!=(0,a.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=(0,a.Z)(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,a.Z)(t)?t:t+""}},658133:function(e,t,n){n.d(t,{Z:()=>a});function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/73234-5d51814364d13e49.mjs.map