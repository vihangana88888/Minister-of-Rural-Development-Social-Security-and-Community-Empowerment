(self.modernJsonp=self.modernJsonp||[]).push([["60471"],{633301:function(e,t,n){n.d(t,{Z:()=>y});var i=n(216019),r=n(70443),s=n(920727);function o(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}n(45697);var l=n(667294),a=n(973935),c=n(500220),d="unmounted",p="exited",u="entering",x="entered",h="exiting",m=function(e){function t(t,n){var i,r=e.call(this,t,n)||this,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=p,r.appearStatus=u):i=x:i=t.unmountOnExit||t.mountOnEnter?d:p,r.state={status:i},r.nextCallback=null,r}(0,s.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===d?{status:p}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==x&&(t=u):(n===u||n===x)&&(t=h)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!=typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===u?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:d})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[a.findDOMNode(this),i],s=r[0],o=r[1],l=this.getTimeouts(),c=i?l.appear:l.enter;if(!e&&!n)return void this.safeSetState({status:x},function(){t.props.onEntered(s)});this.props.onEnter(s,o),this.safeSetState({status:u},function(){t.props.onEntering(s,o),t.onTransitionEnd(c,function(){t.safeSetState({status:x},function(){t.props.onEntered(s,o)})})})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:a.findDOMNode(this);if(!t)return void this.safeSetState({status:p},function(){e.props.onExited(i)});this.props.onExit(i),this.safeSetState({status:h},function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(i)})})})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:a.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(!n||i)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],o=r[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===d)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,r.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return l.createElement(c.Z.Provider,{value:null},"function"==typeof n?n(e,i):l.cloneElement(l.Children.only(n),i))},t}(l.Component);function f(){}m.contextType=c.Z,m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},m.UNMOUNTED=d,m.EXITED=p,m.ENTERING=u,m.ENTERED=x,m.EXITING=h;var g=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))})},_=function(e){function t(){for(var t,n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1];t.removeClasses(r,"exit"),t.addClass(r,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1];t.addClass(r,s?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1]?"appear":"enter";t.removeClasses(r,s),t.addClass(r,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i&&n?n+"-":"",s=i?""+r+e:n[e],o=i?s+"-active":n[e+"Active"],l=i?s+"-done":n[e+"Done"];return{baseClassName:s,activeClassName:o,doneClassName:l}},t}(0,s.Z)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var i,r=this.getClassNames(t)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&s&&(r+=" "+s),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,i=r,e&&i&&i.split(" ").forEach(function(t){e.classList?e.classList.add(t):(e.classList?t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],i=n.base,r=n.active,s=n.done;this.appliedClasses[t]={},i&&g(e,i),r&&g(e,r),s&&g(e,s)},n.render=function(){var e=this.props,t=(e.classNames,(0,r.Z)(e,["classNames"]));return l.createElement(m,(0,i.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.Component);_.defaultProps={classNames:""},_.propTypes={};let y=_},500220:function(e,t,n){n.d(t,{Z:()=>i});let i=n(667294).createContext(null)},442279:function(e,t){function n(e,t){return e===t}t.createSelector=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=0,o=i.pop(),l=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e}))throw Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t.map(function(e){return typeof e}).join(", ")+"]");return t}(i),a=e.apply(void 0,[function(){return s++,o.apply(void 0,arguments)}].concat(n)),c=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=l.map(function(n){return n.apply(void 0,[e,t].concat(i))});return a.apply(void 0,function(e){if(!Array.isArray(e))return Array.from(e);for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}(s))};return c.resultFunc=o,c.recomputations=function(){return s},c.resetRecomputations=function(){return s=0},c}}(function(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],i=null,r=null;return function(){for(var n=arguments.length,s=Array(n),o=0;o<n;o++)s[o]=arguments[o];return null!==i&&i.length===s.length&&s.every(function(e,n){return t(e,i[n])})||(r=e.apply(void 0,s)),i=s,r}})},718144:function(e,t,n){n.r(t),n.d(t,{default:()=>Z});var i=n(281098),r=n(667294),s=n(20256),o=n(575108),l=n(111330),a=n(980787),c=n(270001),d=n(355940),p=n(564325),u=n(475498),x=n(821342),h=n(19585),m=n(302148),f=n(15667),g=n(886981),_=n(821806),y=n(600861),b=n(753143),v=n(694955),E=n(87853),w=n(647709),j=n(252564),C=n(603316),k=n(785893);let P=(0,r.lazy)(()=>n.e("19489").then(n.bind(n,597772))),A=new s.H3([j.Z]);function Z({handleComplete:e,isNag:t}){(0,i.Z)("Banner","/app/packages/CookieConsent/Banner.tsx");let n=(0,w.ZP)(),j=(0,x.Z)(),{logContextEvent:Z}=(0,a.u)(),{setObserverRef:T}=(0,p.Z)(),S=(0,h.Z)(),I=(0,r.useCallback)(()=>j.isAuth?13716:15456,[j.isAuth]),z=(0,r.useCallback)(()=>j.isAuth?474:747,[j.isAuth]),[D,B]=(0,r.useState)(!0),[L,M]=(0,r.useState)(!1),{showOneToast:N}=(0,E.dI)(),R=(0,g.Z)({name:"UserResource",options:{user_id:j.isAuth&&j.id||""}}),O=(0,f.B)(),F="desktop"===n;(0,r.useEffect)(()=>{Z({event_type:13,component:I(),view_type:z()})},[Z,I,z]);let U=e=>{(0,c.KP)(O),(0,b.M0)().setItem(l.iv,{[O.unauthId]:{allow_analytic_cookies:e.allow_analytic_cookies??!1,allow_marketing_cookies:e.allow_marketing_cookies??!1,allow_personalization_cookies:e.allow_personalization_cookies??!1}})},H=(0,k.jsxs)(s.xv,{align:F?"start":"center",children:[S._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.nk)(S._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,k.jsx)(s.xv,{inline:!0,weight:"bold",children:(0,k.jsx)(s.rU,{display:"inlineBlock",href:v._Ib,target:"blank",underline:"hover",children:S._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),W=(0,k.jsxs)(s.kC,{direction:F?"row":"column",gap:F?{row:2,column:0}:{column:4,row:0},children:[(0,k.jsx)(s.zx,{fullWidth:!0,onClick:()=>{Z({event_type:101,component:I(),view_type:z(),element:11984}),(0,C.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}}),j.isAuth?o.Z.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:y.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(()=>{R.refresh(),N(({hideToast:e})=>(0,k.jsx)(u.Z,{duration:3e3,onHide:e,text:S._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})),e()}):(U({allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}),N(({hideToast:e})=>(0,k.jsx)(u.Z,{duration:3e3,onHide:e,text:S._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})),e())},size:F?"lg":"md",text:S._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,k.jsx)(s.zx,{fullWidth:!0,onClick:()=>{Z({event_type:101,component:I(),view_type:z(),element:11985}),(0,C.nP)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}}),j.isAuth?o.Z.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:y.i.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(()=>{R.refresh(),N(({hideToast:e})=>(0,k.jsx)(u.Z,{duration:3e3,onHide:e,text:S._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})),e()}):(U({allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}),N(({hideToast:e})=>(0,k.jsx)(u.Z,{duration:3e3,onHide:e,text:S._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})),e())},size:F?"lg":"md",text:S._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,k.jsx)(s.zx,{fullWidth:!0,onClick:()=>{Z({event_type:101,component:I(),view_type:z(),element:11986}),M(!0),F||B(!1)},size:F?"lg":"md",text:S._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,k.jsxs)(r.Fragment,{children:[D&&(F?(0,k.jsx)(s.xu,{ref:T,paddingX:2,paddingY:2,smPaddingX:6,smPaddingY:2*!!t,children:(0,k.jsxs)(s.xu,{alignItems:"center",borderStyle:"sm",color:j.isAuth?"transparent":"elevationAccent","data-test-id":"cookie-consent-banner",direction:"column",display:"flex",justifyContent:"between",marginBottom:6*!t,overflow:"hidden",padding:t?3:6,position:"relative",rounding:4,smDirection:"row",children:[(0,k.jsx)(s.xu,{display:"flex",marginEnd:0,smMarginEnd:7,children:H}),(0,k.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:W})]})}):(0,k.jsx)(s.mh,{zIndex:A,children:(0,k.jsx)(s.xu,{ref:T,bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,k.jsxs)(s.xu,{alignItems:"center",borderStyle:"shadow",color:"default",direction:"column",display:"flex",marginEnd:"auto",marginStart:"auto",padding:6,rounding:6,width:"95%",children:[H,(0,k.jsx)(s.xu,{marginTop:4,minWidth:240,children:W})]})})})),L&&(0,k.jsx)(d.Z,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,k.jsx)(_.Z,{children:(0,k.jsx)(s.xu,{"data-test-id":"settings-modal",children:(0,k.jsx)(P,{dismissIcon:"cancel",handleComplete:e,onClose:()=>M(!1)})})})})]})}},270001:function(e,t,n){n.d(t,{Dr:()=>d,KP:()=>u,YS:()=>p,fw:()=>c});var i=n(111330),r=n(157322),s=n(274320),o=n(753143);let l=new Set(r.Z);function a(e){let{countryFromIp:t,countryFromHostName:n,regionFromIp:i}=e;return!!t&&l.has(t)||!!n&&l.has(n)||"CA-QC"===i}function c(e){return a(e)&&!(0,o.M0)().getItem(i.iv)?.[e.unauthId]}function d(e){let{checkExperiment:t}=(0,s.r)();return a(e)&&(t("dweb_unauth_cookie_consent_modal").anyEnabled||t("dweb_unauth_cookie_consent_banner").anyEnabled)}function p(e){let{checkExperiment:t}=(0,s.r)();return a(e)&&(t("mweb_unauth_cookie_consent_modal").anyEnabled||t("mweb_unauth_cookie_consent_banner").anyEnabled)}function u(e){(0,o.CS)({countryFromHostName:e.countryFromHostName||"",countryFromIp:e.countryFromIp||"",regionFromIp:e.regionFromIp,isAuthenticated:e.isAuthenticated,unauthId:e.unauthId,unauthConsent:!0})}},530355:function(e,t,n){n.d(t,{Z:()=>i});function i(e){return("undefined"==typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(()=>{window.requestAnimationFrame(()=>{e&&e()})})}},883817:function(e,t,n){n.d(t,{B_:()=>o,ej:()=>r,p8:()=>s});var i=n(20256);let r=new i.Ry(3),s=new i.H3([r]),o=new i.H3([s])},879592:function(e,t,n){n.d(t,{Z:()=>g});var i=n(281098),r=n(20256),s=n(962988),o=n(894199),l=n(982166),a=n(949044),c=n(974705),d=n(47426),p=n(647709),u=n(25837),x=n(785893);let h=new r.Ry(u.fe),m=new r.H3([h]),f=({complete:e,dismiss:t,experience:{display_data:n},isMobile:i})=>{let{titleText:s,detailedText:p,completeButton:u,dismissButton:h}=(0,a.Z)(c.Z)(n),{setObserverRef:f}=(0,o.NQ)(),g=i?"center":"start",_=!!u&&(0,d.Z)({url:u.uri});return(0,x.jsx)(r.mh,{zIndex:m,children:(0,x.jsx)(l.ZP,{accessibilityModalLabel:s,footer:(0,x.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:i?"center":"end",children:[h&&(0,x.jsx)(r.xu,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:(0,x.jsx)(r.zx,{color:"gray",fullWidth:i,onClick:t,size:"lg",text:h.text})}),u&&(0,x.jsx)(r.xu,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:(0,x.jsx)(r.ZP,{color:"red",fullWidth:i,href:u.uri,onClick:()=>e(),rel:_?"nofollow":"none",size:"lg",text:u.text})})]}),heading:(0,x.jsx)(r.xu,{marginTop:2*!!i,children:(0,x.jsxs)(r.kC,{justifyContent:"between",children:[(0,x.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:s}),!i&&(0,x.jsx)(r.hU,{accessibilityLabel:"Dismiss modal",bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:t,size:"sm"})]})}),onDismiss:t,size:"sm",children:(0,x.jsx)(r.xu,{ref:f,padding:6,children:(0,x.jsx)(r.xv,{align:g,children:p})})})})};function g({experience:e,placementId:t}){(0,i.Z)("ExperienceActionPrompt","/app/packages/experiences/Experiences/ExperienceActionPrompt/ExperienceActionPrompt.tsx");let n=(0,p.ml)(),{enableExperienceSession:r,endOnSurfaceChange:l}=(0,o.jQ)(t,{rollout_experiment:1});return(0,x.jsx)(s.ZP,{eligibleTypes:[14],enableExperienceSession:r,experience:e,placementId:t,sessionEndOnSurfaceChange:l,children:({complete:e,dismiss:t,experience:i})=>(0,x.jsx)(f,{complete:e,dismiss:t,experience:i,isMobile:n})})}},437320:function(e,t,n){n.r(t),n.d(t,{default:()=>P});var i=n(281098),r=n(667294),s=n(633301),o=n(20256),l=n(718144),a=n(962988),c=n(894199),d=n(369416),p=n(949044),u=n(15667),x=n(974705),h=n(19585),m=n(875723),f=n(785893);let g=()=>{};function _({color:e,completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:r,dismissButtonText:s,handleComplete:o=g,handleDismiss:l=g,header:a="",headerSubtitle:c=""}){(0,i.Z)("Hero","/app/packages/ui/Hero.tsx");let d=(0,h.Z)();return(0,f.jsx)(m.Z,{color:e,completeButtonText:t||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:n,dismissButtonText:s||d._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),external:r,message:(a+" "+c).trim(),onComplete:o,onDismiss:l})}var y=n(341742);let b=function({handleDismiss:e=()=>{},header:t="",headerSubtitle:n="",dismissButtonText:i=""}){let r=(0,h.Z)();return(0,f.jsx)(m.Z,{dismissButtonText:i||r._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),message:`${t} ${n}`,onDismiss:e})},v=function({color:e="default",completeButtonText:t,completeButtonUrl:n,completeButtonUrlInNewTab:i,handleComplete:r=()=>{},header:s="",headerSubtitle:o=""}){let l=(0,h.Z)();return(0,f.jsx)(m.Z,{color:e,completeButtonText:t||l._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:n,external:i,message:(s+" "+o).trim(),onComplete:r})};var E=n(744862),w=n(821342),j=n(302148);function C({completeButtonText:e,headerSubtitle:t,handleComplete:n,handleDismiss:r}){(0,i.Z)("WelcomeHero","/app/www/nux/WelcomeHero.tsx");let s=(0,h.Z)(),l=(0,w.Z)(),a=l.isAuth?l?.avatar_color_index:void 0,{firstName:c="",imageLargeUrl:d=""}=l.isAuth?l:{};return(0,f.jsx)(o.xu,{display:"flex",justifyContent:"center",position:"relative",children:(0,f.jsxs)(o.xu,{alignItems:"center",borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:4,width:1016,children:[(0,f.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,f.jsx)(o.xu,{marginBottom:-2,marginEnd:6,marginTop:-2,children:(0,f.jsx)(E.qE,{color:a,name:c,outline:!0,size:"lg",src:d})}),(0,f.jsxs)(o.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,f.jsx)(o.xu,{marginBottom:2,children:(0,f.jsx)(o.X6,{size:"400",children:(0,j.nk)(s._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:c})})}),(0,f.jsx)(o.xv,{children:t})]})]}),(0,f.jsx)(o.xu,{marginEnd:4,children:(0,f.jsx)(o.zx,{color:"white",onClick:n,size:"lg",text:e})}),(0,f.jsx)(o.xu,{padding:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(o.hU,{accessibilityLabel:s._('Close', 'accessible label for close button', 'accessible label for close button'),icon:"cancel",iconColor:"darkGray",onClick:r,size:"sm"})})]})})}let k=({complete:e,dismiss:t,experience:{display_data:n,experience_id:i},completeButtonUrl:a,onDismiss:d})=>{let[h,m]=(0,r.useState)(!1),g=(0,u.B)(),E=(0,r.useRef)(null);a&&(n.complete_button_url=a);let{setObserverRef:w}=(0,c.NQ)(),j=(e=>{switch(e){case 502597:return l.default;case 500863:return C;case 501153:case 501487:return v;default:return _}})(i),k={requestContext:g,experienceId:i,handleComplete:e,handleDismiss:()=>{d&&d(),t()},color:j===b?"dark":"infoBase",...(0,p.Z)(x.Z)(n)};(0,y.Z)(()=>{h||m(!0)});let P=(0,r.useCallback)((e=null)=>{w(e),E.current=e},[w]);return(0,f.jsx)(s.Z,{classNames:"ExperienceHero",in:h,nodeRef:E,timeout:400,unmountOnExit:!0,children:(0,f.jsx)(o.xu,{ref:P,marginBottom:4,children:(0,f.jsx)(j,{...k})})})};function P({completeButtonUrl:e,onDismiss:t,placementId:n}){(0,i.Z)("ExperienceHero","/app/packages/experiences/Experiences/ExperienceHero/ExperienceHero.tsx");let{enableExperienceSession:s,endOnSurfaceChange:o}=(0,c.jQ)(n,{rollout_experiment:1}),l=`
.ExperienceHero-enter {
  opacity: 0;
  transform: translateY(-50px);
}

.ExperienceHero-enter-active {
  opacity: 1;
  transform: none;
  transition: all 400ms ease-out;
}

.ExperienceHero-exit {
  opacity: 1;
}

.ExperienceHero-exit-active {
  opacity: 0;
  transition: opacity 400ms ease-out;
}
`;return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(d.Z,{unsafeCSS:l}),(0,f.jsx)(a.ZP,{eligibleTypes:[13],enableExperienceSession:s,placementId:n,sessionEndOnSurfaceChange:o,children:({complete:n,dismiss:i,experience:r})=>(0,f.jsx)(k,{complete:n,completeButtonUrl:e,dismiss:i,experience:r,onDismiss:t})})]})}},962988:function(e,t,n){n.d(t,{ZP:()=>_});var i=n(281098),r=n(667294),s=n(581722),o=n(521009),l=n(355940),a=n(877956),c=n(894199),d=n(108572),p=n(120944),u=n(341742),x=n(785893);function h(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends r.Component{constructor(...e){super(...e),h(this,"state",{hasCompleted:[],hasDismissed:[]}),h(this,"experienceEligibility",!1),h(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:n,viewExperience:i,viewExperienceObject:r,session:s}=this.props;e&&"viewed"!==e.status&&(s?.startSession(),t?(e.status="viewed",r(e)):n?i(e.placement_id,e.experience_id,n):i(e.placement_id,e.experience_id))}),h(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:n,experience:i,isBackendExperience:r,preventRemoval:s,targeting:o}=this.props,l=e||1;if(i&&!this.state.hasCompleted.includes(i.experience_id)){let{placement_id:e,experience_id:a}=i||{},c=s||2===l;(1===l||c)&&e&&a&&(r?n(i,c):o?t(e,a,c,o):t(e,a,c),this.props.session?.endSession("complete"),this.setState(e=>({hasCompleted:[...e.hasCompleted,a]})))}}),h(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:i,preventRemoval:r,targeting:s}=this.props;if(!n)return;let{placement_id:o,experience_id:l}=n;n&&!this.state.hasDismissed.includes(l)&&(i?t(n):s?e(o,l,!!r,s):e(o,l,!!r),this.props.session?.endSession("dismiss"),this.setState(e=>({hasDismissed:[...e.hasDismissed,l]})))}),h(this,"isEligibleExperience",e=>{if(!e)return!1;let{eligibleIds:t,eligibleTypes:n,predicate:i}=this.props,{experience_id:r,type:s}=e;return 1!==r&&(t&&t.length?t.includes(r):n&&n.length?n.includes(s):!i||i(e))})}setEligibility(){let{experience:e}=this.props,t=this.isEligibleExperience(e);this.experienceEligibility!==t&&(this.experienceEligibility=t)}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience(e)&&this.view(),this.setEligibility()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,n=this.props.experience,i=this.isEligibleExperience(n);if(!n||!i)return void this.setEligibility();let r=t?.experience_id!==n.experience_id,s=i&&!this.experienceEligibility;(!t||r||s)&&(this.setEligibility(),this.view())}render(){let{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.isEligibleExperience(t)?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({}),sessionSetObserverRef:this.props.session?.setObserverRef}):r.Children.only(e):null}}function f(e){(0,i.Z)("Experience","/app/packages/experiences/Framework/Experience.tsx");let t=(0,p.gZ)(),n=(0,s.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0));(0,u.Z)(()=>{t?.checkUsePlacementCalls(e.placementId,n?.experience_id)});let r=(0,s.I0)(),l=(0,a.be)(),d=(0,a.Am)(),h=(0,a.Ig)(),f=(0,o.Z)(),g=(0,c.NQ)();return(0,x.jsx)(m,{...e,completeExperience:(e,t,n,i)=>r(l(e,t,n,!1,{},i)),completeExperienceObject:(e,t)=>r((0,a.Tl)(f)(e,t)),dismissExperience:(e,t,n,i)=>r(d(e,t,n,!1,void 0,i)),dismissExperienceObject:e=>r((0,a.CF)(e)),experience:n,session:g,viewExperience:(e,t,n)=>r(h(e,t,!1,!1,void 0,n)),viewExperienceObject:e=>r((0,a.dy)(f)(e))})}function g({enableExperienceSession:e=!1,customExperienceSession:t=!1,...n}){let i=(0,s.v9)(({experiences:e})=>n.experience||(n.placementId?e[n.placementId]:void 0)),r=e;return r&&t&&(r=!!i&&d.$I.includes(i.experience_id)),(0,x.jsx)(c.KF,{enable:r,endOnSurfaceChange:n.sessionEndOnSurfaceChange,experienceId:i?i.experience_id:void 0,id:i?i.id:void 0,placementId:n.placementId,children:(0,x.jsx)(f,{...n,experience:i})})}function _(e){return(0,i.Z)("Experience","/app/packages/experiences/Framework/Experience.tsx"),(0,x.jsx)(l.Z,{name:"ExperienceComponent",children:(0,x.jsx)(g,{...e})})}h(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},581829:function(e,t,n){n.d(t,{Z:()=>r});let i={1:"default",2:"subtle",3:"subtle",4:"inverse",5:"info",6:"success",7:"warning",8:"error",9:"recommendation",10:"brandPrimary",11:"light",12:"dark"},r=(e,t="default")=>i[e]||t},641048:function(e,t,n){n.d(t,{f:()=>r});let i={2:"pinterest",1:"sparkle",5:"add",7:"angled-pin",4:"flashlight",3:"search",6:"speech-ellipsis",8:"instagram",9:"camera",10:"camera-roll",11:"board",12:"layout",13:"hand-pointing",14:"share",15:"download",16:"shopping-bag",17:"check",18:"alert",19:"bell",20:"person",21:"flag",22:"lightbulb",23:"home",24:"speech-heart",25:"speech-outline",26:"heart-outline",27:"face-smiley-outline",28:"face-tryon",29:"star-outline",30:"ads-stats",31:"filter",32:"heart",33:"gift",34:"crystal-ball",35:"saved",36:"magnifying-glass-sparkle",37:"performance-plus",38:"amazon",39:"tag",40:"tag-star",41:"scissors"},r=e=>i[e]},439068:function(e,t,n){n.d(t,{Z:()=>l});var i=n(667294),r=n(120944),s=n(531014),o=n(15667);function l(e){let{mountedPlacements:t,completeExperience:n,dismissExperience:l,experiences:a,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:p,triggerExperimentsForPlacement:u,viewExperience:x}=(0,r.ZP)(),{isBot:h}=(0,o.B)(),m=e&&!h?(0,s.MQ)(a,t,e):null;return(0,i.useMemo)(()=>({completeExperience:n,dismissExperience:l,experienceForPlacement:m,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:p,triggerExperimentsForPlacement:u,viewExperience:x}),[n,l,m,c,d,p,u,x])}},120944:function(e,t,n){n.d(t,{L$:()=>i,ZP:()=>o,gZ:()=>s});let{Provider:i,get:r,getMaybe:s}=(0,n(729434).Z)("ExperienceContext"),o=r},597189:function(e,t,n){n.d(t,{Z:()=>p});var i=n(667294),r=n(581722),s=n(442279),o=n(120944),l=n(15667),a=n(603316);let c=(0,s.createSelector)(e=>e.experiences,(e,t)=>t,(e,t)=>e[t]),d=(e,t)=>"function"==typeof t?t(e):t,p=(e,t={},n=!1,s=!1)=>{let[p,u]=(0,i.useReducer)(d,t),{isBot:x}=(0,l.B)(),{fetchExperienceForPlacements:h,mountPlacement:m,triggerExperimentsForPlacement:f,unmountPlacement:g,setUsePlacementCalls:_}=(0,o.ZP)();(0,i.useDebugValue)(`Placement Hook ID - ${e}`),_(e,!0),(0,i.useEffect)(()=>(m(e,p,n&&p?.advertiser_id?{advertiserId:p.advertiser_id}:void 0,s),()=>{g(e)}),[]),(0,i.useEffect)(()=>{Object.keys(p).length>0&&h([e],x,p,n&&p?.advertiser_id?{advertiserId:p.advertiser_id}:void 0)},[p]);let y=(0,r.v9)(t=>c(t,e)),b=(0,r.v9)(t=>t.experiencesMulti[e]),v=y?y.triggerable_placed_exps:[];return(0,i.useEffect)(()=>{((e,t,n={})=>(0,a.nP)(`${e}.${t}`,{sampleRate:1,tags:n}))("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,triggerable_experiences:JSON.stringify(v)}),f(e,p)},[JSON.stringify(v)]),{experience:y,experiencesMulti:b,setExtraContext:u}}},364843:function(e,t,n){n.d(t,{O9:()=>e0,RL:()=>D,iH:()=>U,a3:()=>d.ZP,b9:()=>O,So:()=>eI,RK:()=>e6,k6:()=>ta,N:()=>eR,Sc:()=>_.ZP,w0:()=>u,_7:()=>M,vx:()=>h,OR:()=>tp,cO:()=>E,Ig:()=>ec,dr:()=>tb,_f:()=>el,Uv:()=>tl,pF:()=>eU,Qp:()=>tx,oS:()=>Z.Z,FH:()=>ts,nj:()=>eS,u3:()=>ed.default,ag:()=>A,M8:()=>eF,KS:()=>eW,mc:()=>t_,cs:()=>tg,H6:()=>td,_P:()=>P,Ow:()=>T.Z}),n(879592);var i=n(281098),r=n(20256),s=n(980787),o=n(19585),l=n(785893);let a={"error-callout":"error","info-callout":"info","warning-callout":"warning"};function c(e){(0,i.Z)("ExperienceAnalyticsCalloutBanner","/app/packages/experiences/Experiences/ExperienceAnalyticsCalloutBanner/ExperienceAnalyticsCalloutBanner.tsx");let t=(0,o.Z)(),{logContextEvent:n}=(0,s.u)(),{displayData:c,experienceId:d,onComplete:p,onDismiss:u}=e,x={info:t._('Information icon', 'analyticsCalloutBanner.accessibilityLabel.info', 'accessibility label for info icon'),warning:t._('Warning icon', 'analyticsCalloutBanner.accessibilityLabel.warning', 'accessibility label for warning icon'),error:t._('Error icon', 'analyticsCalloutBanner.accessibilityLabel.error', 'accessibility label for error icon')},h=a[c.type]||"info";return(0,l.jsx)(r.xu,{marginTop:6,paddingX:6,children:(0,l.jsx)(r.ci,{dismissButton:{accessibilityLabel:t._('Dismiss banner', 'analyticsCalloutBanner.dismissAccessibilityLabel', 'accessibility label to dismiss banner with metric updates on analytics'),onDismiss:()=>{u(),n({event_type:101,component:14071,element:11925,aux_data:{placed_experience_id:d}})}},iconAccessibilityLabel:x[h],message:(0,l.jsxs)(r.xv,{children:[c.message,c.link?(0,l.jsx)(r.rU,{display:"inline",href:c.link.href,target:"blank",children:c.link.text}):null]},"message"),primaryAction:c.primaryAction?.label?{label:c.primaryAction.label,accessibilityLabel:c.primaryAction.accessibilityLabel,href:c.primaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),p(),n({event_type:101,component:14071,element:13004,aux_data:{placed_experience_id:d}})},target:"blank",role:"link"}:void 0,secondaryAction:c.secondaryAction?.label?{label:c.secondaryAction.label,accessibilityLabel:c.secondaryAction.accessibilityLabel,href:c.secondaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),u(),n({event_type:101,component:14071,element:13005,aux_data:{placed_experience_id:d}})},target:"blank",role:"link"}:void 0,title:c.title,type:h})})}var d=n(962988);let p=["error-callout","info-callout","warning-callout"];function u(e){(0,i.Z)("ExperienceAnalyticsCalloutBannerPlacement","/app/packages/experiences/Experiences/ExperienceAnalyticsCalloutBanner/ExperienceAnalyticsCalloutBannerPlacement.tsx");let{placementId:t}=e;return(0,l.jsx)(d.ZP,{placementId:t,predicate:e=>e.display_data?.type&&p.includes(e.display_data.type)&&e.display_data?.message,children:({complete:e,dismiss:t,experience:{display_data:n,experience_id:i}})=>(0,l.jsx)(c,{displayData:n,experienceId:i,onComplete:e,onDismiss:t})})}function x(e){(0,i.Z)("ExperienceAnalyticsUpsellBanner","/app/packages/experiences/Experiences/ExperienceAnalyticsUpsellBanner/ExperienceAnalyticsUpsellBanner.tsx");let t=(0,o.Z)(),{logContextEvent:n}=(0,s.u)(),{displayData:a,experienceId:c,onComplete:d,onDismiss:p,marginBottom:u}=e;return(0,l.jsx)(r.xu,{marginBottom:u,marginTop:6,paddingX:6,children:(0,l.jsx)(r.XA,{dismissButton:{accessibilityLabel:t._('Dismiss banner', 'analyticsCalloutBanner.dismissAccessibilityLabel', 'accessibility label to dismiss banner with metric updates on analytics'),onDismiss:()=>{p(),n({event_type:101,component:14075,element:11925,aux_data:{placed_experience_id:c}})}},message:a.message,primaryAction:a.primaryAction?.label?{label:a.primaryAction.label,accessibilityLabel:a.primaryAction.accessibilityLabel,href:a.primaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),d(),n({event_type:101,component:14075,element:13004,aux_data:{placed_experience_id:c}})},target:"blank",role:"link"}:void 0,secondaryAction:a.secondaryAction?.label?{label:a.secondaryAction.label,accessibilityLabel:a.secondaryAction.accessibilityLabel,href:a.secondaryAction.href,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),p(),n({event_type:101,component:14075,element:13005,aux_data:{placed_experience_id:c}})},target:"blank",role:"link"}:void 0,title:a.title??""})})}function h(e){(0,i.Z)("ExperienceAnalyticsUpsellBannerPlacement","/app/packages/experiences/Experiences/ExperienceAnalyticsUpsellBanner/ExperienceAnalyticsUpsellBannerPlacement.tsx");let{placementId:t,marginBottom:n}=e;return(0,l.jsx)(d.ZP,{placementId:t,predicate:e=>e.display_data?.type==="upsell"&&e.display_data?.message,children:({complete:e,dismiss:t,experience:{display_data:i,experience_id:r}})=>(0,l.jsx)(x,{displayData:i,experienceId:r,marginBottom:n,onComplete:e,onDismiss:t})})}var m=n(667294);class f extends m.Component{renderFlyout(){let{anchor:e,tooltip:t,handleDismiss:n,handleComplete:i}=this.props;if(!t)return null;let{cancelButtonText:s,confirmButtonText:o,mainText:a,idealDirection:c="down"}=t,d=s&&!!n&&o&&i;return(0,l.jsx)(r.pl,{anchor:e,idealDirection:c,message:a,onDismiss:n,primaryAction:{onClick:d?n:i,text:d?String(s):String(o),role:"button"},size:"flexible"})}render(){(0,i.Z)("LegacyToolTipPulsar","/app/packages/experiences/Experiences/ExperienceAnchor/LegacyToolTipPulsar.tsx");let{anchor:e}=this.props;return e?this.renderFlyout():null}}var g=n(825332),_=n(120944),y=n(506662),b=n(378888),v=n(647709);let E=()=>{let{mountPlacement:e,registeredAfterActionPlacements:t}=(0,_.ZP)(),n=(0,v.HG)(),i=(0,g.TH)();return(0,m.useCallback)((r,s,o)=>{let l;switch(r){case"Save":var a;l=s?.isRepinTakeover?1000578:(a=i,((0,y.XU)(a)&&a.state&&"from"in a.state&&a.state.from&&(a=a.state.from),(0,y.HV)(a))?n?1000503:1000558:(0,y.En)(a)?n?1000506:1000559:(0,y.L6)(a)?n?1000141:1000494:(0,y.am)(a)&&n?1000647:void 0);break;case"Download":(0,y.L6)(i)&&(l=n?1000499:1000500);break;case"Clickthrough":l=((e,t)=>{if(t){if((0,y.HV)(e))return 1000541;else if((0,y.En)(e))return 1000542;else if((0,y.L6)(e))return 1000140}else if((0,y.HV)(e))return 1000544;else if((0,y.En)(e))return 1000543;else if((0,y.L6)(e))return 1000540})(i,n);break;case"NoAction":l=((e,t)=>{if(t&&(0,y.L6)(e))return 1000564})(i,n)}null!=l&&((0,y.En)(i)&&(s={...s,search_query:(0,b.mB)(i.search)}),null!=l&&(t[l]||(0,y.XU)(i))&&e(l,s,o))},[t,e,i,n])};var w=n(581722),j=n(503246),C=n(877956),k=n(15667);let P=({extraContext:e,id:t,shouldUsePlacedExperience:n=!0})=>{let i=(0,m.useRef)(void 0),r=(0,w.I0)(),{isBot:s}=(0,k.B)(),o=(0,w.v9)(e=>e.experiences[t]);return(0,m.useEffect)(()=>{r((0,C.kd)(t))},[r,o,t]),(0,m.useEffect)(()=>{n||(0,j.ZP)(i.current,e)||(r((0,C.pz)([t],s,e)),i.current=e)},[r,e,s,t,n]),o},A=e=>(P(e),(0,w.v9)(t=>t.experiencesMulti[e.id]));var Z=n(439068),T=n(597189),S=n(531014);function I(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let z={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},D=(e,t={},n)=>((0,i.Z)("withPlacement","/app/packages/experiences/hooks/withPlacement.tsx"),r=>(function(e,t,n=!0,r=!1,s){(0,i.Z)("withPlacement","/app/packages/experiences/hooks/withPlacement.tsx");class o extends m.Component{constructor(e){super(e),I(this,"state",{extraContext:void 0}),I(this,"setExtraContextState",e=>{(0,j.ZP)(this.state.extraContext,e)||this.setState({extraContext:e})})}componentDidMount(){this.dispatchPlacementMount()}componentDidUpdate(n,i){let{dispatch:r,experience:s,requestContext:o}=this.props,l=i.extraContext,a=this.state.extraContext||t||{};"function"==typeof t&&(l=t(n,i.extraContext||{}),a=t(this.props,this.state.extraContext||{})),a&&Object.keys(a).length>0&&"object"==typeof a&&!(0,j.ZP)(l,a)&&r((0,C.pz)([e],o.isBot,a)),s&&(!n.experience||s.id!==n.experience.id)&&r((0,C.kd)(e,"object"==typeof a?a:{}))}componentWillUnmount(){this.props.unmountPlacement(e)}dispatchPlacementMount(){let n="function"==typeof t?t(this.props,this.state.extraContext||{}):{...t},i=r&&n?.advertiser_id?{advertiserId:n.advertiser_id}:void 0;this.props.mountPlacement(e,n,i)}render(){let{experience:e,experiencesMulti:t}=this.props,n={[r?"advertiserExperience":"experience"]:e&&(0,S.E3)(e)?e:null};return(0,l.jsx)(s,{...this.props,setPlacementExtraContext:this.setExtraContextState,...n,experiencesMulti:t})}}function a(t){let n=(0,w.v9)(t=>t.experiences[e]),i=(0,w.v9)(t=>t.experiencesMulti?t.experiencesMulti[e]:void 0),r=(0,k.B)(),s=(0,w.I0)(),{mountPlacement:a,unmountPlacement:c,setUsePlacementCalls:d}=(0,_.ZP)();return d(e,!0),(0,l.jsx)(o,{...t,dispatch:s,experience:n,experiencesMulti:i,mountPlacement:a,requestContext:r,unmountPlacement:c})}return a.displayName=`withPlacement(${s.displayName||s.name||"Component"})`,a})(e,t,(n={...z,...n}).dispatchMountActionDuringSSR,n.isAdvertiserPlacement,r));var B=n(949044),L=n(974705);function M({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:s,experience:o,isHidden:a,onCompleteClick:c,zIndex:d}){(0,i.Z)("ExperienceAnchor","/app/packages/experiences/Experiences/ExperienceAnchor/ExperienceAnchor.tsx");let{completeExperience:p,dismissExperience:u,experiences:x,viewExperience:h}=(0,_.ZP)(),g=(({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null))({anchor:e,anchorExperiences:Object.values(x).reduce((e,t)=>{let n=(0,S.A0)(t);return 8===t.type&&n&&(e[n]=t),e},{}),passedExperience:o}),y=g?.display_data?.delay||0,[b,v]=(0,m.useState)(!!y);if((0,m.useEffect)(()=>{if(y>0&&b){let e=setTimeout(()=>{v(!1)});return()=>clearTimeout(e)}return()=>{}},[y,b]),(0,m.useEffect)(()=>{!b&&g&&h(g.placement_id,g.experience_id)},[b,g]),!g||b||a)return m.Children.only(n);let E=(e=>{let{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,B.Z)(L.Z,!0)(t)})(g),w=()=>{g.display_data?.complete_on_hover&&p(g.placement_id,g.experience_id)};return(0,l.jsxs)(r.xu,{display:s?.display,height:s?.height,position:"relative",children:[(0,l.jsx)(r.iP,{onMouseEnter:w,onTap:()=>{c&&c(),E.skipComplete||p(g.placement_id,g.experience_id)},children:m.Children.only(n)}),(0,l.jsx)(f,{anchor:t||null,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{e?.event&&e.event.stopPropagation(),u(g.placement_id,g.experience_id)},handlePulsarCompleteOnHover:w,pulserOnly:!!E.pulserOnly,tooltip:E.tooltip,zIndex:d})]})}var N=n(47426);function R(e){(0,i.Z)("MultiPlatformBanner","/app/packages/experiences/Experiences/MultiPlatformBanner/MultiPlatformBanner.tsx");let t=(0,o.Z)(),{displayData:{backgroundColorNarrow:n,backgroundColorWide:s,backgroundImageNarrow:a,backgroundImageWide:c,canClose:d,completeButtonText:p,coverImage:u,dismissButtonText:x,iconImage:h,layoutNarrow:m,layoutWide:f,links:g=[],linkTitles:_=[],message:y,onCompleteRedirectUrl:b,onDismissRedirectUrl:E,textColorNarrow:w,textColorWide:j,titleText:C,external:k},onComplete:P,onDismiss:A}=e,Z=!(0,v.HG)(),T=Z?m:f,S=!Z&&3!==T,I=Z?n:s,z=Z?w:j,{altText:D,uri:B}=(Z?a:c)||{},{altText:L,uri:M}=u||{},{altText:R,uri:O}=h||{},F=Z&&2===T||!Z&&2===T,U=Z?"96px":"48px",H=Z&&3===T,W=p&&!b&&(0,l.jsx)(r.zx,{color:"white",onClick:({event:e})=>{P?.(e)},text:p}),$=(0,N.Z)({url:b}),X=p&&b&&(0,l.jsx)(r.ZP,{color:"white",href:b,onClick:({event:e})=>{P?.(e)},rel:$?"nofollow":"none",size:"lg",target:k?"blank":void 0,text:p},"naglink"),G=(0,N.Z)({url:E}),Q=x&&E&&(0,l.jsx)(r.ZP,{color:"white",href:E,onClick:({event:e})=>{A?.(e)},rel:G?"nofollow":"none",size:"lg",target:k?"blank":void 0,text:x},"naglink"),Y=x&&!E&&(0,l.jsx)(r.zx,{color:"white",onClick:({event:e})=>{A?.(e)},size:"lg",text:x}),V=d&&(0,l.jsx)(r.hU,{accessibilityLabel:t._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:({event:e})=>{A?.(e)},size:"md"}),K=g.reduce((e,t,n)=>{let i=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",r=`<a href="${t}" ${i}>${_[n]}</a>`;return e.replace(`{${n}}`,r)},y),q={backgroundColor:I,backgroundImage:!B||F||H?void 0:`url(${B})`,backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"};return(0,l.jsx)(r.xu,{direction:S?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:2,children:(0,l.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",margin:"0 auto"},children:(0,l.jsxs)(r.zd,{rounding:4,width:"100%",children:[H&&M&&(0,l.jsx)(r.kC,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,l.jsx)(r.Ee,{alt:L||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:M})}),(0,l.jsxs)(r.xu,{alignItems:"center","aria-label":D,dangerouslySetInlineStyle:{__style:q},direction:S?"row":"column",display:"flex",justifyContent:"between",marginTop:H?-2:0,padding:6,children:[(0,l.jsxs)(r.kC,{alignItems:"center",direction:S?"row":"column",justifyContent:"between",maxWidth:S?void 0:"560px",children:[F&&O&&(0,l.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:6*!S,marginEnd:4*!!S,children:(0,l.jsx)(r.xu,{height:U,width:U,children:(0,l.jsx)(r.zd,{rounding:S?4:6,children:(0,l.jsx)(r.Ee,{alt:R||"icon",naturalHeight:1,naturalWidth:1,src:O})})})}),!S&&C&&(0,l.jsx)(r.xv,{align:"center",weight:"bold",children:(0,l.jsx)("div",{className:"banner-title",style:{color:z,fontSize:"28px",marginBottom:"8px"},children:C})}),K&&(0,l.jsxs)(r.xv,{align:S?"start":"center",overflow:"normal",children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                        .banner-text a {
                          color: ${z||""};
                          font-weight: bold;
                        }`}}),(0,l.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:K},style:{color:z}})]})]}),(0,l.jsx)(r.xu,{marginBottom:S?0:-1,marginStart:4*!!S,marginTop:4*!S,children:(0,l.jsxs)(r.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",wrap:!S,children:[Y||Q,W||X,V]})})]})]})})})}let O=({placementId:e})=>((0,i.Z)("ExperienceBanner","/app/packages/experiences/Experiences/ExperienceBanner/ExperienceBanner.tsx"),(0,l.jsx)(d.ZP,{placementId:e,predicate:e=>e.display_data?.component_type===1,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let i=(0,B.Z)(L.Z)(n);return(0,l.jsx)(R,{displayData:i,onComplete:()=>e(),onDismiss:t})}})),F=[502312,502320,502321,502322],U=({placementId:e})=>((0,i.Z)("ExperienceBlank","/app/packages/experiences/Experiences/ExperienceBlank/ExperienceBlank.tsx"),(0,l.jsx)(d.ZP,{eligibleIds:F,placementId:e,preventRemoval:!0,children:({complete:e})=>(e(),null)})),H=({data:e,buttonType:t,calloutType:n})=>{(0,i.Z)("ActionButton","/app/packages/experiences/Experiences/ExperienceCallout/ActionButton.tsx");let{accessibilityLabel:s,disabled:o,label:a}=e,c=(0,v.HG)(),d="transparent";"primary"===t&&(d="upsell"===n?"red":"gray");let p="md";switch(n){case"neutral":p=c?"sm":"md";break;case"upsell":p=c?"md":"sm";break;default:p="md"}return(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:1,children:"link"===e.role?(0,l.jsx)(r.ZP,{accessibilityLabel:s,color:d,disabled:o,fullWidth:!0,href:e.href,onClick:e.onClick,rel:e.rel,size:p,target:e.target,text:a}):(0,l.jsx)(r.zx,{accessibilityLabel:s,color:d,disabled:o,fullWidth:!0,onClick:e.onClick,size:p,text:a})})};var W=n(894199);function $({dismissButton:e,message:t,primaryAction:n,secondaryAction:s,title:a}){(0,i.Z)("CalloutNeutral","/app/packages/experiences/Experiences/ExperienceCallout/CalloutNeutral.tsx");let c=(0,v.HG)(),d=n||s,p=(0,o.Z)(),{setObserverRef:u}=(0,W.NQ)(),x=e&&(0,l.jsx)(r.xu,{alignSelf:"baseline",children:(0,l.jsx)(r.hU,{accessibilityLabel:e.accessibilityLabel||p._('Dismiss callout', 'experiences.ExperienceCallout.CalloutNeutral.dismissLabel', 'Accessibility label for the X button to dismiss a callout'),icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,l.jsxs)(r.xu,{ref:u,borderStyle:"sm",color:"transparent",direction:"row",display:"flex",marginBottom:4,padding:4,rounding:4,children:[(0,l.jsxs)(r.kC,{direction:c?"row":"column",width:"100%",wrap:!c,children:[(0,l.jsxs)(r.kC,{flex:"grow",justifyContent:"between",minWidth:0,children:[(0,l.jsxs)(r.kC,{direction:"column",flex:"shrink",children:[a&&(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"400",weight:"bold",children:a})}),(0,l.jsx)(r.xv,{children:t})]}),!c&&x]}),d&&(0,l.jsxs)(r.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:2*!c,children:[s&&(0,l.jsx)(H,{buttonType:"secondary",calloutType:"neutral",data:s}),n&&(0,l.jsx)(H,{buttonType:"primary",calloutType:"neutral",data:n})]})]}),c&&x]})}var X=n(93966),G=n(369416);let Q=(X.yF+X.lX)*X.yc-X.lX,Y=Array.from(Array(X.g5-X.yc).keys()).reduce((e,t)=>{let n=t+X.yc,i=(X.yF+X.lX)*n-X.lX;return e+(0,X.KN)(X.yF,n,n,`.masonry-width-wrapper {
          width: ${i}px;
          min-width: ${i}px;
          margin: 0 auto;

        }`,X.lX)},`.masonry-width-wrapper {
      width: ${Q}px;
      min-width: ${Q}px;
      margin: 0 auto;

  }`),V=({children:e})=>{(0,i.Z)("MasonryWidthWrapper","/app/packages/experiences/Experiences/ExperienceCallout/MasonryWidthWrapper.tsx");let t=(0,v.HG)();return(0,l.jsxs)(m.Fragment,{children:[t&&(0,l.jsx)(G.Z,{unsafeCSS:Y})," ",(0,l.jsx)("div",{className:"masonry-width-wrapper",children:e})]})};var K=n(667835);function q({dismissButton:e,imageData:t,message:n,primaryAction:s,secondaryAction:a,title:c}){let d;(0,i.Z)("UpsellCallout","/app/packages/experiences/Experiences/ExperienceCallout/UpsellCallout.tsx");let p=t?.component&&t.component.type===r.Ee,u=(0,v.HG)(),x=(0,o.Z)(),{setObserverRef:h}=(0,W.NQ)(),m=!!(s||a);"string"==typeof n&&(d=(0,l.jsx)(r.xv,{children:n}));let f=x._('Dismiss callout', 'experiences.ExperienceCallout.UpsellCallout.dismissLabel', 'Accessibility label for the X button to dismiss an upsell callout'),g=e&&(0,l.jsx)(r.xu,{alignSelf:u?"center":"baseline",children:(0,l.jsx)(r.hU,{accessibilityLabel:e.accessibilityLabel||f,icon:"cancel",iconColor:"darkGray",onClick:e.onDismiss,size:"xs"})});return(0,l.jsxs)(r.xu,{ref:h,borderStyle:"shadow",color:(0,K.Yc)()&&!u?"elevationFloating":"default",direction:"row",display:"flex",maxWidth:u?900:348,minWidth:u?380:348,padding:4,position:"relative",rounding:4,children:[(0,l.jsxs)(r.kC,{direction:u?"row":"column",width:"100%",wrap:!u,children:[(0,l.jsxs)(r.kC,{alignItems:u?"center":"start",flex:"grow",justifyContent:"between",minWidth:0,children:[t&&(0,l.jsx)(r.xu,{flex:"none",marginEnd:4,width:p?Math.min(t.width||128,128):void 0,children:(0,l.jsx)(r.zd,{rounding:t.mask?.rounding||0,wash:t.mask?.wash||!1,children:t.component})}),(0,l.jsx)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginEnd:0,marginStart:0,marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:6*!!t,children:(0,l.jsxs)(r.xu,{maxWidth:648,children:[c&&(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{size:"400",weight:"bold",children:c})}),d||n]})}),!u&&g]}),m&&(0,l.jsxs)(r.xu,{display:"flex",flex:"none",marginStart:"auto",marginTop:2*!u,children:[a&&(0,l.jsx)(H,{buttonType:"secondary",calloutType:"upsell",data:a}),s&&(0,l.jsx)(H,{buttonType:"primary",calloutType:"upsell",data:s})]})]}),u&&g]})}var J=n(873651),ee=n(581829),et=n(641048),en=n(25837),ei=n(76774);let er=new r.Ry(en.fe),es=new r.H3([er]),eo=(e,t,n)=>e&&e.url?{label:e.text,accessibilityLabel:t,href:e.url,role:"link",rel:(0,N.Z)({url:e.url})?"nofollow":"none",onClick:n}:{label:e.text,accessibilityLabel:t,onClick:n},el=({experience:e,placementId:t,customFooterHeight:n})=>{(0,i.Z)("ExperienceCallout","/app/packages/experiences/Experiences/ExperienceCallout/ExperienceCallout.tsx");let s=(0,v.HG)(),a=(0,o.Z)(),{enableExperienceSession:c,endOnSurfaceChange:p}=(0,J.Z)(t),{navFooterHeight:u}=(0,ei.Q)();return(0,l.jsx)(d.ZP,{eligibleTypes:[27,28],enableExperienceSession:c,experience:e,placementId:t,sessionEndOnSurfaceChange:p,children:({complete:e,dismiss:t,experience:i})=>{let o=(0,B.Z)(L.Z)(i.display_data),c=a._('Dismiss callout', 'experiences.ExperienceCallout.dismissLabel', 'Accessibility label for the X button to dismiss an callout'),d=o.completeButton?eo(o.completeButton,c,()=>e()):void 0,p=o.dismissButton&&!o.dismissButton.hideDismissButton?eo(o.dismissButton,c,()=>t()):void 0;switch(i.type){case 27:return(0,l.jsx)(V,{children:(0,l.jsx)($,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:c},message:(0,S.wQ)(o.message),primaryAction:d,secondaryAction:p,title:o.title})});case 28:let x=((e,t)=>{let n=(0,et.f)(e),i=(0,ee.Z)(t);return n?(0,l.jsx)(r.JO,{accessibilityLabel:"",color:i,icon:n,size:32}):null})(o.icon,o.iconColor);return(0,l.jsx)(r.mh,{zIndex:es,children:(0,l.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:s?24:(n??u)+8,transition:"margin-bottom 300ms ease-in-out"}},display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,children:(0,l.jsx)(r.xu,{children:(0,l.jsx)(q,{dismissButton:{onDismiss:()=>t(),accessibilityLabel:c},imageData:x?{component:x}:void 0,message:(0,S.wQ)(o.message),primaryAction:d,secondaryAction:p,title:o.title})})})});default:return(0,l.jsx)(m.Fragment,{})}}})};class ea extends m.PureComponent{componentDidMount(){let{experience:e}=this.props;if(e&&500500===e.experience_id){let{experience_id:t,placement_id:n}=e;this.props.experienceClient.viewExperience(n,t)}}componentDidUpdate(e){let t=e.experience,n=this.props.experience;if(n&&!t){let{experience_id:e,placement_id:t}=n;this.props.experienceClient.viewExperience(t,e)}}render(){return this.props.children}}function ec(e){(0,i.Z)("ExperienceCloseupFeatures","/app/packages/experiences/Experiences/ExperienceCloseupFeatures/ExperienceCloseupFeatures.tsx");let t=(0,Z.Z)(),{experience:n}=(0,T.Z)(1000075);return(0,l.jsx)(ea,{...e,experience:n,experienceClient:t})}var ed=n(437320),ep=n(78762);let eu=new r.Ry(en.fe),ex=new r.H3([eu]),eh=new r.H3([ex]),em={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},ef={width:540,height:363},eg={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},e_={width:320,height:215},ey=(0,ep.Z)(()=>Promise.all([n.e("25418"),n.e("22244"),n.e("31142")]).then(n.bind(n,509691)),void 0,e=>509691,"app-www-video-VideoWrapper",e=>["25418","22244","31142"]),eb=e=>{let{isMobile:t,image:n,video:i,handleDismiss:s,title:a}=e,c=(0,o.Z)(),d=t?eg:em,p=t?e_:ef,u=(0,l.jsx)(r.xu,{display:"flex",justifyContent:t?"start":"end",margin:d.closeButtonMargin,position:"absolute",width:p.width-2*d.modalMargin,zIndex:eh,children:(0,l.jsx)(r.hU,{accessibilityLabel:c._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),bgColor:"lightGray",icon:"cancel",iconColor:"darkGray",onClick:s,size:"sm"})}),x=n?n.imageAlt:a,h=n?n.url:i?.metadata?.thumbnail,m=n?.dominantColor?.length===3?`rgb(${n.dominantColor[0]}, ${n.dominantColor[1]}, ${n.dominantColor[2]})`:"rgb(111, 91, 77)",f=p.width/p.height,g={width:p.width,height:p.height};n&&n.width&&n.height?(f=n.width/n.height,g={width:n.width,height:n.height}):i&&i.metadata.width&&i.metadata.height&&(f=i.metadata.width/i.metadata.height,g={width:i.metadata.width,height:i.metadata.height});let _=h?(0,l.jsx)(r.Ee,{alt:x||"",color:m,fit:"cover",naturalHeight:g.height,naturalWidth:g.width,src:h}):void 0,y=Math.trunc(p.width/f);return(0,l.jsxs)(r.xu,{bottom:!0,height:y,left:!0,overflow:"hidden",right:!0,top:!0,width:p.width,children:[u,n&&_,i&&(0,l.jsx)(ey,{aspectRatio:f,backgroundColor:"transparent",captions:"",controls:!1,fallback:_,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:()=>{},onPlayError:()=>{},pinKey:null,playbackRate:1,playing:!0,playsInline:!0,poster:n?.url||i.metadata.thumbnail,preload:"auto",src:i.url,volume:0})]})};function ev(e){(0,i.Z)("ExperienceMediaModalContent","/app/packages/experiences/Experiences/ExperienceMediaModal/ExperienceMediaModalContent.tsx");let{displayData:t,handleComplete:n,handleDismiss:s,isMobile:o}=e,{video:a,image:c,title:d,body:p,completeButton:u,dismissButton:x}=t,h=o?eg:em,f=o?"center":"start",g=(0,N.Z)({url:u.url}),{setObserverRef:_}=(0,W.NQ)();return(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(eb,{handleDismiss:s,image:c,isMobile:o,title:d,video:a}),(0,l.jsxs)(r.xu,{ref:_,direction:"column",display:"flex",justifyContent:"center",margin:h.gestaltModalMargin,children:[(0,l.jsx)(r.X6,{align:f,children:d}),(0,l.jsx)(r.xu,{marginBottom:4,marginTop:2,children:(0,l.jsx)(r.xv,{align:f,children:(0,S.wQ)(p)})}),(0,l.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:o?"center":"end",margin:-1,children:[x&&!x.hideDismissButton&&(0,l.jsx)(r.xu,{fit:!0,flex:o?"grow":"none",minWidth:o?130:void 0,padding:1,children:(0,l.jsx)(r.zx,{color:"gray",fullWidth:o,onClick:s,size:"lg",text:x.text})}),u&&(0,l.jsx)(r.xu,{fit:!0,flex:o?"grow":"none",minWidth:o?130:void 0,padding:1,children:u.url?(0,l.jsx)(r.ZP,{color:"red",fullWidth:o,href:u.url,onClick:n,rel:g?"nofollow":"none",size:"lg",text:u.text}):(0,l.jsx)(r.zx,{color:"red",fullWidth:o,onClick:n,size:"lg",text:u.text})})]})]})]})}var eE=n(982166),ew=n(530355),ej=n(678213),eC=n(816358),ek=n(32937),eP=n(104659);function eA({accessibilityModalLabel:e,allowScroll:t=!1,children:n,closeOnOutsideClick:s=!0,footer:a,isOpen:c,modalWidth:d,onDismiss:p,zIndex:u}){(0,i.Z)("MobileModalWindow","/app/www/experiences/duplo/ExperienceMobileModalWindow/MobileModalWindow.tsx");let x=(0,o.Z)(),h=(0,m.useRef)(null),{setAppFocusState:f}=(0,eP.G)();return((0,m.useEffect)(()=>(h.current=(0,ew.Z)(()=>{}),()=>{"undefined"!=typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&h.current&&(window.cancelAnimationFrame(h.current),h.current=null)}),[]),(0,m.useEffect)(()=>(c?(eC.Z.pause(),f(!1)):(eC.Z.resume(),f(!0)),()=>{c&&(eC.Z.resume(),f(!0))}),[f,c]),(0,m.useEffect)(()=>{let e=c&&!t;return e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="hidden",e.touchAction="none"}})(),()=>{e&&(()=>{if(document.body){let{body:{style:e}}=document;e.overflow="visible",e.touchAction="auto"}})()}},[c,t]),c)?(0,l.jsx)(ek.Z,{children:(0,l.jsx)(r.mh,{children:(0,l.jsxs)(r.xu,{"aria-label":e,position:"relative",role:"dialog",zIndex:u||ej.b7,children:[(0,l.jsx)(r.iP,{accessibilityLabel:x._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:()=>{s&&p()},tapStyle:"none",children:(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new r.Ry(1)})}),(0,l.jsxs)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:4,top:!0,width:d,zIndex:new r.Ry(1),children:[n,a]})]})})}):null}let eZ=new r.Ry(en.fe),eT=new r.H3([eZ]);function eS(e){(0,i.Z)("ExperienceModalWindow","/app/packages/experiences/Experiences/ExperienceMediaModal/ExperienceModalWindow.tsx");let t=(0,w.v9)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),n=t?.display_data?.delay_in_millis,[o,a]=(0,m.useState)(t&&!n),{logContextEvent:c}=(0,s.u)(),p=(0,v.HG)(),{enableExperienceSession:u,endOnSurfaceChange:x}=(0,J.Z)(e.placementId),h=(0,m.useCallback)((e,t)=>{let n=new URL(e.display_data.complete_button.url),i=n.searchParams.get("repin_id");c({event_type:t,aux_data:{component_id:n.pathname.split("/").pop(),repin_id:i}})},[c]);return(0,m.useEffect)(()=>{let e=t&&!t.display_data?.delay_in_millis;a(e),e&&t?.experience_id===507669&&h(t,16498)},[t,h]),(0,m.useEffect)(()=>{let e;return n&&(e=setTimeout(()=>{a(!0)},n)),()=>clearTimeout(e)},[n]),(0,l.jsx)(m.Fragment,{children:o&&(0,l.jsx)(d.ZP,{eligibleTypes:[26],enableExperienceSession:u,experience:t,placementId:e.placementId,sessionEndOnSurfaceChange:x,children:({complete:e,dismiss:n,experience:{display_data:i}})=>{let s=(0,B.Z)(L.Z)(i),o=t?.experience_id===507054,c=t?.experience_id===507669,d=()=>{c&&h(t,16499),a(!1),n()},u=({dangerouslyDisableOnNavigation:t})=>{o&&t(),e(),a(!1)},{title:x,body:m,completeButton:f}=s;return x&&m&&f.text?p?(0,l.jsx)(r.mh,{zIndex:eT,children:(0,l.jsx)(eE.ZP,{accessibilityModalLabel:"",onDismiss:d,size:"sm",children:(0,l.jsx)(ev,{displayData:s,handleComplete:u,handleDismiss:d,isMobile:!1})})}):(0,l.jsx)(eA,{accessibilityModalLabel:s?.title,isOpen:!0,modalWidth:320,onDismiss:d,children:(0,l.jsx)(ev,{displayData:s,handleComplete:u,handleDismiss:d,isMobile:!0})}):null}})})}let eI=e=>{(0,i.Z)("ExperienceMetricsUnificationBanner","/app/packages/experiences/Experiences/ExperienceMetricsUnificationBanner/ExperienceMetricsUnificationBanner.tsx");let t=(0,o.Z)(),[n,s]=(0,m.useState)(!0),{placementId:a}=e;return(0,l.jsx)(d.ZP,{eligibleIds:[502527],placementId:a,children:({experience:{display_data:e,type:i}})=>(0,l.jsx)(m.Fragment,{children:n&&5===i&&!!e.buttons&&e.buttons.length>=2&&!!e.title_text&&!!e.subtitle_text&&(0,l.jsx)(r.xu,{marginBottom:6,marginTop:6,children:(0,l.jsx)(r.ci,{dismissButton:{accessibilityLabel:e.buttons[1].text,onDismiss:()=>{s(!1)}},iconAccessibilityLabel:t._('Info icon', 'experiences.experienceMetricsUnificationBanner.iconAccessibilityLabel', 'Accessibility label for info icon'),message:e.subtitle_text,primaryAction:{href:e.buttons[0].uri,label:e.buttons[0].text,accessibilityLabel:e.buttons[0].text,onClick:({dangerouslyDisableOnNavigation:e})=>e(),role:"link"},title:e.title_text,type:"info"})})})})};var ez=n(355940),eD=n(564325);let eB=en.fe,eL=new r.Ry(eB-1);function eM(e){let{button:t,onClick:n}=e;return t.url?(0,l.jsx)(r.ZP,{color:"white",fullWidth:!0,href:t.url,onClick:n,rel:(0,N.Z)({url:t.url})?"nofollow":"none",text:t.text}):(0,l.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:n,text:t.text})}let eN=e=>{let t,{anchors:n,experience:i,dismiss:s,complete:o,scrollToDismiss:a,onAnchorTouch:c,idealDirection:d,zIndex:p}=e,u=!0,{message:x,anchor:h,complete_button:f}=(i||{}).display_data,g=n[h],_=()=>{t&&clearTimeout(t),s()},y=()=>{t||u||(t=setTimeout(()=>_(),1500)),u=!1};(0,m.useEffect)(()=>(g&&(a&&(window.addEventListener("scroll",y),window.addEventListener("touchmove",y)),c&&g&&g.addEventListener("click","complete"===c?o:_)),()=>{a&&(window.removeEventListener("scroll",y),window.removeEventListener("touchmove",y),t&&clearTimeout(t)),c&&g&&g.removeEventListener("click","complete"===c?o:_)}),[g]);let{setObserverRef:b}=(0,eD.Z)(),v=(0,l.jsx)(r.pl,{anchor:g,idealDirection:d,onDismiss:_,zIndex:eL,children:(0,l.jsx)(r.xu,{ref:b,padding:4,tabIndex:0,children:(0,l.jsxs)(r.kC,{direction:"column",gap:3,children:[(0,l.jsx)(r.xv,{color:"light",children:x}),f&&(0,l.jsx)(eM,{button:f,onClick:o})]})})});return p?(0,l.jsx)(r.xu,{position:"fixed",zIndex:p,children:v}):v},eR=e=>{(0,i.Z)("ExperiencePopover","/app/packages/experiences/Experiences/ExperiencePopover/ExperiencePopover.tsx");let{placementId:t,anchors:n,advertiserId:r}=e,[s,o]=(0,m.useState)(!0),a=()=>o(!1),{enableExperienceSession:c,endOnSurfaceChange:p}=(0,W.jQ)(t,{rollout_experiment:1});return(0,l.jsx)(ez.Z,{name:"ExperiencePopoverEducational",children:s&&(0,l.jsx)(d.ZP,{enableExperienceSession:c,placementId:t,predicate:e=>{if(e?.type!==29)return!1;let{anchor:t}=(e||{}).display_data;return!!t&&!!n[t]},sessionEndOnSurfaceChange:p,targeting:r?{advertiserId:parseInt(r,10)}:null,children:({complete:t,dismiss:n,experience:i})=>(0,l.jsx)(eN,{...e,complete:()=>{a(),t()},dismiss:()=>{a(),n()},experience:i})})})},eO=(e,t)=>{let n=RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function eF({children:e,experiences:t,placementId:n,searchTerm:i,suggestions:r}){let{viewExperience:s}=(0,_.ZP)(),[o,l]=(0,m.useState)(null),[a,c]=(0,m.useState)(new Set),d=t?.filter(e=>e.display_data?.component_type===3).map(e=>({...e.display_data,id:e.experience_id}))||[];return(0,m.useEffect)(()=>{if(!i||!r)return void l(null);if(!o?.search_query_list.find(e=>r.some(({label:t})=>eO(t??"",e)))){let e=d.find(e=>e.id!==o?.id&&e.search_query_list?.find(e=>r.some(({label:t})=>eO(t??"",e))));if(e){l(e);let{id:t}=e;a.has(t)||("number"==typeof t&&s(n,t),c(new Set(a).add(t)))}}},[i]),e({searchDelightConfig:o})}function eU(e,t){return t.map(t=>((e,t)=>{let n=RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;let i=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,i),e.slice(i,i+t.length)]})(e,t)).filter(Boolean).sort((e,t)=>e&&t?t[1].length-e[1].length:0).shift()}function eH({searchDelightText:e,searchDelightConfig:t}){(0,i.Z)("SearchDelightText","/app/packages/experiences/Experiences/ExperienceSearchDelight/search-delight/SearchDelightText.tsx");let{text_background_color:n,text_colors:r=[]}=t,s=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(!(r.length>1))return(0,l.jsx)("span",{style:{color:r[0],whiteSpace:"pre-wrap",...s},children:e},`searchDelight-${e}`);{let t=0;return(0,l.jsx)("span",{style:{whiteSpace:"pre-wrap",...s},children:e.split("").map((e,n)=>{let i=r[t];return" "!==e&&(t=(t+1)%r.length),(0,l.jsx)("span",{style:{color:i},children:e},`searchDelight-${n}`)})})}}function eW({allBold:e,searchDelightParts:t,searchDelightConfig:n,text:s,weightPivot:o}){(0,i.Z)("HighlightTermWithSearchDelight","/app/packages/experiences/Experiences/ExperienceSearchDelight/search-delight/HighlightTermWithSearchDelight.tsx");let a=t[1],c=s.indexOf(a),d=c+a.length;return o<=c?(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:s.substring(0,o)}),(0,l.jsxs)(r.xv,{inline:!0,weight:"bold",children:[s.substring(o,c),(0,l.jsx)(eH,{searchDelightConfig:n,searchDelightText:a}),s.substring(d)]})]}):o<=d?(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:s.substring(0,c)}),(0,l.jsxs)(r.xv,{inline:!0,weight:"bold",children:[(0,l.jsx)(eH,{searchDelightConfig:n,searchDelightText:a}),s.substring(d)]})]}):(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:s.substring(0,c)}),(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,l.jsx)(eH,{searchDelightConfig:n,searchDelightText:a})}),(0,l.jsx)(r.xv,{color:"subtle",inline:!0,weight:e?"bold":"normal",children:s.substring(d,o)}),(0,l.jsx)(r.xv,{inline:!0,weight:"bold",children:s.substring(o)})]})}function e$(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eX extends m.Component{constructor(...e){super(...e),e$(this,"state",{surveyLoaded:!1}),e$(this,"loadSurvey",()=>{this.setState({surveyLoaded:!0}),this.props.view?.()}),e$(this,"handleDismiss",()=>{this.props.dismiss(),this.setState({surveyLoaded:!1})}),e$(this,"handleComplete",()=>{this.props.complete(),this.setState({surveyLoaded:!1})})}componentDidMount(){let{displayData:{delay:e}}=this.props;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}componentWillUnmount(){clearTimeout(this.surveyTimer)}render(){if(!this.state.surveyLoaded)return null;let{displayData:{buttons:e,detailed_text:t,title_text:n},setObserverRef:i}=this.props;return(0,l.jsx)(eE.ZP,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,l.jsx)(r.kC,{alignItems:"stretch",justifyContent:"end",children:e.map(e=>{if(!e.uri)return(0,l.jsx)(r.xu,{marginStart:1,children:(0,l.jsx)(r.zx,{fullWidth:!0,onClick:this.handleDismiss,text:e.text})},e.text);{let t=e.uri,n=(0,N.Z)({url:t});return(0,l.jsx)(r.xu,{marginStart:1,children:(0,l.jsx)(r.ZP,{color:"red",fullWidth:!0,href:t,onClick:this.handleComplete,rel:n?"nofollow":"none",target:"blank",text:e.text})},e.text)}})}),heading:n,onDismiss:this.handleDismiss,size:"sm",children:(0,l.jsx)(r.xu,{ref:i,padding:3,children:(0,l.jsx)(r.xv,{children:t})})})}}function eG(e){(0,i.Z)("ExternalSurvey","/app/packages/experiences/Experiences/ExperienceSurvey/ExternalSurvey.tsx");let t=(0,o.Z)();return(0,l.jsx)(eX,{...e,i18n:t})}var eQ=n(616550);function eY(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class eV extends m.Component{constructor(...e){super(...e),eY(this,"isOnClose",this.props.onCloseEnabled&&2===this.props.actionTrigger),eY(this,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:this.isOnClose}),eY(this,"loadSurvey",(e=!0)=>{let{onView:t}=this.props;e&&t(),this.setState({surveyLoaded:!0})}),eY(this,"processIFrameMessage",e=>{let{presentationDelay:t=5e3,onComplete:n,surveyLink:i,onCloseEnabled:r}=this.props,s=e.origin||e.originalEvent.origin;i.startsWith(s)&&("surveyFinished"===e.data?n():"surveyLoaded"===e.data&&(window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.showSurveyOnLeavingPage(),r?this.actionTriggerHandler():this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)))}),eY(this,"handleShowSurvey",()=>{this.setState({surveyAccepted:!0})})}componentDidMount(){window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(()=>{this.state.surveyLoaded||(window.clearTimeout(this.loadSurveyTimeout),this.setState({surveyLoadFailed:!0}))},15e3)}componentWillUnmount(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}actionTriggerHandler(){let{actionTrigger:e,presentationDelay:t=5e3}=this.props;switch(e){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,t)}}showSurveyOnLeavingPage(){let{onView:e,block:t}=this.props;t(()=>{e(),this.setState({showSurveyOnClose:!1})})}render(){let{surveyAccepted:e,surveyLoadFailed:t,surveyLoaded:n,showSurveyOnClose:i}=this.state;if(t)return null;let{acceptButtonText:s,bodyText:o,declineButtonText:a,onDismiss:c,subtitleText:d,surveyLink:p,titleText:u,setObserverRef:x}=this.props,h=(0,l.jsx)("iframe",{"data-test-id":"anket-iframe",src:p,style:e?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame')});return n&&!i?(0,l.jsx)(r.xu,{position:"absolute",zIndex:new r.Ry(1e3),children:(0,l.jsxs)(r.u_,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!e&&(0,l.jsxs)(r.xu,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(r.zx,{fullWidth:!0,onClick:()=>{this.setState({surveyAccepted:!1}),c()},text:a})}),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,l.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:this.handleShowSurvey,text:s})})]}),heading:e?"":u,onDismiss:c,padding:"none",role:"alertdialog",size:e?"lg":"md",children:[(0,l.jsx)(r.xu,{ref:x,children:h}),!e&&(0,l.jsxs)(r.xu,{padding:3,children:[(0,l.jsx)(r.xv,{children:d}),(0,l.jsx)(r.xv,{children:o})]})]})}):h}}let eK=function(e){let t=(0,o.Z)(),n=(0,eQ.k6)(),[i,r]=(0,m.useState)(null),s=(0,m.useRef)(null);return(0,l.jsx)(eV,{...e,block:e=>{s.current=n.block((t,n)=>(r({location:t,action:n}),e(),!1))},i18n:t,onCloseEnabled:!1,unblock:()=>{if(s&&s.current?.(),i){let{location:e,action:t}=i;"PUSH"===t?n.push(`${e.pathname}${e.search}`):"POP"===t&&n.goBack()}}})},eq=e=>{let{complete:t,dismiss:n,view:i,displayData:r}=e,{setObserverRef:s}=(0,W.NQ)(),{anket:o,buttons:a,delay:c,detailed_text:d,subtitle_text:p,title_text:u,action_trigger:x=3}=r,[h,m]=a;return o?(0,l.jsx)(eK,{acceptButtonText:m?.text||"",actionTrigger:x,bodyText:d,declineButtonText:h?.text||"",onComplete:t,onDismiss:n,onView:i,presentationDelay:c,setObserverRef:s,subtitleText:p,surveyLink:m?.uri||"",titleText:u}):(0,l.jsx)(eG,{complete:t,dismiss:n,displayData:r,setObserverRef:s,view:i})},eJ=e=>{let{experienceId:t,displayData:n}=e,{delay:i=0}=n,r={...n,delay:0},s={...e,displayData:{...r}},o=(0,m.useRef)(void 0),[a,c]=(0,m.useState)(!1);return(0,m.useEffect)(()=>{let e=["/pin-builder","/idea-pin-builder"],t=e=>window.location.pathname.includes(e),n=()=>{e.some(t)?o.current=setTimeout(()=>n(),3e3):c(!0)};return o.current=setTimeout(()=>n(),i),()=>{clearTimeout(o.current)}},[t,i]),a?(0,l.jsx)(eq,{...s}):null};function e0(e){(0,i.Z)("ExperienceSurvey","/app/packages/experiences/Experiences/ExperienceSurvey/ExperienceSurvey.tsx");let{placementId:t,experience:n,targeting:r,eligibleIds:s}=e,{enableExperienceSession:o,endOnSurfaceChange:a}=(0,W.jQ)(t,{rollout_experiment:1});return(0,l.jsx)(d.ZP,{disableAutoView:!0,eligibleIds:s||[],eligibleTypes:[5],enableExperienceSession:o,experience:n,placementId:t,sessionEndOnSurfaceChange:a,targeting:r,children:({complete:e,dismiss:n,view:i,experience:r})=>{let s=r.display_data,o=r.experience_id;return 1000421===t?(0,l.jsx)(eJ,{complete:e,dismiss:n,displayData:s,experienceId:o,view:i}):(0,l.jsx)(eq,{complete:e,dismiss:n,displayData:s,experienceId:o,view:i})}})}var e1=n(475498);let e2=e=>{(0,i.Z)("ExperienceToast","/app/packages/experiences/Experiences/ExperienceToast/ExperienceToast.tsx");let{logContextEvent:t}=(0,s.u)();return(0,l.jsx)(d.ZP,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:({complete:n,dismiss:i,experience:{display_data:r}})=>{let s=r.link||e.linkUrl;return(0,l.jsx)(e1.Z,{duration:r.duration,href:s,onClick:()=>{n(),e.onClick&&e.onClick(),e.shouldLogClicks&&e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})},onHide:()=>{e.onHide(),e.completionOnDismissal?n():i()},text:r.text||""})}})};var e3=n(87853);function e4(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class e5 extends m.Component{constructor(...e){super(...e),e4(this,"componentDidMount",()=>{let{delay:e=2e3}=this.props;this.experienceToastsTimeout=window.setTimeout(()=>this.triggerEducationToasts(),e)})}componentWillUnmount(){window.clearTimeout(this.experienceToastsTimeout)}triggerEducationToasts(){let{toastManagerContext:e,completionOnDismissal:t,placementId:n,experienceIds:i}=this.props;e.showToast(({hideToast:e})=>(0,l.jsx)(e2,{completionOnDismissal:t,eligibleIds:i,onHide:e,placementId:n,shouldLogClicks:!1}))}render(){return null}}function e6(e){return(0,i.Z)("ExperienceToastLaunchWrapper","/app/packages/experiences/Experiences/ExperienceToast/ExperienceToastLaunchWrapper.tsx"),(0,l.jsx)(e5,{...e,toastManagerContext:(0,e3.dI)()})}function e8(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e4(e5,"defaultProps",{completionOnDismissal:!1});class e9 extends m.PureComponent{constructor(...e){super(...e),e8(this,"onScroll",()=>{let{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout(()=>{e(),this.dismissed=!0,this.timer=void 0},3e3))}),e8(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){let{anchor:e,text:t,thumbnails:n,idealDirection:i,forceDirection:s}=this.props,o=n.slice(-3);return(0,l.jsx)(r.J2,{anchor:e,color:"white",forceDirection:s,idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,l.jsxs)(r.xu,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,l.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,l.jsx)(r.xv,{color:"default",weight:"bold",children:t})}),(0,l.jsx)(r.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map(e=>(0,l.jsx)(r.xu,{height:60,paddingX:1,width:50,children:(0,l.jsx)(r.zd,{height:60,rounding:2,children:(0,l.jsx)(r.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e))})]})})}}var e7=n(14890),te=n(603316);let tt=()=>{let e=(0,g.TH)(),t=(0,w.v9)(e=>e.experiences),n=(e,n,i,r,s=!0,o,l)=>{let{shouldRefresh:a,refreshReasoning:c}=(0,S.nR)(i,n,o,t[i],r,s);a||(e[i]=t[i]),l&&(0,te.nP)(`${l}.${a?"refreshed":"not_refreshed"}`,{tags:{placementId:i,refreshReasoning:c}})};return{checkPlacementForRefresh:(t,i,r,s={})=>{let{dontRefreshSSRPlacements:o=!1,experimentType:l,checkIfMounted:a=!1}=s;n(t,i,r,o,a,(0,S.Cv)(e),l)},checkSurfaceForRefresh:(t,i,r={})=>{let{dontRefreshSSRPlacements:s=!1,experimentType:o,checkIfMounted:l=!0}=r,a=(0,S.Cv)(e);a&&a.placements.forEach(e=>{n(t,i,e,s,l,a,o)})}}};var tn=n(533363),ti=n(9139),tr=n(274320);function ts({children:e}){let{checkExperiment:t}=(0,tr.r)(),n=(0,m.useRef)({}),i=(0,m.useCallback)((e,t)=>{e&&!n.current[e]&&(0,te.nP)("experience_framework_unmounted_placement_used",{sampleRate:.1,tags:{placementId:e,experienceId:t||"none"}})},[n]),r=(0,m.useCallback)((e,t)=>{n.current[e]=t},[n]),[s,o]=(0,m.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let n={...e};return delete n.mountedPlacements[t.payload],delete n.registeredAfterActionPlacements[t.payload],n}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registeredAfterActionPlacements:{...e.registeredAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registeredAfterActionPlacements:{}}),{mountedPlacements:a,registeredAfterActionPlacements:c}=s,d=(0,w.I0)(),p=(0,w.v9)(e=>e.experiences),u=(0,C.be)(),x=(0,C.Am)(),h=(0,C.Ig)(),f=(()=>{let e=(0,w.I0)(),t=(0,w.v9)(e=>e.experiences),{checkPlacementForRefresh:n}=tt();return async(i,r,s,o,l=!1)=>{var a;try{o&&(0,tn.Af)(o);{e((0,tn.kd)(i,s));let{shouldFetch:c,logValues:d}=(0,S.Qs)(t,s,i);if(c)try{a=t[i]?.id||"unknown",d.currentExperienceInPlacement&&d.experienceRenderable&&!d.sameContext&&(0,te.nP)("experience_framework_web_mount_placement_refresh_limiting_v2.experience_overwrite",{tags:{placementId:i,experienceOverwritten:a}});let{resource_response:c}=await (0,tn.Al)([i],!1,s,o)||{},{data:p}=c||{};n(p,r,i,{experimentType:"experience_framework_web_mount_placement_refresh_limiting_v2",dontRefreshSSRPlacements:l}),e((0,ti.cL)(p))}catch(e){(0,te.nP)("experience_framework_web_mount_placement_refresh_limiting_v2.network_errors",{sampleRate:.1,tags:{placementId:i,type:e instanceof Error?e.name:"unknown"}})}else(0,te.nP)("experience_framework_web_mount_placement_refresh_limiting_v2.should_not_fetch",{sampleRate:1,tags:{placementId:i,currentExperienceInPlacement:d.currentExperienceInPlacement,hasExtraContext:d.hasExtraContext,sameContext:d.sameContext,experienceRenderable:d.experienceRenderable}})}}catch(e){(0,te.nP)("experience_framework_web_mount_placement_refresh_limiting_v2.unexpected_errors",{sampleRate:.1,tags:{placementId:i,type:e instanceof Error?e.name:"unknown"}})}}})(),{checkSurfaceForRefresh:g}=tt(),y=async(e,t,n=!1)=>{try{let{resource_response:i}=await (0,C.x4)(e,t),{data:r}=i||{};r&&(g(r,s,{dontRefreshSSRPlacements:n,experimentType:"experience_framework_home_feed_init_fetch"}),d((0,ti.OD)(r)))}catch(e){(0,te.nP)("experience_framework_home_feed_init_fetch.error",{tags:{type:e instanceof Error?e.name:"unknown"}})}},b=(e,t,n)=>{let{isExperienceInitFetch:i,dontRefreshSSRPlacements:r}=n||{};i?y(e,t,r):d((0,C.fO)(e,t))},v=(0,m.useMemo)(()=>({...(0,e7.bindActionCreators)({completeExperience:u,dismissExperience:x,fetchAllExperiencesMulti:C.NW,fetchExperienceForPlacements:C.pz,mountPlacement:C.N,triggerExperimentsForPlacement:C.kd,viewExperience:h},d),fetchAllExperiences:b,mountPlacement:(e,...n)=>{((e,n,i,r=!1)=>{t("experience_framework_web_mount_placement_refresh_limiting_v2").anyEnabled?f(e,s,n,i,r):d((0,C.N)(e,n,i))})(e,...n),o({type:"MOUNT_PLACEMENT",payload:e})},unmountPlacement:e=>{o({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{o({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})},checkUsePlacementCalls:i,setUsePlacementCalls:r}),[u,x,d,o,h]),E=(0,m.useMemo)(()=>({experiences:p,mountedPlacements:a,registeredAfterActionPlacements:c,...v}),[p,a,c,v]);return(0,l.jsx)(_.L$,{value:E,children:e})}var to=n(341742);function tl(e){let{extra_context:t,targeting:n}=e,i=(0,Z.Z)();return(0,to.Z)(()=>{i.fetchAllExperiences(t,n,{dontRefreshSSRPlacements:!0,isExperienceInitFetch:!0}),i.fetchAllExperiencesMulti()}),null}let ta=({placementId:e})=>{(0,i.Z)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx");let{experienceForPlacement:t}=(0,Z.Z)(e),{unmountPlacement:n,registerAfterActionPlacement:r}=(0,_.ZP)();return(0,m.useEffect)(()=>(r(e),()=>{n(e)}),[e,n,r]),(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(eS,{experience:t}),(0,l.jsx)(e0,{experience:t}),(0,l.jsx)(el,{experience:t})]})};var tc=n(998212);let td=({placementId:e})=>{(0,i.Z)("ExperiencesAfterClickthrough","/app/packages/experiences/Framework/ExperiencesAfterClickthrough.tsx");let t=E(),n=(0,tc.Z)();return(0,m.useEffect)(()=>{let e=e=>{let{clickthroughProperties:n,offsiteTimedPair:i}=e;(n?.aux_data?.time_to_offsite??5e8)<5e8&&t("Clickthrough",{is_promoted:n?.aux_data?.is_promoted,pin_id:n?.object_id_str,clickthrough_duration_ns:i?.duration})};return e&&n?.onOffsiteEnd(e),()=>{e&&n?.removeOnOffsiteEnd(e)}},[t,n]),(0,l.jsx)(ta,{placementId:e})},tp=({abortNoActionPlacementTimeout:e,extraContext:t,placementId:n})=>{(0,i.Z)("ExperiencesAfterNoAction","/app/packages/experiences/Framework/ExperiencesAfterNoAction.tsx");let r=E();return!function(e,t){let n=(0,m.useRef)(0),i=(0,m.useRef)(e);(0,m.useEffect)(()=>{i.current=e},[e]),(0,m.useEffect)(()=>{if("number"==typeof t)return n.current=window.setTimeout(()=>i.current(),t),()=>window.clearTimeout(n.current)},[t])}(()=>{r("NoAction",t)},e?null:4e3),(0,l.jsx)(ta,{placementId:n})};function tu(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tx extends m.Component{constructor(...e){super(...e),tu(this,"dismissRef",(0,m.createRef)()),tu(this,"state",{paused:!1}),tu(this,"dismissCb",()=>{this.dismissRef.current?.()})}componentWillUnmount(){let{anchor:e}=this.props;this.timer&&clearTimeout(this.timer),e?.removeEventListener("click",this.dismissCb)}setDefaultTooltip(e){e.has_tooltip=null==e.has_tooltip||e.has_tooltip}getText(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}render(){(0,i.Z)("ExperienceTooltip","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltip.tsx");let{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:s,fontSize:o,forceDirection:a,hasFullWidthButton:c=!0,idealDirection:p,useMasonryFlyout:u,noClickToDismiss:x,onClickComplete:h,onClickDismiss:f,placementId:g,shouldTimeoutDismiss:_,textAlign:y,textOverflow:b,textOverrideFn:v,textWeight:E,customizedComplete:w,advertiserId:j,dismissButtonLocation:C,dismissButtonMarginTop:k,zIndex:P}=this.props,A=t||(({children:e})=>u?(0,l.jsx)(r.mh,{children:e}):e);return(0,l.jsx)(d.ZP,{eligibleIds:n,eligibleTypes:[8],placementId:g,targeting:j?{advertiserId:parseInt(j,10)}:null,children:({complete:t,dismiss:n,experience:i})=>{let{display_data:{scroll_to_dismiss:d,scroll_to_dismiss_delay_in_seconds:u=0,...g}}=i,j=d&&e,Z=()=>{T(),this.timer||(this.timer=setTimeout(n,1e3*u))},T=()=>{j&&(window.removeEventListener("scroll",Z),window.removeEventListener("touchmove",Z))},S=()=>{T(),t()};return(j&&(window.addEventListener("scroll",Z),window.addEventListener("touchmove",Z)),this.setDefaultTooltip(g),g.has_tooltip)?(_&&g.disappearTime&&g.disappearTime>0&&(this.timer=setTimeout(()=>(Z(),null),g.disappearTime)),g.has_tooltip&&(this.dismissRef.current=Z,e?.addEventListener("click",this.dismissCb)),(0,l.jsx)(m.Fragment,{children:g.has_tooltip&&!this.state.paused&&(g.thumbnail_urls?(0,l.jsx)(e9,{anchor:e,dismiss:Z,forceDirection:a,idealDirection:p||"down",text:g.text,thumbnails:g.thumbnail_urls}):(0,l.jsx)(A,{children:(0,l.jsx)(r.pl,{anchor:e,forceDirection:a,idealDirection:p||"down",onDismiss:x?()=>{}:Z,shouldFocus:!1,size:"sm",zIndex:P,children:(0,l.jsxs)(r.xu,{column:12,padding:3,children:[(0,l.jsxs)(r.xv,{align:"right"===y?"end":y,color:"light",overflow:b,size:o,weight:E||"bold",children:[this.getText(g,s,v),g.secondary_cta_link&&(0,l.jsx)(r.xu,{display:"inlineBlock",marginStart:1,children:(0,l.jsx)(r.xv,{color:"light",size:o,weight:"bold",children:(0,l.jsx)(r.rU,{display:"inlineBlock",href:g.secondary_cta_link.url,target:"blank",underline:"hover",children:g.secondary_cta_link.text})})})]}),g.sub_text&&(0,l.jsx)(r.xu,{paddingY:2,children:(0,l.jsx)(r.xv,{color:"light",size:o,children:g.sub_text})}),(g.dismiss_button_text||g.complete_button_text)&&(0,l.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:C||"start",marginTop:k||2,children:[g.dismiss_button_text&&(0,l.jsx)(r.xu,{column:6,marginEnd:1,children:(0,l.jsx)(r.zx,{color:"white",fullWidth:c,onClick:()=>{f&&f(),Z()},size:"md",text:g.dismiss_button_text})}),g.complete_button_text&&(0,l.jsx)(r.xu,{column:g.dismiss_button_text?6:12,children:w?(0,l.jsx)(r.iP,{fullHeight:!0,onTap:()=>{S(),h&&h()},rounding:2,children:(0,l.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:2,children:(0,l.jsx)(r.xv,{color:"light",weight:"bold",children:g.complete_button_text})})}):(0,l.jsxs)(r.kC,{justifyContent:"center",children:[g.complete_button_cta_url&&(0,l.jsx)(r.ZP,{color:"white",fullWidth:c,href:g.complete_button_cta_url,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),S(),h&&h()},size:"md",target:g.complete_button_cta_url?"blank":null,text:g.complete_button_text}),!g.complete_button_cta_url&&(0,l.jsx)(r.zx,{color:"white",fullWidth:c,onClick:()=>{S(),h&&h()},size:"md",text:g.complete_button_text})]})})]})]})})}))})):(S(),null)}})}}tu(tx,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0});let th=new r.Ry(669),tm={1:"up",2:"right",3:"down",4:"left"},tf=({anchors:e={},complete:t,dismiss:n,displayData:s,idealDirection:o,platform:a,touchToDismiss:c=!0,useMasonryFlyout:d=!1})=>{(0,i.Z)("Tooltip","/app/packages/experiences/Experiences/ExperienceTooltip/tooltip/Tooltip.tsx");let{anchors_by_platform:p,button_text:u,button_uri:x,display_type:h,flyout_direction:f,scroll_to_dismiss:g,scroll_to_dismiss_delay_in_seconds:_=0,text:y}=s||{},b=e[p[a]?.anchor],v=(0,m.useCallback)(()=>{g&&(window.removeEventListener("scroll",v),window.removeEventListener("touchmove",v)),c&&b&&b.removeEventListener("click",v),setTimeout(()=>n(),1e3*_)},[b]);if((0,m.useEffect)(()=>{b&&(g&&(window.addEventListener("scroll",v),window.addEventListener("touchmove",v)),c&&b.addEventListener("click",v))},[b]),!b)return null;let E=tm[f],w=x&&(x.startsWith("https://")||x.startsWith("http://")),j=()=>{g&&(window.removeEventListener("scroll",v),window.removeEventListener("touchmove",v)),c&&b.removeEventListener("click",v),t()};return(0,l.jsx)(m.Fragment,{children:1===h&&(0,l.jsx)(({children:e})=>d?(0,l.jsx)(r.mh,{zIndex:th,children:e}):(0,l.jsx)(r.xu,{zIndex:th,children:e}),{children:(0,l.jsx)(r.pl,{anchor:b,idealDirection:E||o||"down",onDismiss:v,shouldFocus:!1,size:"sm",children:(0,l.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,l.jsx)(r.xv,{align:"center",color:"light",weight:"bold",children:y}),u?(0,l.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,l.jsx)(r.xu,{column:8,children:x?(0,l.jsx)(r.ZP,{color:"white",fullWidth:!0,href:x,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),j()},size:"md",target:w?"blank":null,text:u}):(0,l.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:j,size:"md",text:u})})}):null]})})})})},tg=({anchors:e,idealDirection:t,onCompleteByAnchor:n,placementId:r,positionRelativeToAnchor:s,touchToDismiss:o,useMasonryFlyout:a})=>{(0,i.Z)("ExperienceTooltipAnchor","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltipAnchor.tsx");let c=(0,v.ml)();return(0,l.jsx)(d.ZP,{placementId:r,predicate:t=>{let{display_data:n}=t;if(n?.component_type===2){let{anchors_by_platform:t}=n;if(t?.web){let{anchor:n,placement:i}=t.web;return i===r&&n in e}}return!1},children:({complete:i,dismiss:r,experience:d})=>(0,l.jsx)(tf,{anchors:e,complete:i,dismiss:r,displayData:d.display_data,idealDirection:t,onCompleteByAnchor:n,platform:c?"web_mobile":"web",positionRelativeToAnchor:s,touchToDismiss:o,useMasonryFlyout:a})})};class t_ extends m.Component{constructor(...e){var t,n,i;super(...e),n={paused:!1},(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?i:i+"")in this?Object.defineProperty(this,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):this[t]=n}componentDidMount(){this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}renderFlyout(e){let{anchor:t,flyoutSize:n,idealDirection:i}=this.props;return(0,l.jsx)(r.pl,{anchor:t,idealDirection:i||"down",message:e,onDismiss:()=>{},size:n})}render(){(0,i.Z)("ExperienceTooltipNoButtons","/app/packages/experiences/Experiences/ExperienceTooltip/ExperienceTooltipNoButtons.tsx");let{experienceIds:e,placementId:t,shouldTimeoutDismiss:n}=this.props;return(0,l.jsx)(d.ZP,{eligibleIds:e,eligibleTypes:[8],placementId:t,children:({complete:e,dismiss:t,experience:i})=>{this.experience=i;let{display_data:s}=i;return s.has_tooltip?(n&&s.disappearTime&&s.disappearTime>0&&(this.timer=setTimeout(()=>(t(),null),s.disappearTime)),(0,l.jsx)(r.xu,{"data-test-id":"experience-tooltip-no-buttons",zIndex:new r.Ry(10),children:s.has_tooltip&&!this.state.paused&&this.renderFlyout(s.text)})):(e(),null)}})}}function ty(e){(0,i.Z)("PinnerUpgradeToBusinessBanner","/app/packages/experiences/Experiences/ExperienceUpsellPinnersToPartner/PinnerUpgradeToBusinessBanner.tsx");let t=(0,o.Z)(),{handleComplete:n,handleDismiss:s}=e;return(0,l.jsx)(r.xu,{marginBottom:2,marginEnd:"auto",marginStart:"auto",marginTop:2,width:"55%",children:(0,l.jsx)(r.XA,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:s},imageData:{component:(0,l.jsx)(r.JO,{accessibilityLabel:"graph",color:"default",icon:"graph-bar",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n,role:"link"},title:t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}let tb=({placementId:e})=>((0,i.Z)("ExperiencePinnerUpgradeToBusinessBanner","/app/packages/experiences/Experiences/ExperienceUpsellPinnersToPartner/ExperiencePinnerUpgradeToBusinessBanner.tsx"),(0,l.jsx)(d.ZP,{eligibleIds:[503755],placementId:e,children:({complete:e,dismiss:t})=>(0,l.jsx)(ty,{handleComplete:e,handleDismiss:t})}))},678213:function(e,t,n){n.d(t,{JN:()=>p,Vf:()=>u,ZM:()=>a,b2:()=>c,b7:()=>l,i_:()=>d});var i=n(20256),r=n(883817),s=n(667835),o=n(252564);let l=new i.Ry(1e3),a=new i.H3([o.Z,r.B_]),c=new i.H3([a]),d=12,p=({variant:e,isDarkMode:t})=>{let n=t?s.N$:"#FFFFFF";return{__style:"fullpage"===e?{backgroundColor:n,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,zIndex:1,overflowY:"hidden"}:"fullscreen"===e?{backgroundColor:n,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===e?{backgroundColor:n,border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",overflow:"hidden",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===e?{backgroundColor:n,border:t?void 0:"1px solid #efefef",borderRadius:"32px 32px 0 0",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===e||"euPrompt"===e?{backgroundColor:n,border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"euPrompt"===e?"5%":"8px",right:"euPrompt"===e?"5%":"8px",overflow:"auto"}:"repinPage"===e?{backgroundColor:t?s.k7:"#FFFFFF",borderRadius:"32px 32px 0 0",border:t?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:{backgroundColor:n,borderRadius:"32px 32px 0 0",border:t?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}}},u=({isFullscreen:e,isTablet:t,isShowing:n,isRelatedInterestsModal:i,isDarkMode:r})=>{let s={border:r?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},o=n?"translateY(0)":"translateY(100vh)";return s.height=e?"100vh":"",t&&i&&(s={...s,width:425,left:"50%",transform:"translateX(-50%)"},o=n?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:{...s,transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:o}}}},226967:function(e,t,n){n.d(t,{Z:()=>i});function i(e){if(!e)return!1;let t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},13020:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t,n=28){if(!e?.resurrection_info&&!(t?.isAuth&&t.resurrectionInfo))return!1;let r=t?t.isAuth&&t.resurrectionInfo?.resurrectionDate:e?.resurrection_info?.resurrection_dt,s=new Date,o=r?new Date(r):s;return o.setDate(o.getDate()+n),new Date().getTime()<o.getTime()}},765533:function(e,t,n){n.d(t,{Z:()=>i});let i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},898462:function(e,t,n){n.d(t,{Z:()=>function e(t,n=!1){return r=>{if(!(0,i.Z)(r))if(n&&Array.isArray(r))return r.map(e(t,n));else return r;let s={};return Object.keys(r).forEach(o=>{let l=t(r[o],o);(0,i.Z)(r[o])||n&&Array.isArray(r[o])?s[l]=e(t,n)(r[o]):s[l]=r[o]}),s}}});var i=n(612647)},949044:function(e,t,n){n.d(t,{Z:()=>r});var i=n(898462);function r(e,t=!1){let n=(t,n)=>e(n);return e=>(0,i.Z)(n,t)(e)}},600861:function(e,t,n){n.d(t,{i:()=>i});let i={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},32937:function(e,t,n){n.d(t,{Z:()=>a});var i=n(281098),r=n(765533),s=n(519404),o=n(785893);let l=()=>{};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:a,children:c}){(0,i.Z)("StopEventPropagation","/app/packages/stop-event-propagation/StopEventPropagation.tsx");let d=e=>{t&&e.keyCode===r.Z.ESCAPE||(0,s.Z)(e)};return(0,o.jsx)("div",{onAbort:s.Z,onAnimationEnd:s.Z,onAnimationIteration:s.Z,onAnimationStart:s.Z,onBlur:l,onCanPlay:n?l:s.Z,onCanPlayThrough:s.Z,onChange:s.Z,onClick:e?l:s.Z,onCompositionEnd:s.Z,onCompositionStart:s.Z,onCompositionUpdate:s.Z,onContextMenu:s.Z,onCopy:s.Z,onCut:s.Z,onDoubleClick:s.Z,onDurationChange:s.Z,onEmptied:s.Z,onEncrypted:s.Z,onEnded:s.Z,onError:s.Z,onFocus:l,onInput:s.Z,onInvalid:s.Z,onKeyDown:d,onKeyPress:d,onKeyUp:d,onLoad:s.Z,onLoadedData:s.Z,onLoadedMetadata:s.Z,onLoadStart:s.Z,onMouseDown:s.Z,onMouseEnter:s.Z,onMouseLeave:s.Z,onMouseMove:e?l:s.Z,onMouseOut:s.Z,onMouseOver:s.Z,onMouseUp:e?l:s.Z,onPaste:s.Z,onPause:s.Z,onPlay:s.Z,onPlaying:s.Z,onProgress:s.Z,onRateChange:s.Z,onScroll:a?l:s.Z,onSeeked:s.Z,onSeeking:s.Z,onSelect:s.Z,onStalled:s.Z,onSubmit:s.Z,onSuspend:s.Z,onTimeUpdate:s.Z,onTouchCancel:s.Z,onTouchEnd:e?l:s.Z,onTouchMove:e?l:s.Z,onTouchStart:e?l:s.Z,onTransitionEnd:s.Z,onVolumeChange:s.Z,onWaiting:s.Z,onWheel:s.Z,children:c})}},519404:function(e,t,n){n.d(t,{Z:()=>i});let i=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},998212:function(e,t,n){n.d(t,{$:()=>i,Z:()=>s});let{Provider:i,getMaybe:r}=(0,n(729434).Z)("TimeSpentManagerContext"),s=r},875723:function(e,t,n){n.d(t,{Z:()=>d});var i=n(281098),r=n(667294),s=n(20256),o=n(364843),l=n(19585),a=n(369416),c=n(785893);function d({color:e="dark",completeButtonText:t,completeUrl:n,dismissButtonText:d,experienceId:p,external:u,message:x,onComplete:h,onDismiss:m}){(0,i.Z)("Banner","/app/packages/ui/Banner.tsx");let f=(0,l.Z)(),g=(0,r.useRef)(null),_=x&&!t,y=500735===p,b=t&&(!n||y)&&(0,c.jsx)(s.zx,{color:"white",onClick:({event:e})=>{h&&h(e)},text:t}),v=t&&n&&(0,c.jsx)(o._7,{anchor:".HomeButton2",anchorElementRef:g.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,c.jsx)(s.ZP,{ref:g,accessibilityLabel:t,color:"white",href:n,onClick:({event:e})=>{h&&h(e)},rel:u?"nofollow":"none",size:"md",text:t})}),E=d&&m&&(0,c.jsx)(s.xu,{mdPaddingX:2,children:(0,c.jsx)(s.zx,{color:"shopping"===e?"white":"gray",onClick:({event:e})=>{m&&m(e)},text:d})}),w=_&&!y&&m&&!d&&(0,c.jsx)(s.hU,{accessibilityLabel:f._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"lightGray",icon:"cancel",iconColor:"gray",onClick:({event:e})=>{m&&m(e)},size:"md"});return(0,c.jsxs)(s.xu,{alignItems:"center",color:e,direction:"column",display:"flex",justifyContent:"between",paddingX:6,paddingY:3,smDirection:"row",children:[(0,c.jsx)(s.xu,{column:12,smColumn:_?11:8,children:(0,c.jsxs)(s.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,c.jsx)(a.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,c.jsx)("div",{className:"Banner--message",children:(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:x}})})]})}),(0,c.jsxs)(s.kC,{alignItems:"center",justifyContent:"end",children:[E,b||v,w]})]})}},76774:function(e,t,n){n.d(t,{Q:()=>p,m:()=>u}),n(281098);var i=n(667294),r=n(581722),s=n(729434),o=n(821342),l=n(226967),a=n(13020),c=n(785893);let{Provider:d,get:p}=(0,s.Z)("NavFooterContext");function u({children:e}){let[t,n]=(0,i.useState)(),[s,p]=(0,i.useState)(!1),[u,x]=(0,i.useState)(0),[h,m]=(0,i.useState)(!1),[f,g]=(0,i.useState)(!1),[_,y]=(0,i.useState)(!1),[b,v]=(0,i.useState)(!1),E=(0,a.Z)(null,(0,o.Z)()),w=(0,r.v9)(e=>e.session.isAuthenticated),j=(0,r.v9)(e=>w?e.users[e.session.userId]:void 0),C=(0,l.Z)(j?.created_at);return(0,c.jsx)(d,{value:{forceShowNavFooter:_,homeFlyoutText:t,isNavFooterHiddenAfterScroll:s,isNavFooterHiddenByPinActionBar:b,navFooterHeight:s?0:w&&(E||C)?64:52,numUnauthSavedPins:u,setForceShowNavFooter:y,setHomeFlyoutText:n,setIsNavFooterHiddenAfterScroll:p,setIsNavFooterHiddenByPinActionBar:v,setNumUnauthSavedPins:x,setShowHomeBadge:m,setShowHomeFlyoutWithButton:g,showHomeBadge:h,showHomeFlyoutWithButton:f},children:e})}},252564:function(e,t,n){n.d(t,{Z:()=>s,w:()=>o});var i=n(20256),r=n(635459);let s=new i.H3([r.Z]),o=160},635459:function(e,t,n){n.d(t,{Z:()=>s});var i=n(20256),r=n(35333);let s=new i.H3([r.eu])},35333:function(e,t,n){n.d(t,{eu:()=>s,sp:()=>o,xh:()=>r});var i=n(20256);let r=2,s=new i.Ry(1),o=new i.Ry(1)}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/60471-2157c55e76201abf.mjs.map